{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{BraP:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return P}),n.d(e,\"b\",function(){return O}),n.d(e,\"c\",function(){return C}),n.d(e,\"d\",function(){return x}),n.d(e,\"e\",function(){return I}),n.d(e,\"f\",function(){return S}),n.d(e,\"g\",function(){return w}),n.d(e,\"h\",function(){return m}),n.d(e,\"i\",function(){return p});var i=n(\"mrSG\"),o=n(\"CcnG\"),r=n(\"gIcY\"),s=n(\"P6uZ\"),a=n(\"Gi3i\"),u=n(\"VnD/\"),d=n(\"67Y/\"),p=(n(\"ihYY\"),function(){function t(){}return t.prototype.transform=function(t,e){if(!e.trim())return t;try{var n=new RegExp(\"(\"+e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")+\")\",\"i\");return t.replace(n,\"<b>$1</b>\")}catch(i){return t}},t}()),l=\"keydown\",h=\"keyup\",c={8:\"DELETE\",37:\"SWITCH_PREV\",39:\"SWITCH_NEXT\",9:\"TAB\"},m=function(){function t(){this.state={dragging:!1,dropping:!1,index:void 0}}return t.prototype.setDraggedItem=function(t,e){t&&t.dataTransfer&&t.dataTransfer.setData(\"Text\",JSON.stringify(e))},t.prototype.getDraggedItem=function(t){if(t&&t.dataTransfer){var e=t.dataTransfer.getData(\"Text\");try{return JSON.parse(e)}catch(n){return}}},t.prototype.setSender=function(t){this.sender=t},t.prototype.setReceiver=function(t){this.receiver=t},t.prototype.onTagDropped=function(t,e,n){this.onDragEnd(),this.sender.onRemoveRequested(t,e),this.receiver.onAddingRequested(!1,t,n)},t.prototype.setState=function(t){this.state=Object(i.__assign)({},this.state,t)},t.prototype.getState=function(t){return t?this.state[t]:this.state},t.prototype.onDragEnd=function(){this.setState({dragging:!1,dropping:!1,index:void 0})},t}(),f={tagInput:{separatorKeys:[],separatorKeyCodes:[],maxItems:1/0,placeholder:\"+ Tag\",secondaryPlaceholder:\"Enter a new tag\",validators:[],asyncValidators:[],onlyFromAutocomplete:!1,errorMessages:{},theme:\"\",onTextChangeDebounce:250,inputId:null,inputClass:\"\",clearOnBlur:!1,hideForm:!1,addOnBlur:!1,addOnPaste:!1,pasteSplitPattern:\",\",blinkIfDupe:!0,removable:!0,editable:!1,allowDupes:!1,modelAsStrings:!1,trimTags:!0,ripple:!0,tabIndex:\"\",disable:!1,dragZone:\"\",onRemoving:void 0,onAdding:void 0,displayBy:\"display\",identifyBy:\"value\",animationDuration:{enter:\"250ms\",leave:\"150ms\"}},dropdown:{displayBy:\"display\",identifyBy:\"value\",appendToBody:!0,offset:\"50 0\",focusFirstElement:!1,showDropdownIfEmpty:!1,minimumTextLength:1,limitItemsTo:1/0,keepOpen:!0,dynamicUpdate:!0,zIndex:1e3,matchingFn:function(t,e){var n=e[this.displayBy].toString();return n&&n.toLowerCase().indexOf(t.toLowerCase())>=0}}},g=function(){function t(){}return t.prototype.setOptions=function(e){t.defaults.tagInput=Object(i.__assign)({},f.tagInput,e.tagInput),t.defaults.dropdown=Object(i.__assign)({},f.dropdown,e.dropdown)},t.defaults=f,t}();function y(t){return t===Object(t)}var v=function(){function t(){this._items=[],this.displayBy=g.defaults.tagInput.displayBy,this.identifyBy=g.defaults.tagInput.identifyBy}return Object.defineProperty(t.prototype,\"items\",{get:function(){return this._items},set:function(t){this._items=t,this._onChangeCallback(this._items)},enumerable:!0,configurable:!0}),t.prototype.onTouched=function(){this._onTouchedCallback()},t.prototype.writeValue=function(t){this._items=t||[]},t.prototype.registerOnChange=function(t){this._onChangeCallback=t},t.prototype.registerOnTouched=function(t){this._onTouchedCallback=t},t.prototype.getItemValue=function(t,e){void 0===e&&(e=!1);var n=e&&this.dropdown?this.dropdown.identifyBy:this.identifyBy;return y(t)?t[n]:t},t.prototype.getItemDisplay=function(t,e){void 0===e&&(e=!1);var n=e&&this.dropdown?this.dropdown.displayBy:this.displayBy;return y(t)?t[n]:t},t.prototype.getItemsWithout=function(t){return this.items.filter(function(e,n){return n!==t})},t}();function b(t,e,n){if(void 0===n&&(n=!0),!this.listeners.hasOwnProperty(t))throw new Error(\"The event entered may be wrong\");n&&this.listeners[t].push(e)}var I=function(){function t(){this.onSubmit=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onKeyup=new o.EventEmitter,this.onKeydown=new o.EventEmitter,this.inputTextChange=new o.EventEmitter,this.validators=[],this.asyncValidators=[],this.tabindex=\"\",this.disabled=!1,this.item=new r.FormControl({value:\"\",disabled:this.disabled})}return Object.defineProperty(t.prototype,\"inputText\",{get:function(){return this.item.value},set:function(t){this.item.setValue(t),this.inputTextChange.emit(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.item.setValidators(this.validators),this.item.setAsyncValidators(this.asyncValidators),this.form=new r.FormGroup({item:this.item})},t.prototype.ngOnChanges=function(t){t.disabled&&!t.disabled.firstChange&&(t.disabled.currentValue?this.form.controls.item.disable():this.form.controls.item.enable())},Object.defineProperty(t.prototype,\"value\",{get:function(){return this.form.get(\"item\")},enumerable:!0,configurable:!0}),t.prototype.isInputFocused=function(){var t=\"undefined\"!=typeof document?document:void 0;return!!t&&t.activeElement===this.input.nativeElement},t.prototype.getErrorMessages=function(t){var e=this;return Object.keys(t).filter(function(t){return e.value.hasError(t)}).map(function(e){return t[e]})},t.prototype.hasErrors=function(){var t=this.form;return t.dirty&&t.value.item&&!t.valid},t.prototype.focus=function(){this.input.nativeElement.focus()},t.prototype.blur=function(){this.input.nativeElement.blur()},t.prototype.getElementPosition=function(){return this.input.nativeElement.getBoundingClientRect()},t.prototype.destroy=function(){var t=this.input.nativeElement;t.parentElement.removeChild(t)},t.prototype.onKeyDown=function(t){return this.inputText=this.value.value,\"Enter\"===t.key&&(this.submit(t),this.inputText=\"\"),this.onKeydown.emit(t)},t.prototype.onKeyUp=function(t){return this.inputText=this.value.value,this.onKeyup.emit(t)},t.prototype.submit=function(t){t.preventDefault(),this.form.valid&&this.onSubmit.emit(t)},t}(),w=function(){return function(){this.state=\"none\"}}(),E=\"undefined\"!=typeof window?window.navigator:{userAgent:\"Chrome\",vendor:\"Google Inc\"},T=/Chrome/.test(E.userAgent)&&/Google Inc/.test(E.vendor),O=function(){function t(t,e,n){this.element=t,this.renderer=e,this.cdRef=n,this.disabled=!1,this.onSelect=new o.EventEmitter,this.onRemove=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.onKeyDown=new o.EventEmitter,this.onTagEdited=new o.EventEmitter,this.editing=!1,this.rippleState=\"none\"}return Object.defineProperty(t.prototype,\"readonly\",{get:function(){return\"string\"!=typeof this.model&&!0===this.model.readonly},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this.readonly||this.disabled||(t&&t.stopPropagation(),this.focus(),this.onSelect.emit(this.model))},t.prototype.remove=function(t){t.stopPropagation(),this.onRemove.emit(this)},t.prototype.focus=function(){this.element.nativeElement.focus()},t.prototype.move=function(){this.moving=!0},t.prototype.keydown=function(t){if(this.editing){if(13===t.keyCode)return this.disableEditMode(t)}else this.onKeyDown.emit({event:t,model:this.model})},t.prototype.blink=function(){var t=this.element.nativeElement.classList;t.add(\"blink\"),setTimeout(function(){return t.remove(\"blink\")},50)},t.prototype.toggleEditMode=function(){if(this.editable)return this.editing?void 0:this.activateEditMode()},t.prototype.onBlurred=function(t){var e;if(this.editable){this.disableEditMode();var n=t.target.innerText,o=\"string\"==typeof this.model?n:Object(i.__assign)({},this.model,((e={})[this.displayBy]=n,e));this.onBlur.emit(o)}},t.prototype.getDisplayValue=function(t){return\"string\"==typeof t?t:t[this.displayBy]},Object.defineProperty(t.prototype,\"isRippleVisible\",{get:function(){return!this.readonly&&!this.editing&&T&&this.hasRipple},enumerable:!0,configurable:!0}),t.prototype.disableEditMode=function(t){var e=this.element.nativeElement.classList,n=this.getContentEditableText();this.editing=!1,e.remove(\"tag--editing\"),n?(this.storeNewValue(n),this.cdRef.detectChanges(),t&&t.preventDefault()):this.setContentEditableText(this.model)},t.prototype.isDeleteIconVisible=function(){return!this.readonly&&!this.disabled&&this.removable&&!this.editing},t.prototype.getContentEditableText=function(){var t=this.getContentEditable();return t?t.innerText.trim():\"\"},t.prototype.setContentEditableText=function(t){var e=this.getContentEditable(),n=this.getDisplayValue(t);e.innerText=n},t.prototype.activateEditMode=function(){this.element.nativeElement.classList.add(\"tag--editing\"),this.editing=!0},t.prototype.storeNewValue=function(t){var e;if(\"string\"==typeof(n=this.model)?n!==t:n[this.displayBy]!==t){var n,i=\"string\"==typeof this.model?t:((e={index:this.index})[this.identifyBy]=this.model[this.identifyBy]!==this.model[this.displayBy]?this.model[this.identifyBy]:t,e[this.displayBy]=t,e);this.canAddTag(i)?this.onTagEdited.emit({tag:i,index:this.index}):this.setContentEditableText(this.model)}},t.prototype.getContentEditable=function(){return this.element.nativeElement.querySelector(\"[contenteditable]\")},t}(),x=function(){function t(t){var e=this;this.injector=t,this.offset=f.dropdown.offset,this.focusFirstElement=f.dropdown.focusFirstElement,this.showDropdownIfEmpty=f.dropdown.showDropdownIfEmpty,this.minimumTextLength=f.dropdown.minimumTextLength,this.limitItemsTo=f.dropdown.limitItemsTo,this.displayBy=f.dropdown.displayBy,this.identifyBy=f.dropdown.identifyBy,this.matchingFn=f.dropdown.matchingFn,this.appendToBody=f.dropdown.appendToBody,this.keepOpen=f.dropdown.keepOpen,this.dynamicUpdate=f.dropdown.dynamicUpdate,this.zIndex=f.dropdown.zIndex,this.items=[],this.tagInput=this.injector.get(C),this._autocompleteItems=[],this.show=function(){var t=e.tagInput.items.length===e.tagInput.maxItems,n=e.getFormValue(),i=n.trim().length>=e.minimumTextLength,o=e.calculatePosition(),r=e.getMatchingItems(n),s=r.length>0,a=e.tagInput.disable,u=!1===e.isVisible&&(s&&i||e.showDropdownIfEmpty&&s&&!n),d=e.isVisible&&!s;return e.autocompleteObservable&&i?e.getItemsFromObservable(n):!e.showDropdownIfEmpty&&!n||t||a?e.dropdown.hide():(e.setItems(r),void(u?e.dropdown.show(o):d&&e.hide()))},this.requestAdding=function(t){return Object(i.__awaiter)(e,void 0,void 0,function(){var e;return Object(i.__generator)(this,function(n){switch(n.label){case 0:return e=this.createTagModel(t),[4,this.tagInput.onAddingRequested(!0,e).catch(function(){})];case 1:return n.sent(),[2]}})})},this.resetItems=function(){e.items=[]},this.getItemsFromObservable=function(t){e.setLoadingState(!0),e.autocompleteObservable(t).pipe(Object(s.a)()).subscribe(function(n){e.setLoadingState(!1).populateItems(n),e.setItems(e.getMatchingItems(t)),e.items.length?e.dropdown.show(e.calculatePosition()):e.dropdown.hide()},function(){return e.setLoadingState(!1)})}}return Object.defineProperty(t.prototype,\"autocompleteItems\",{get:function(){var t=this,e=this._autocompleteItems;return e?e.map(function(e){var n;return\"string\"==typeof e?((n={})[t.displayBy]=e,n[t.identifyBy]=e,n):e}):[]},set:function(t){this._autocompleteItems=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.onItemClicked().subscribe(function(e){t.requestAdding(e)}),this.onHide().subscribe(this.resetItems);var e=this.keepOpen;this.tagInput.onTextChange.asObservable().pipe(Object(a.a)(200),Object(u.a)(function(t){return!1!==e||t.length>0})).subscribe(this.show)},t.prototype.updatePosition=function(){var t=this.tagInput.inputForm.getElementPosition();this.dropdown.menu.updatePosition(t,this.dynamicUpdate)},Object.defineProperty(t.prototype,\"isVisible\",{get:function(){return this.dropdown.menu.state.menuState.isVisible},enumerable:!0,configurable:!0}),t.prototype.onHide=function(){return this.dropdown.onHide},t.prototype.onItemClicked=function(){return this.dropdown.onItemClicked},Object.defineProperty(t.prototype,\"selectedItem\",{get:function(){return this.dropdown.menu.state.dropdownState.selectedItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"state\",{get:function(){return this.dropdown.menu.state},enumerable:!0,configurable:!0}),t.prototype.hide=function(){this.resetItems(),this.dropdown.hide()},t.prototype.scrollListener=function(){this.isVisible&&this.dynamicUpdate&&this.updatePosition()},t.prototype.onWindowBlur=function(){this.dropdown.hide()},t.prototype.getFormValue=function(){var t=this.tagInput.formValue;return t?t.toString().trim():\"\"},t.prototype.calculatePosition=function(){return this.tagInput.inputForm.getElementPosition()},t.prototype.createTagModel=function(t){var e,n=\"string\"==typeof t.value?t.value:t.value[this.displayBy],o=\"string\"==typeof t.value?t.value:t.value[this.identifyBy];return Object(i.__assign)({},t.value,((e={})[this.tagInput.displayBy]=n,e[this.tagInput.identifyBy]=o,e))},t.prototype.getMatchingItems=function(t){var e=this;if(!t&&!this.showDropdownIfEmpty)return[];var n=this.tagInput.allowDupes;return this.autocompleteItems.filter(function(i){var o=!n&&e.tagInput.tags.some(function(t){return(\"string\"==typeof t.model?t.model:t.model[e.tagInput.identifyBy])===i[e.identifyBy]});return e.matchingFn(t,i)&&!1===o})},t.prototype.setItems=function(t){this.items=t.slice(0,this.limitItemsTo||t.length)},t.prototype.populateItems=function(t){var e=this;return this.autocompleteItems=t.map(function(t){var n;return\"string\"==typeof t?((n={})[e.displayBy]=t,n[e.identifyBy]=t,n):t}),this},t.prototype.setLoadingState=function(t){return this.tagInput.isLoading=t,this},t}(),C=(window,function(t){function e(e,n){var r,s=t.call(this)||this;return s.renderer=e,s.dragProvider=n,s.separatorKeys=f.tagInput.separatorKeys,s.separatorKeyCodes=f.tagInput.separatorKeyCodes,s.placeholder=f.tagInput.placeholder,s.secondaryPlaceholder=f.tagInput.secondaryPlaceholder,s.maxItems=f.tagInput.maxItems,s.validators=f.tagInput.validators,s.asyncValidators=f.tagInput.asyncValidators,s.onlyFromAutocomplete=f.tagInput.onlyFromAutocomplete,s.errorMessages=f.tagInput.errorMessages,s.theme=f.tagInput.theme,s.onTextChangeDebounce=f.tagInput.onTextChangeDebounce,s.inputId=f.tagInput.inputId,s.inputClass=f.tagInput.inputClass,s.clearOnBlur=f.tagInput.clearOnBlur,s.hideForm=f.tagInput.hideForm,s.addOnBlur=f.tagInput.addOnBlur,s.addOnPaste=f.tagInput.addOnPaste,s.pasteSplitPattern=f.tagInput.pasteSplitPattern,s.blinkIfDupe=f.tagInput.blinkIfDupe,s.removable=f.tagInput.removable,s.editable=f.tagInput.editable,s.allowDupes=f.tagInput.allowDupes,s.modelAsStrings=f.tagInput.modelAsStrings,s.trimTags=f.tagInput.trimTags,s.ripple=f.tagInput.ripple,s.tabindex=f.tagInput.tabIndex,s.disable=f.tagInput.disable,s.dragZone=f.tagInput.dragZone,s.onRemoving=f.tagInput.onRemoving,s.onAdding=f.tagInput.onAdding,s.animationDuration=f.tagInput.animationDuration,s.onAdd=new o.EventEmitter,s.onRemove=new o.EventEmitter,s.onSelect=new o.EventEmitter,s.onFocus=new o.EventEmitter,s.onBlur=new o.EventEmitter,s.onTextChange=new o.EventEmitter,s.onPaste=new o.EventEmitter,s.onValidationError=new o.EventEmitter,s.onTagEdited=new o.EventEmitter,s.isLoading=!1,s.listeners=((r={})[l]=[],r[h]=[],r),s.inputTextChange=new o.EventEmitter,s.inputTextValue=\"\",s.errors=[],s.appendTag=function(t,e){void 0===e&&(e=s.items.length);var n=s.items,o=s.modelAsStrings?t[s.identifyBy]:t;s.items=Object(i.__spread)(n.slice(0,e),[o],n.slice(e,n.length))},s.createTag=function(t){var e,n=function(t,e){return\"string\"==typeof t?t.trim():t[e]};return Object(i.__assign)({},\"string\"!=typeof t?t:{},((e={})[s.displayBy]=s.trimTags?n(t,s.displayBy):t,e[s.identifyBy]=s.trimTags?n(t,s.identifyBy):t,e))},s.isTagValid=function(t,e){void 0===e&&(e=!1);var n=s.dropdown?s.dropdown.selectedItem:void 0,i=s.getItemDisplay(t).trim();if(n&&!e||!i)return!1;var o=s.findDupe(t,e);if(!s.allowDupes&&o&&s.blinkIfDupe){var r=s.tags.find(function(t){return s.getItemValue(t.model)===s.getItemValue(o)});r&&r.blink()}var a=[!o||s.allowDupes,!s.maxItemsReached,e&&s.onlyFromAutocomplete||!s.onlyFromAutocomplete];return a.filter(Boolean).length===a.length},s.onPasteCallback=function(t){return Object(i.__awaiter)(s,void 0,void 0,function(){var e,n,o,r=this;return Object(i.__generator)(this,function(i){return a=(s=Boolean(window.clipboardData))?window.clipboardData:t.clipboardData,e=null===a?\"\":a.getData(s?\"Text\":\"text/plain\")||\"\",n=e.split(this.pasteSplitPattern).map(function(t){var e=r.createTag(t);return r.setInputValue(e[r.displayBy]),r.onAddingRequested(!1,e)}),o=function(){return setTimeout(function(){return r.setInputValue(\"\")},50)},Promise.all(n).then(function(){r.onPaste.emit(e),o()}).catch(o),[2];var s,a})})},s}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,\"inputText\",{get:function(){return this.inputTextValue},set:function(t){this.inputTextValue=t,this.inputTextChange.emit(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"tabindexAttr\",{get:function(){return\"\"!==this.tabindex?\"-1\":\"\"},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this;this.setUpKeypressListeners(),this.setupSeparatorKeysListener(),this.setUpInputKeydownListeners(),this.onTextChange.observers.length&&this.setUpTextChangeSubscriber(),(this.clearOnBlur||this.addOnBlur)&&this.setUpOnBlurSubscriber(),this.addOnPaste&&this.setUpOnPasteListener();var e=this.inputForm.form.statusChanges;e.pipe(Object(u.a)(function(t){return\"PENDING\"!==t})).subscribe(function(){t.errors=t.inputForm.getErrorMessages(t.errorMessages)}),this.isProgressBarVisible$=e.pipe(Object(d.a)(function(e){return\"PENDING\"===e||t.isLoading})),this.hideForm&&this.inputForm.destroy()},e.prototype.ngOnInit=function(){void 0!==this.maxItems&&this.items&&this.items.length>this.maxItems&&(this.maxItems=this.items.length,console.warn(\"The number of items specified was greater than the property max-items.\")),this.editable=!this.onlyFromAutocomplete&&this.editable,this.setAnimationMetadata()},e.prototype.onRemoveRequested=function(t,e){var n=this;return new Promise(function(i){var o=function(o){n.removeItem(o,e),i(t)};n.onRemoving?n.onRemoving(t).pipe(Object(s.a)()).subscribe(o):o(t)})},e.prototype.onAddingRequested=function(t,e,n,i){var o=this;return new Promise(function(r,a){var u=function(e){return o.addItem(t,e,n,i).then(r).catch(a)};return o.onAdding?o.onAdding(e).pipe(Object(s.a)()).subscribe(u,a):u(e)})},e.prototype.selectItem=function(t,e){void 0===e&&(e=!0),t&&\"string\"!=typeof t&&t.readonly||this.selectedTag===t||(this.selectedTag=t,e&&this.onSelect.emit(t))},e.prototype.fireEvents=function(t,e){var n=this;this.listeners[t].forEach(function(t){return t.call(n,e)})},e.prototype.handleKeydown=function(t){var e=t.event,n=e.shiftKey||!1;switch(c[e.keyCode||e.which]){case\"DELETE\":if(this.selectedTag&&this.removable){var i=this.items.indexOf(this.selectedTag);this.onRemoveRequested(this.selectedTag,i)}break;case\"SWITCH_PREV\":this.moveToTag(t.model,\"PREV\");break;case\"SWITCH_NEXT\":this.moveToTag(t.model,\"NEXT\");break;case\"TAB\":if(n){if(this.isFirstTag(t.model))return;this.moveToTag(t.model,\"PREV\")}else{if(this.isLastTag(t.model)&&(this.disable||this.maxItemsReached))return;this.moveToTag(t.model,\"NEXT\")}break;default:return}e.preventDefault()},e.prototype.onFormSubmit=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){return Object(i.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.onAddingRequested(!1,this.formValue)];case 1:return t.sent(),[3,3];case 2:return t.sent(),[2];case 3:return[2]}})})},e.prototype.setInputValue=function(t,e){void 0===e&&(e=!0),this.getControl().setValue(t,{emitEvent:e})},e.prototype.getControl=function(){return this.inputForm.value},e.prototype.focus=function(t,e){void 0===t&&(t=!1),this.dragProvider.getState(\"dragging\")||(this.selectItem(void 0,!1),t&&(this.inputForm.focus(),this.onFocus.emit(this.formValue)))},e.prototype.blur=function(){this.onTouched(),this.onBlur.emit(this.formValue)},e.prototype.hasErrors=function(){return!!this.inputForm&&this.inputForm.hasErrors()},e.prototype.isInputFocused=function(){return!!this.inputForm&&this.inputForm.isInputFocused()},e.prototype.hasCustomTemplate=function(){var t=this.templates?this.templates.first:void 0;return Boolean(t&&t!==(this.dropdown&&this.dropdown.templates?this.dropdown.templates.first:void 0))},Object.defineProperty(e.prototype,\"maxItemsReached\",{get:function(){return void 0!==this.maxItems&&this.items.length>=this.maxItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"formValue\",{get:function(){var t=this.inputForm.value;return t?t.value:\"\"},enumerable:!0,configurable:!0}),e.prototype.onDragStarted=function(t,e,n){t.stopPropagation();var i={zone:this.dragZone,tag:e,index:n};this.dragProvider.setSender(this),this.dragProvider.setDraggedItem(t,i),this.dragProvider.setState({dragging:!0,index:n})},e.prototype.onDragOver=function(t,e){this.dragProvider.setState({dropping:!0}),this.dragProvider.setReceiver(this),t.preventDefault()},e.prototype.onTagDropped=function(t,e){var n=this.dragProvider.getDraggedItem(t);n&&n.zone===this.dragZone&&(this.dragProvider.onTagDropped(n.tag,n.index,e),t.preventDefault(),t.stopPropagation())},e.prototype.isDropping=function(){var t=this.dragProvider.receiver===this,e=this.dragProvider.getState(\"dropping\");return Boolean(t&&e)},e.prototype.onTagBlurred=function(t,e){this.items[e]=t,this.blur()},e.prototype.trackBy=function(t,e){return e[this.identifyBy]},e.prototype.updateEditedTag=function(t){this.onTagEdited.emit(t.tag)},e.prototype.moveToTag=function(t,e){var n=this.isLastTag(t),i=this.isFirstTag(t);if(!(\"NEXT\"===e&&n||\"PREV\"===e&&i)){var o=\"NEXT\"===e?1:-1,r=this.getTagIndex(t)+o,s=this.getTagAtIndex(r);return s.select.call(s)}this.focus(!0)},e.prototype.isFirstTag=function(t){return this.tags.first.model===t},e.prototype.isLastTag=function(t){return this.tags.last.model===t},e.prototype.getTagIndex=function(t){return this.tags.toArray().findIndex(function(e){return e.model===t})},e.prototype.getTagAtIndex=function(t){return this.tags.toArray()[t]},e.prototype.removeItem=function(t,e){this.items=this.getItemsWithout(e),this.selectedTag===t&&this.selectItem(void 0,!1),this.focus(!0,!1),this.onRemove.emit(t)},e.prototype.addItem=function(t,e,n,i){var o=this;void 0===t&&(t=!1);var r=this.getItemDisplay(e),a=this.createTag(e);return t&&this.setInputValue(this.getItemValue(e,!0)),new Promise(function(e,d){var p=function(){o.setInputValue(\"\"),o.focus(!i,!1),e(r)},l=function(){o.appendTag(a,n),o.onAdd.emit(a),o.dropdown&&(o.dropdown.hide(),o.dropdown.showDropdownIfEmpty&&o.dropdown.show())},h=o.inputForm.form.status,c=o.isTagValid(a,t),m=function(){return o.onValidationError.emit(a),d()};return\"VALID\"===h&&c?(l(),p()):\"INVALID\"!==h&&c?\"PENDING\"===h?o.inputForm.form.statusChanges.pipe(Object(u.a)(function(t){return\"PENDING\"!==t}),Object(s.a)()).subscribe(function(t){\"VALID\"===t&&c?(l(),e()):m()}):void 0:(p(),m())})},e.prototype.setupSeparatorKeysListener=function(){var t=this;b.call(this,l,function(e){var n=t.separatorKeyCodes.indexOf(e.keyCode)>=0,i=t.separatorKeys.indexOf(e.key)>=0;(n||i&&229!==e.keyCode)&&(e.preventDefault(),t.onAddingRequested(!1,t.formValue).catch(function(){}))},this.separatorKeyCodes.length>0||this.separatorKeys.length>0)},e.prototype.setUpKeypressListeners=function(){var t=this;b.call(this,l,function(e){(37===e.keyCode||8===e.keyCode)&&!t.formValue&&t.items.length&&t.tags.last.select.call(t.tags.last)})},e.prototype.setUpInputKeydownListeners=function(){var t=this;this.inputForm.onKeydown.subscribe(function(e){t.fireEvents(\"keydown\",e),\"Backspace\"===e.key&&\"\"===t.formValue.trim()&&e.preventDefault()})},e.prototype.setUpOnPasteListener=function(){var t=this;this.renderer.listen(this.inputForm.input.nativeElement,\"paste\",function(e){return t.onPasteCallback(e),e.preventDefault(),!0})},e.prototype.setUpTextChangeSubscriber=function(){var t=this;this.inputForm.form.valueChanges.pipe(Object(a.a)(this.onTextChangeDebounce)).subscribe(function(e){t.onTextChange.emit(e.item)})},e.prototype.setUpOnBlurSubscriber=function(){var t=this;this.inputForm.onBlur.pipe(Object(a.a)(100),Object(u.a)(function(){return!(t.dropdown&&t.dropdown.isVisible||!t.formValue)})).subscribe(function(){var e=function(){return t.setInputValue(\"\")};if(t.addOnBlur)return t.onAddingRequested(!1,t.formValue,void 0,!0).then(e).catch(e);e()})},e.prototype.findDupe=function(t,e){var n=this,i=t[e?this.dropdown.identifyBy:this.identifyBy];return this.items.find(function(t){return n.getItemValue(t)===i})},e.prototype.setAnimationMetadata=function(){this.animationMetadata={value:\"in\",params:Object(i.__assign)({},this.animationDuration)}},e}(v)),P=function(){return function(){}}(),B=new g,S=function(){function t(){}return t.withDefaults=function(t){B.setOptions(t)},t}()},h8Xd:function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return h}),n.d(e,\"d\",function(){return l}),n.d(e,\"f\",function(){return p}),n.d(e,\"c\",function(){return r}),n.d(e,\"e\",function(){return c}),n.d(e,\"a\",function(){return d});var i,o=n(\"CcnG\"),r=function(){function t(t){this.element=t,this.onMenuToggled=new o.EventEmitter,this.showCaret=!0}return t.prototype.toggleMenu=function(){this.onMenuToggled.emit(!0)},t.prototype.getPosition=function(){return this.element.nativeElement.getBoundingClientRect()},t}(),s=((i={})[9]=function(t,e,n){n.select(t<e.length-1?e[t+1]:e[0],!0)},i[38]=function(t,e,n){t>0&&n.select(e[t-1],!0)},i[40]=function(t,e,n){t<e.length-1&&n.select(e[t+1],!0)},i[13]=function(t,e,n){return n.selectedItem?n.selectedItem.click():void 0},i[27]=function(){this.hide()},i);function a(t){[38,40].indexOf(t.keyCode)>-1&&t.preventDefault()}var u=function(){function t(){this.onItemSelected=new o.EventEmitter,this.onItemClicked=new o.EventEmitter,this.onItemDestroyed=new o.EventEmitter}return Object.defineProperty(t.prototype,\"selectedItem\",{get:function(){return this._selectedItem},enumerable:!0,configurable:!0}),t.prototype.select=function(t,e){void 0===e&&(e=!0),this._selectedItem=t,e&&t&&(t.focus(),this.onItemSelected.emit(t))},t.prototype.unselect=function(){this._selectedItem=void 0},t}(),d=function(){return function(){this.menuState={isVisible:!1,toString:function(){return!0===this.isVisible?\"visible\":\"hidden\"}},this.dropdownState=new u}}(),p=function(){function t(t,e,n){this.state=t,this.element=e,this.renderer=n,this.preventClose=!1}return t.prototype.ngOnDestroy=function(){this.state.dropdownState.onItemDestroyed.emit(this)},Object.defineProperty(t.prototype,\"isSelected\",{get:function(){return this===this.state.dropdownState.selectedItem},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this.state.dropdownState.select(this,!0),t&&(t.stopPropagation(),t.preventDefault())},t.prototype.click=function(){this.state.dropdownState.onItemClicked.emit(this)},t.prototype.focus=function(){this.renderer.invokeElementMethod(this.element.nativeElement.children[0],\"focus\")},t}(),l=function(){function t(t,e,n){this.state=t,this.element=e,this.renderer=n,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:void 0,handleKeypress:void 0}}return t.prototype.show=function(t,e){void 0===e&&(e=!0);var n=\"undefined\"!=typeof document?document:void 0,i=\"undefined\"!=typeof window?window:void 0;this.state.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(n.body,\"keydown\",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(i,\"keydown\",a)),this.state.menuState.isVisible=!0,t&&this.updatePosition(t,e)},t.prototype.hide=function(){this.state.menuState.isVisible=!1,this.state.dropdownState.unselect(),this.listeners.arrowHandler&&this.listeners.arrowHandler(),this.listeners.handleKeypress&&this.listeners.handleKeypress()},t.prototype.updatePosition=function(t,e){this.position=t,this.updateOnChange(e)},t.prototype.handleKeypress=function(t){var e=t.keyCode,n=this.items.toArray(),i=n.indexOf(this.state.dropdownState.selectedItem);s.hasOwnProperty(e)&&s[e].call(this,i,n,this.state.dropdownState)},t.prototype.getMenuElement=function(){return this.element.nativeElement.children[0]},t.prototype.calcPositionOffset=function(t){var e=\"undefined\"!=typeof window?window:void 0,n=\"undefined\"!=typeof document?document:void 0;if(e&&n&&t){var i=this.getMenuElement(),o=void 0!==e.pageXOffset,r=\"CSS1Compat\"===(n.compatMode||\"\"),s=o?e.pageYOffset:r?n.documentElement.scrollTop:n.body.scrollTop,a=this.applyOffset(t.top+(this.appendToBody?s-15:0)+\"px\",t.left+(o?e.pageXOffset:r?n.documentElement.scrollLeft:n.body.scrollLeft)-5+\"px\"),u=a.top,d=a.left,p=i.clientWidth,l=i.clientHeight,h=parseInt(u)+l+(this.appendToBody?0:s-15),c=parseInt(d)+p,m=e.innerWidth+e.scrollX;if(h>=e.innerHeight+e.scrollY&&(u=parseInt(u.replace(\"px\",\"\"))-l+\"px\"),c>=m){var f=c-m+30;d=parseInt(d.replace(\"px\",\"\"))-f+\"px\"}return{top:u,left:d}}},t.prototype.applyOffset=function(t,e){if(!this.offset)return{top:t,left:e};var n=this.offset.split(\" \");return n[1]||(n[1]=\"0\"),{top:t=parseInt(t.replace(\"px\",\"\"))+parseInt(n[0])+\"px\",left:e=parseInt(e.replace(\"px\",\"\"))+parseInt(n[1])+\"px\"}},t.prototype.ngOnInit=function(){var t=\"undefined\"!=typeof document?document:void 0;this.appendToBody&&t.body.appendChild(this.element.nativeElement)},t.prototype.updateOnChange=function(t){void 0===t&&(t=!0);var e=this.getMenuElement(),n=this.calcPositionOffset(this.position);n&&(this.renderer.setElementStyle(e,\"top\",n.top.toString()),this.renderer.setElementStyle(e,\"left\",n.left.toString())),this.focusFirstElement&&this.items.first&&!this.state.dropdownState.selectedItem&&this.state.dropdownState.select(this.items.first,!1)},t.prototype.ngOnDestroy=function(){var t=this.element.nativeElement;t.parentNode.removeChild(t),this.listeners.handleKeypress&&this.listeners.handleKeypress()},t}(),h=function(){function t(t){this.state=t,this.dynamicUpdate=!0,this.onItemClicked=new o.EventEmitter,this.onItemSelected=new o.EventEmitter,this.onShow=new o.EventEmitter,this.onHide=new o.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.state.dropdownState.onItemClicked.subscribe(function(e){t.onItemClicked.emit(e),e.preventClose||t.hide.call(t)}),this.button&&this.button.onMenuToggled.subscribe(function(){t.toggleMenu()}),this.state.dropdownState.onItemSelected.subscribe(function(e){t.onItemSelected.emit(e)}),this.state.dropdownState.onItemDestroyed.subscribe(function(e){var n,i=t.menu.items.toArray();e===t.state.dropdownState.selectedItem&&(t.menu.focusFirstElement&&(n=e===i[0]&&i.length>1?i[1]:i[0]),t.state.dropdownState.select(n))})},t.prototype.toggleMenu=function(t){void 0===t&&(t=this.button.getPosition()),this.state.menuState.isVisible?this.hide():this.show(t)},t.prototype.hide=function(){this.menu.hide(),this.onHide.emit(this)},t.prototype.show=function(t){void 0===t&&(t=this.button.getPosition()),this.menu.show(t,this.dynamicUpdate),this.onShow.emit(this)},t.prototype.scrollListener=function(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)},t}(),c=function(){return function(){}}()}}]);","extractedComments":[]}