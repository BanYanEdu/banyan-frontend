{"version":3,"file":"inet-chat.js","sources":["ng://inet-chat/src/model/MessageConstants.ts","ng://inet-chat/src/model/MessageContact.ts","ng://inet-chat/src/DateFormatter.ts","ng://inet-chat/src/model/MessageChat.ts","ng://inet-chat/src/message.service.ts","ng://inet-chat/src/component/contact-list/contact-list.component.ts","ng://inet-chat/src/model/MessageHolder.ts","ng://inet-chat/src/filelist/list/file-list.component.ts","ng://inet-chat/src/video-conference.service.ts","ng://inet-chat/src/open-graph/open-graph.service.ts","ng://inet-chat/src/component/message-chat/message-chat.component.ts","ng://inet-chat/src/component/search-input/search-input.component.ts","ng://inet-chat/src/component/message-panel/message-panel.component.ts","ng://inet-chat/src/filelist/file-format.service.ts","ng://inet-chat/src/filelist/file-ext.pipe.ts","ng://inet-chat/src/filelist/file-icon.pipe.ts","ng://inet-chat/src/filelist/file-list.module.ts","ng://inet-chat/src/component/room-chat/room-chat.component.ts","ng://inet-chat/src/open-graph/link-preview/link-preview.component.ts","ng://inet-chat/src/open-graph/open-graph.module.ts","ng://inet-chat/src/message.module.ts"],"sourcesContent":["export const APP_CHAT = 'iChat';\n","import {AccentService, HtmlUtils} from \"inet-core\";\n\nexport class MessageContact {\n  private static _accent = new AccentService();\n  fullname: string = '';\n  usercode: string = '';\n  lastmsg: number = 0;\n  message: string = '';\n  online: boolean = false;\n  unread: number = 0;\n  type?: string; // COMPANY | FRIEND\n  _indexSearch: string = '';\n\n  constructor(options) {\n    Object.assign(this, options);\n    // this.message = HtmlUtils.formatHtmlDisplay(this.message);\n\n    this._indexSearch = MessageContact._accent.viToEn(this.fullname.toLowerCase()) + ' ';\n    // Remove suffix email \"@inetcloud.vn\"\n    this._indexSearch += MessageContact._accent.viToEn(this.usercode.slice(0, this.usercode.indexOf('@')));\n  }\n\n  isMatch(keyword: string = '') {\n    return this._indexSearch.indexOf(MessageContact._accent.viToEn(keyword)) > -1;\n  }\n}\n","import * as _moment from 'moment';\nconst moment = _moment;\n\nexport class DateFormatter {\n    date: Date;\n\n    constructor(date: string | Date | number) {\n        this.date = new Date(date);\n    }\n\n    formatFullYear() {\n        return moment(this.date).format('DD/MM/YYYY, H:mm');\n    }\n\n    formatYear() {\n        return moment(this.date).format('DD/MM/YYYY');\n    }\n\n    formatMonth() {\n        return moment(this.date).format('DD/MM, H:mm');\n    }\n\n    formatDate() {\n        return moment(this.date).format('DD/MM, H:mm');\n    }\n\n    formatTime() {\n        return moment(this.date).format('H:mm');\n    }\n\n    format() {\n        if (!this.date.getTime()) {\n            return '';\n        }\n        const now = new Date();\n        const conditions = {\n            onYear: now.getFullYear() === this.date.getFullYear(),\n            onMonth: now.getMonth() === this.date.getMonth(),\n            onDate: now.getDate() === this.date.getDate(),\n        };\n        if (conditions.onYear && conditions.onMonth && conditions.onDate) {\n            return this.formatTime();\n        }\n        if (conditions.onYear && conditions.onMonth) {\n            return this.formatDate();\n        }\n        if (conditions.onYear) {\n            return this.formatMonth();\n        }\n        return this.formatYear();\n    }\n}","import {HtmlUtils, EnvelopBody} from \"inet-core\";\nimport {DateFormatter} from \"../DateFormatter\";\nimport {OpenGraphData} from \"../open-graph\";\n\ndeclare let iNet: any;\n\nexport class MessageChat {\n    message: EnvelopBody;\n    isSent: boolean = false;\n    attachments: any[] = [];\n\n    displayText: string;\n    shortTime: string;\n    longTime: string;\n    date: Date;\n    _openGraph?: OpenGraphData;\n\n    constructor(message: EnvelopBody) {\n        const formatter = new DateFormatter(message.sent || new Date());\n        this.message = message;\n        this.isSent = this.message.sender === iNet.username;\n        this.attachments = MessageChat.parseAttachments(message);\n        this.displayText = HtmlUtils.formatHtmlDisplay(message.message.alert || message.message.content);\n        this.shortTime = formatter.formatTime();\n        this.longTime = formatter.formatFullYear();\n        this.date = formatter.date;\n    }\n\n    static parseAttachments(data: EnvelopBody) {\n        // uuid://5d021cb39278c2c3666081a0\n        var attachments = [];\n        for (const k in data.message) {\n            if (k.startsWith('uuid://')) {\n                var name = data.message[k];\n                var canViewInline = /(png|jpg|jpeg|pdf)$/i.test(name);\n                var fileIsImage = /(png|jpg|jpeg|gif)$/i.test(name);\n                var url = iNet.getPUrl(canViewInline ? 'message/binaryinline' : 'message/binary') +\n                    `?uuid=${data.uuid}&uploadID=${k}`;\n                attachments.push({\n                    url: url,\n                    id: k,\n                    name: name,\n                    image: fileIsImage,\n                    canViewInline: canViewInline\n                });\n            }\n        }\n        return attachments;\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClientService, WebSocketClientService} from \"inet-core\";\nimport {APP_CHAT} from \"./model/MessageConstants\";\nimport {MessageContact} from \"./model/MessageContact\";\nimport {Observable, Subject} from \"rxjs\";\nimport {MessageChat} from \"./model/MessageChat\";\nimport { EnvelopBody, WebSocketEnvelop } from 'inet-core/src/websocket/websocket-abstract';\n\ndeclare let iNet: any;\n\n@Injectable()\nexport class ChatMessageService {\n    private static _instance: ChatMessageService = null;\n    private _socketObserver;\n    private _messageSubject = new Subject<MessageChat>();\n    private _unreadSubject = new Subject<number>();\n\n    contacts: MessageContact[] = [];\n    messageReceived = this._messageSubject.asObservable();\n    unreadMessageChange = this._unreadSubject.asObservable();\n\n    constructor(private httpService: HttpClientService,\n                public socketService: WebSocketClientService) {\n        if (ChatMessageService._instance) {\n            return ChatMessageService._instance;\n        }\n        ChatMessageService._instance = this;\n        this._socketObserver = this.socketService.onMessage.subscribe((message: EnvelopBody) => {\n            if (message.application === APP_CHAT) {\n                this.updateLastMessage(message.sender, message);\n                this._messageSubject.next(new MessageChat(message));\n            }\n        });\n\n    }\n\n    destroy(): void {\n        this._socketObserver.unsubscribe();\n        this._messageSubject.unsubscribe();\n        this._unreadSubject.unsubscribe();\n    }\n\n    loadFriends() {\n        return new Observable<MessageContact[]>((observer) => {\n            this.httpService.getJSON(iNet.getPUrl('unifiedpush/list')).subscribe((data) => {\n                observer.next((data || []).map((item) => new MessageContact(item)));\n                observer.complete();\n            });\n        });\n    }\n\n    loadContacts(callback: Function) {\n        if (this.contacts.length > 0) {\n            callback(this.contacts);\n        } else {\n            this.loadFriends().subscribe(\n                (data: MessageContact[]) => {\n                    this.contacts = data.filter((item) => item.usercode !== iNet.usercode);\n                    this.updateUnreadMessage();\n                    callback(this.contacts);\n                }, () => callback([])\n            );\n        }\n    }\n\n    updateUnreadMessage() {\n        let unread = 0;\n        this.contacts.forEach((friend) => unread += friend.unread);\n        this._unreadSubject.next(unread);\n    }\n\n    getContactByUserCode(usercode: string, callback: Function) {\n        if (usercode === 'news-feed' || usercode === iNet.usercode) {\n            return;\n        }\n        this.loadContacts((contacts) => {\n            for (let i = 0; i < contacts.length; i++) {\n                if (contacts[i].usercode === usercode) {\n                    return callback(contacts[i]);\n                }\n            }\n            // contact not exist\n            const contact = new MessageContact({usercode: usercode, fullname: usercode, unread: 1});\n            this.contacts.unshift(contact);\n            callback(contact);\n        });\n    }\n\n    hasContact(usercode: string): boolean {\n        for (let i = 0; i < this.contacts.length; i++) {\n            if (this.contacts[i].usercode === usercode) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    send(username: string, message: string): Promise<boolean> {\n        return this.socketService.send(username, message, APP_CHAT);\n    }\n\n    sendEnvelop(envelop: WebSocketEnvelop): Promise<boolean> {\n        return this.socketService.sendEnvelop(envelop);\n    }\n\n    buildEnvelop(address: string, message: string,join?: string): WebSocketEnvelop {\n        if(join){\n            return this.socketService.buildEnvelop(address, message, APP_CHAT, join);\n\n        }else{\n            return this.socketService.buildEnvelop(address, message, APP_CHAT);\n\n        }\n    }\n\n    pushMessage(params, callback: Function) {\n        const formData = this.httpService.convertToFormData(params);\n        this.httpService.post(iNet.getPUrl('message/upload'), formData).subscribe(\n            (data: EnvelopBody) => {\n                let envelop: WebSocketEnvelop = this.socketService.buildEnvelop(params.alias, params.content, APP_CHAT);\n                envelop.body.message = data.message;\n                envelop.body.message.content = envelop.body.message.alert = params.content;\n                envelop.body.uuid = data.uuid;\n                this.socketService.sendEnvelop(envelop);\n                callback(envelop.body);\n            }\n        );\n    }\n\n    loadMessages(params, callback: Function) {\n        this.httpService.postJSON(iNet.getPUrl('message/query'), params).subscribe((data) => {\n            data = data || {};\n            data.items = data.items || [];\n            data.total = data.total || 0;\n            data.items.sort((a, b) => a.sent - b.sent);\n            data.items = data.items.map((item) => new MessageChat(item));\n            this.resetUnreadMessage(params['sender']);\n            callback(data);\n        });\n    }\n\n    updateLastMessage(usercode: string, message: EnvelopBody) {\n        // Update last message, move contact to first\n        this.getContactByUserCode(usercode, (contact: MessageContact) => {\n            var index = this.contacts.indexOf(contact);\n            if (index > -1) {\n                this.contacts.splice(index, 1);\n            }\n            this.contacts.unshift(contact);\n                let typeMessages =  message.message.alert.split(\":\");\n            if(typeMessages.length >2){\n                    if(typeMessages[0]==='uri_message' && typeMessages[1]==='video_conference'){\n                        contact.message = '<i class=\"fa fa-phone pr-1\" aria-hidden=\"true\"></i> Cuá»c gá»i thoáº¡i';\n                    }\n                    else{\n                        let __mesDisplay =  this.revertMessageDisplay(message.message.alert) || '';\n                        if(typeMessages[0]==='uri_message' && typeMessages[1]==='link_preview'){\n                            contact.message =__mesDisplay;\n                        }\n                    }\n                }else{\n                contact.message = message.message.alert;\n            }\n\n            // contact.message = message.message.alert;\n\n            // Not me send\n            if (message.sender !== iNet.usercode) {\n                contact.unread++;\n                this.updateUnreadMessage();\n            }\n        });\n    }\n    decodeBase64(str: string) {\n        return decodeURIComponent(escape(window.atob(str)));\n    }\n\n    resetUnreadMessage(username: string) {\n        this.getContactByUserCode(username, (contact) => {\n            contact.unread = 0;\n            this.updateUnreadMessage();\n        });\n    }\n\n    searchContacts(keyword: string, callback: Function) {\n        this.loadContacts((contacts: MessageContact[]) => callback(this._filterUsers(keyword, contacts)));\n    }\n\n    private _filterUsers(keyword: string, contacts: MessageContact[]) {\n        if (!keyword) {\n            return contacts;\n        }\n        return contacts.filter((item) => item.isMatch(keyword));\n    }\n\n    revertMessage(message: string){\n        let __index = message.indexOf(\"uri_message\") || 0;\n       return  message.substring(__index);\n    }\n    revertMessageDisplay(message: string){\n        let __index = message.indexOf(\"uri_message\") || 0;\n        return  message.substring(0,__index);\n    }\n\n    reconnetSocket(){\n        this.socketService.close();\n    }\n\n    checkJoinVideoCall(message){\n    }\n}\n","import {AfterViewInit, Component, ElementRef, EventEmitter, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {MessageContact} from \"../../model/MessageContact\";\nimport {Subscription} from \"rxjs\";\nimport {ChatMessageService} from \"../../message.service\";\nimport {MessageChat} from \"../../model/MessageChat\";\nimport {WebSocketClientService} from \"inet-core\";\n\ndeclare let $: any;\ndeclare let iNet: any;\n\n@Component({\n    selector: 'message-contact-list',\n    templateUrl: './contact-list.component.html',\n    styleUrls: ['./contact-list.component.css']\n})\nexport class ContactListComponent implements OnDestroy, AfterViewInit {\n    @Output() contactSelected = new EventEmitter<MessageContact>();\n    @Output() roomSelected = new EventEmitter<string>();\n    @Output() callTo = new EventEmitter<string>();\n    @ViewChild('contactRef') contactRef: ElementRef;\n    contacts: MessageContact[] = [];\n    statusText: string;\n    userInteract: boolean = false;\n    lastPage: boolean = false;\n    username =  iNet.username;\n    fullname =  iNet.displayName;\n\n    private _contacts: MessageContact[];\n    private _statusObserver: Subscription;\n    private _pageNumber: number = 0;\n    private _pageSize: number = 20;\n    private _loading: boolean = false;\n    private _timer;\n    private _contactEl;\n    private _keyword;\n    private _messageObserver;\n\n\n\n    constructor(private messageService: ChatMessageService, private webSocketService: WebSocketClientService) {\n    }\n\n    ngAfterViewInit() {\n        this._contactEl = $(this.contactRef.nativeElement);\n        this._detectUserInteract();\n        this.searchContacts();\n        this._statusObserver = this.messageService.socketService.onStateChange.subscribe(() => {\n            if (this.messageService.socketService.closed) {\n                this.statusText = 'Káº¿t ná»i khÃ´ng thÃ nh cÃ´ng';\n            } else if (this.messageService.socketService.connecting) {\n                this.statusText = 'Äang káº¿t ná»i';\n            } else if (this.messageService.socketService.connected) {\n                this.statusText = '';\n            }\n        });\n\n        // Scroll bottom load more\n        this._contactEl.on('scroll', (e) => {\n            if (this._loading || this.lastPage) {\n                return;\n            }\n            if (e.target.scrollTop + e.target.clientHeight > e.target.scrollHeight - 100) {\n                this.loadContacts();\n            }\n        });\n    }\n\n    ngOnDestroy() {\n\n        if (this._statusObserver) {\n            this._statusObserver.unsubscribe();\n            this._statusObserver = null;\n        }\n    }\n\n    selectContact(contact: MessageContact) {\n        this.contactSelected.emit(contact);\n    }\n\n    searchContacts(value: string = '') {\n        value = value.toLowerCase().trim();\n        if (value === this._keyword) {\n            return;\n        }\n        this._keyword = value;\n        this.messageService.searchContacts(value, (contacts) => {\n            this._pageNumber = 0;\n            this._loading = false;\n            this._contacts = contacts;\n            this.contacts.length = 0;\n            this.loadContacts();\n        });\n    }\n\n    loadContacts() {\n        if (!this.userInteract || this._loading || !this._contacts) {\n            return;\n        }\n        const begin = this._pageNumber * this._pageSize;\n        this.lastPage = this._contacts && this._contacts.length < begin;\n        if (this.lastPage) {\n            return;\n        }\n        this._loading = true;\n        this.contacts = this.contacts.concat(this._contacts.slice(begin, begin + this._pageSize));\n\n        this.contacts.forEach(ele=>{\n            let __mes =  this.messageService.revertMessage(ele.message) || '';\n            let __mesDisplay =  this.messageService.revertMessageDisplay(ele.message) || '';\n            let typeMessages =  __mes.split(\":\")\n            if(typeMessages.length >0){\n                if(typeMessages[0]==='uri_message' && (typeMessages[1]==='video_conference...' || typeMessages[1]==='video_conference') ){\n                        ele.message = '<i class=\"fa fa-phone pr-1\" aria-hidden=\"true\"></i> Cuá»c gá»i thoáº¡i';\n                        return ele;\n                }\n                else{\n                    if(typeMessages[0]==='uri_message' && typeMessages[1]==='link_preview...'){\n                        ele.message =__mesDisplay;\n                        return ele;\n                    }else{\n                        return ele;\n                    }\n                }\n            }\n        })\n        setTimeout(() => {\n            this._loading = false;\n            this._pageNumber++;\n        }, 300);\n        this.selectContact(this.contacts[0]);\n    }\n    decodeBase64(str: string) {\n        return decodeURIComponent(escape(window.atob(str)));\n    }\n\n    private _detectUserInteract() {\n        this._timer = setInterval(() => {\n            if (this._contactEl.is(':visible')) {\n                this.userInteract = true;\n                this.loadContacts();\n                clearInterval(this._timer);\n                this._timer = null;\n            }\n        }, 100);\n    }\n\n\n    selectRoom(roomName: string) {\n        this.roomSelected.emit(roomName);\n    }\n    callToContact(usercode){\n        this.callTo.emit(usercode);\n    }\n}\n","import {MessageChat} from \"./MessageChat\";\nimport {DateFormatter} from \"../DateFormatter\";\n\nexport class MessageChatHolder {\n    messages: MessageChat[] = [];\n    date: Date;\n    display: string;\n\n    constructor(date) {\n        this.date = new Date(date);\n        this.date.setHours(0, 0, 0, 0);\n        this.display = new DateFormatter(this.date).formatYear();\n    }\n\n    isSameDate(date: Date) {\n        let d = new Date(date);\n        d.setHours(0, 0, 0, 0);\n        return this.date.getTime() === d.getTime();\n    }\n}","import {Component, EventEmitter, Input, OnInit, Output, TemplateRef} from '@angular/core';\n\n@Component({\n    selector: 'file-list',\n    templateUrl: './file-list.component.html',\n    styleUrls: ['./file-list.component.css']\n})\nexport class FileListComponent implements OnInit {\n    @Input() fileEl: HTMLInputElement;\n    @Input() files: FileListItem[] = [];\n    @Input() removable: boolean = true;\n    @Input() template: TemplateRef<any>;\n\n    @Output() onClick = new EventEmitter<any>();\n    @Output() onRemove = new EventEmitter<FileListItem>();\n\n    ngOnInit(): void {\n        this._initFileEl();\n    }\n\n    clickFile(file: FileListItem, event) {\n        this.onClick.emit({file, event});\n    }\n\n    removeFile(file: FileListItem) {\n        const index = this.files.indexOf(file);\n        if (index > -1) {\n            this.files.splice(index, 1);\n            this.onRemove.emit(file);\n        }\n    }\n\n    addFiles(files: FileList | File[]) {\n        // Read as base64 if image\n        for (let i  = 0; i < files.length; i++) {\n            let file = files[i];\n            if (this._fileIsImage(file)) {\n                file['image'] = true;\n                this._readImageBase64(file);\n            }\n            this.files.push(file);\n        }\n    }\n\n    private _initFileEl() {\n        if (this.fileEl) {\n            this.fileEl.addEventListener('change', (e) => {\n                const files = this.fileEl.files;\n                if (files.length > 0) {\n                    // Read as base64 if image\n                    this.addFiles(files);\n\n                    // Reset file\n                    this.fileEl.value = '';\n                }\n            });\n        }\n    }\n\n    private _readImageBase64(file) {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = function() {\n            file.url = reader.result;\n        };\n    }\n\n    private _fileIsImage(file: FileListItem) {\n        return file.type && file.type.indexOf('image') > -1;\n    }\n}\n\nexport interface FileListItem extends File {\n    id?: string;\n    url?: string;\n    image?: boolean;\n}\n","import {Injectable} from '@angular/core';\nimport {ErrorMessage, HttpClientService} from \"inet-core\";\ndeclare var JitsiMeetExternalAPI: any;\ndeclare let iNet: any;\n\n@Injectable()\nexport class VideoConferenceService {\n    api: any;\n    domain=  'jitsi.inetcloud.vn';\n    messageJoin = {app:'iChat', conferenceID:'', sender : '', joined: '', inAccess: ''};\n\n    static instance: VideoConferenceService = null;\n    constructor(private httpService: HttpClientService) {\n        return VideoConferenceService.instance = VideoConferenceService.instance || this;\n    }\n\n    join(parentNode: any, roomName: string, audioOnly: boolean = false, height: number = 350,callback?: Function) {\n        if(!JitsiMeetExternalAPI) {\n            return;\n        }\n        let tokenId ='';\n        this.httpService.postJSON(iNet.getPUrl('conference/authorized'), {roomID : roomName}).subscribe((data) => {\n            tokenId =  data.webdata || '';\n            this.dispose();\n            const options = {\n                roomName: roomName,\n                width: '100%',\n                height: '100%',\n                parentNode: parentNode,\n                jwt: tokenId\n\n            };\n            if(audioOnly) {\n                options.height = '100%';\n                options['configOverwrite'] = {\n                    startAudioOnly: true,\n                    startWithVideoMuted: true\n                }\n            }\n\n            this.api = new JitsiMeetExternalAPI( this.domain, options);\n            if(callback){\n                callback(this.api);\n            }\n            this.api.executeCommand('sendTones', {\n                tones: '12345#', // The dial pad touch tones to play. For example, '12345#'.\n                duration: 200, // Optional. The number of milliseconds each tone should play. The default is 200.\n                pause: 200 // Optional. The number of milliseconds between each tone. The default is 200.\n            });\n\n            // this.api.executeCommand('displayName', iNet.displayName);\n            // this.api.executeCommand('email', iNet.username);\n            // this.api.executeCommand('setVideoQuality', 720);\n        });\n\n\n        /*\n        this.api.addEventListener('readyToClose',  ()=> {\n            this.dispose();\n        });\n\n         */\n    }\n    callTo(parentNode: any,userName: string,audioOnly: boolean = false, height: number = 350,callback?: Function) {\n        let conferenceID ='';\n        this.httpService.postJSON(iNet.getPUrl('conference/end2end'), {callTo : userName}).subscribe((data) => {\n            if(data.type !== ErrorMessage.TYPE){\n                conferenceID =  data.conferenceID || '';\n                if (!iNet.isEmpty(conferenceID)) {\n                    if(!JitsiMeetExternalAPI) {\n                        return;\n                    }\n                    let tokenId ='';\n                    let messageJSON ={sender : iNet.username,conferenceID:conferenceID};\n                    let __messageStr = 'uri_message:video_conference:'+this.encodeBase64(JSON.stringify(messageJSON)) || '';\n                    // this.chatMessageService.send(userName,__messageStr);\n                    this.httpService.postJSON(iNet.getPUrl('conference/authorized'), {roomID : conferenceID}).subscribe((data) => {\n                        tokenId =  data.webdata || '';\n                        this.dispose();\n                        const options = {\n                            roomName: conferenceID,\n                            width: '100%',\n                            height: '100%',\n                            parentNode: parentNode,\n                            jwt: tokenId\n\n                        };\n                        if(audioOnly) {\n                            options.height = '100%';\n                            options['configOverwrite'] = {\n                                startAudioOnly: true,\n                                startWithVideoMuted: true\n                            }\n                        }\n\n                        this.api = new JitsiMeetExternalAPI( this.domain, options);\n                        this.messageJoin.sender =iNet.username;\n                        this.messageJoin.conferenceID =  conferenceID;\n\n                        if(callback){\n                            callback(this.api, __messageStr);\n                        }\n                        this.api.executeCommand('sendTones', {\n                            tones: '12345#', // The dial pad touch tones to play. For example, '12345#'.\n                            duration: 200, // Optional. The number of milliseconds each tone should play. The default is 200.\n                            pause: 200 // Optional. The number of milliseconds between each tone. The default is 200.\n                        });\n                        // this.api.executeCommand('displayName', iNet.displayName);\n                        // this.api.executeCommand('email', iNet.username);\n                        // this.api.executeCommand('setVideoQuality', 720);\n                    });\n                }\n            }\n        });\n\n\n        /*\n        this.api.addEventListener('readyToClose',  ()=> {\n            this.dispose();\n        });\n\n         */\n    }\n\n\n    getApi() {\n        return this.api;\n    }\n\n    dispose(){\n        if (this.api) {\n            this.api.dispose();\n            delete this.api;\n        }\n    }\n\n    getMessageJoin(){\n        return this.messageJoin;\n    }\n\n    getRoomNameByReceiver(receiver: string): string {\n        return iNet.username.split('@')[0] + '_' + receiver.split('@')[0];\n    }\n\n    isExistMeet() {\n       return !!JitsiMeetExternalAPI;\n    }\n    encodeBase64(str: string) {\n        return window.btoa(unescape(encodeURIComponent(str)));\n    }\n}\n\n","import { Injectable } from '@angular/core';\nimport {OpenGraphData, OpenGraphImageInfo} from \"./model/OpenGraphData\";\ndeclare let iNet: any;\ndeclare let $: any;\n\n@Injectable()\nexport class OpenGraphService {\n\n  private regex = /(https?:\\/\\/[^\\s]+)/;\n\n  constructor() { }\n\n  loadPreviewLink(link: string, callback: Function) {\n    if (!link) {\n      callback(null, {\n        error: 'Link is empty'\n      });\n      return;\n    }\n    if (!this.isLink(link)) {\n      callback(null, {\n        error: 'Link invalid'\n      });\n      return;\n    }\n\n    $.ajax({\n      type: 'post',\n      url: iNet.getUrl('opengraph/fetch'),\n      data: {\n       url: link\n      },\n      success: (data) => {\n         callback(this.convertOpenData(data, link));\n      },\n      error: function (xhr) {\n        callback(null, xhr);\n      }\n    });\n  }\n\n  isLink(link: string): boolean {\n    return this.regex.test(link);\n  }\n\n  loadImageInfo(src: string, callback: Function) {\n    let img = new Image();\n    img.onload = img.onerror = function (e) {\n      let imageInfo: OpenGraphImageInfo = {\n        width: img.width,\n        height: img.height\n      };\n      if (imageInfo.width && imageInfo.height) {\n        imageInfo.available = true;\n        imageInfo.landscape = imageInfo.width / imageInfo.height > 1.1;\n      }\n      callback(imageInfo);\n    };\n    img.src = src;\n  }\n\n  private convertOpenData(properties: any[], url: string): OpenGraphData {\n    if (properties.length < 1) {\n      return;\n    }\n    let openData = <OpenGraphData>{};\n\n    properties.forEach((item) => {\n      openData[item.property] = item.content;\n    });\n\n    if (!openData.url) {\n      openData.url = url;\n    }\n\n    return openData;\n  }\n}\n","import {\n    AfterContentChecked,\n    AfterViewChecked,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Output,\n    SimpleChanges,\n    ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {MessageContact} from \"../../model/MessageContact\";\nimport {APP_CHAT} from \"../../model/MessageConstants\";\nimport {MessageChat} from \"../../model/MessageChat\";\nimport {ChatMessageService} from \"../../message.service\";\nimport {MessageChatHolder} from \"../../model/MessageHolder\";\nimport {FileListComponent, FileListItem} from \"../../filelist/list/file-list.component\";\nimport {EnvelopBody} from 'inet-core';\nimport {VideoConferenceService} from \"../../video-conference.service\";\nimport { OpenGraphService } from '../../open-graph/open-graph.service';\n\ndeclare let iNet: any;\n// declare let $: any;\n// import {ifvisible} from \"ifvisible.js\"\n\n@Component({\n    selector: 'message-chat',\n    templateUrl: './message-chat.component.html',\n    styleUrls: ['./message-chat.component.css'],\n    encapsulation: ViewEncapsulation.None,\n})\nexport class MessageChatComponent implements OnInit, OnChanges, OnDestroy, AfterViewChecked, AfterContentChecked {\n    @Input() username: string;\n    @Input() audioCall: boolean = false;\n    @Input() videoCall: boolean = false;\n    @Input() closable: boolean = false;\n    @Output() onAudioCall = new EventEmitter<MessageContact>();\n    @Output() onVideoCall = new EventEmitter<MessageContact>();\n    @Output() onClose = new EventEmitter<MessageContact>();\n    @ViewChild('input') input: ElementRef;\n    @ViewChild('messageBody') messageBody: ElementRef;\n    @ViewChild('fileList') fileList: FileListComponent;\n    videoPanelVisible: boolean = false;\n    private linkRegex = /(https?:\\/\\/[^\\s]+)/;\n    contact: MessageContact;\n    holders: MessageChatHolder[] = [];\n    files: any[] = [];\n    loading: boolean = true;\n    profile = iNet.username;\n    messageJoinCall = {};\n    // @ViewChild(LinkPreviewComponent) linkPreview: LinkPreviewComponent;\n\n    get canSend(): boolean {\n        return this.files.length > 0 || this.message.length > 0;\n    }\n\n    get message(): string {\n        return this.input && this.input.nativeElement.value.trim() || '';\n    }\n\n    get scrollTop(): number {\n        return this.messageBody.nativeElement.scrollTop;\n    }\n\n    set scrollTop(scrollTop: number) {\n        this.messageBody.nativeElement.scrollTop = scrollTop;\n    }\n\n    get scrollHeight(): number {\n        return this.messageBody.nativeElement.scrollHeight;\n    }\n\n    get scrollBottom(): number {\n        return this.scrollHeight - this.messageBody.nativeElement.scrollTop;\n    }\n\n    set scrollBottom(scrollBottom: number) {\n        this.scrollTop = this.scrollHeight - scrollBottom;\n    }\n\n    private _scrollingTop: boolean;\n    private _scrollBottom: number;\n    private _lastScrollBottom: number;\n    private _scrollNeedUpdate: boolean;\n    private _hasMoreMsg: boolean = false;\n    private _messageObserver;\n    private __messageChat;\n\n    private _params: any = {\n        pageSize: 20,\n        pageNumber: 0\n    };\n\n    constructor(\n        private openGraphService: OpenGraphService,\n        private messageService: ChatMessageService,\n        private videoService: VideoConferenceService,\n        private element: ElementRef\n    ) {\n        this._messageObserver = this.messageService.messageReceived.subscribe((message: MessageChat) => {\n            if (message.message.sender !== iNet.username) {\n                if (message.message.sender === this.username) {\n                    if (message.message.message.alert) {\n                        let typeMessage = message.message.message.alert.split(\":\");\n                        if (typeMessage[0] === 'uri_message') {\n                            if (typeMessage[1] === 'video_conference' && !iNet.isEmpty(typeMessage[2])) {\n                                this.__messageChat = JSON.parse(this.decodeBase64(typeMessage[2])) || {};\n                                if (this.__messageChat.action === 'END') {\n                                    if (message.message.message.joins.split(',').length === 1) {\n                                        message.displayText = this.messageMissCall();\n                                        this._sendSuccess(message);\n                                    } else {\n                                        message.displayText = this.messageJoinedCall(message.message.message.duration);\n                                        this._sendSuccess(message);\n                                    }\n                                }\n                                if (this.__messageChat.action === 'LEFT' && message.message.message.joins.split(',')[0] === iNet.username) {\n                                    if (message.message.message.joins.split(',').length === 1) {\n                                        message.displayText = this.messageMissCall();\n                                        message.message.sender = message.message.message.joins.split(',')[0];\n                                        message.message.message.joins.split(',')[0] === iNet.username ? message.isSent = true : message.isSent = false;\n                                        this._sendSuccess(message);\n                                    } else {\n                                        message.displayText = this.messageJoinedCallTo(message.message.message.duration);\n                                        message.message.sender = message.message.message.joins.split(',')[0];\n                                        message.message.message.joins.split(',')[0] === iNet.username ? message.isSent = true : message.isSent = false;\n                                        this._sendSuccess(message);\n                                    }\n                                }\n                            }\n                        } else {\n                            this._sendSuccess(message);\n                        }\n                    }\n                } else {\n                    this.messageService.updateLastMessage(this.username, message.message);\n                    this.messageService.resetUnreadMessage(this.username);\n                }\n\n            } else {\n                let typeMessage = message.message.message.alert.split(\":\");\n                if (typeMessage[0] === 'uri_message') {\n                    if (typeMessage[1] === 'video_conference' && !iNet.isEmpty(typeMessage[2])) {\n                        this.__messageChat = JSON.parse(this.decodeBase64(typeMessage[2])) || {};\n                        if (this.__messageChat.action === 'JOIN') {\n                        } else {\n                            if (this.__messageChat.action === 'LEFT') {\n                                this.videoService.dispose();\n                                document.getElementById(\"meet\").style.visibility = \"hidden\";\n                                this._sendSuccess(message);\n                            }\n                        }\n                    }\n                }\n            }\n            // if (message.message.sender === this.username) {\n            // }\n        });\n        this.element.nativeElement.addEventListener('drop', (e) => {\n            this.element.nativeElement.style.opacity = '1';\n            this._onDropFile(e);\n        });\n        this.element.nativeElement.addEventListener('dragleave', (e) => {\n            this.element.nativeElement.style.opacity = '1';\n        });\n        this.element.nativeElement.addEventListener('dragover', (e) => {\n            this.element.nativeElement.style.opacity = '.5';\n            e.preventDefault();\n        });\n    }\n\n    private _onDropFile(ev) {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n        let files;\n        if (ev.dataTransfer.items) {\n            files = [];\n            // Use DataTransferItemList interface to access the file(s)\n            for (var i = 0; i < ev.dataTransfer.items.length; i++) {\n                // If dropped items aren't files, reject them\n                if (ev.dataTransfer.items[i].kind === 'file') {\n                    files.push(ev.dataTransfer.items[i].getAsFile());\n                }\n            }\n        } else {\n            files = ev.dataTransfer.files;\n        }\n        if (files.length > 0) {\n            this.fileList.addFiles(files);\n        }\n    }\n\n    ngAfterContentChecked() {\n        // Collect scroll position before render new messages\n        if (this._scrollNeedUpdate) {\n            this._lastScrollBottom = this.scrollBottom;\n        }\n    }\n\n    ngAfterViewChecked() {\n        // Restore scroll position after render new messages if not match\n        if (this._scrollNeedUpdate) {\n            let scrollBottom = this.scrollBottom;\n            this._scrollNeedUpdate = false;\n            if (this._lastScrollBottom != scrollBottom) {\n                // Restore last scrollBottom\n                this.scrollBottom = this._lastScrollBottom;\n            }\n        }\n    }\n\n    ngOnInit() {\n        this._onLoad();\n        // ifvisible.on(\"focus\", () => {\n        //     if (ifvisible.now()) {\n        //         this._params.pageNumber = 0;\n        //         this._onLoad();\n        //         // this.messageService.reconnetSocket();\n        //     }\n        // });\n        this.messageBody.nativeElement.addEventListener('scroll', () => this._onBodyScroll());\n        if (!this.videoService.isExistMeet()) {\n            this.videoPanelVisible = false;\n        }\n\n    }\n\n    private _onBodyScroll() {\n        const scrollBottom = this.scrollBottom;\n        this._scrollingTop = this._scrollBottom <= scrollBottom;\n        this._scrollBottom = scrollBottom;\n        if (this.loading || !this._hasMoreMsg) {\n            return;\n        }\n        // scroll to top\n        if (this._scrollingTop && this.scrollTop < 150) {\n            this._loadMessages();\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.username && !changes.username.firstChange) {\n            this._onLoad();\n            this.messageJoinCall['joined'] = false;\n        }\n    }\n\n    ngOnDestroy() {\n        this._messageObserver.unsubscribe();\n    }\n\n    viewAttachment(e: { file: FileListItem }) {\n        window.open(e.file.url, '_blank');\n    }\n\n    sendMessage() {\n        let value = this.message.trim();\n        let __mes = this.messageService.revertMessage(value) || '';\n        // let __mesDisplay = this.messageService.revertMessageDisplay(value) || '';\n        let links = this.linkRegex.exec(__mes);\n        if (links && links.length > 0) {\n            this.openGraphService.loadPreviewLink(this.message, (data) => {\n                value = this.encodeBase64(JSON.stringify(this.convertLinks(data)))\n                this.sendMessageSocket('uri_message:link_preview:' + value);\n            })\n        } else {\n            this.sendMessageSocket(value);\n        }\n\n    }\n\n    sendMessageSocket(value) {\n        if (value || this.files.length > 0) {\n            if (this.files.length > 0) {\n                this._sendPush(value);\n            } else {\n                this._sendSocket(value);\n            }\n            this._clearInput();\n        }\n    }\n\n    convertLinks(data) {\n        let param = {};\n        param['title'] = data['title'];\n        param['image'] = data['image'];\n        param['description'] = data['description'];\n        param['url'] = data['url'];\n        param['finalUrl'] = data['site_name'].toUpperCase();\n        return param;\n    }\n\n\n    private _loadMessages() {\n        this.loading = true;\n        this._hasMoreMsg = false;\n        this.messageService.loadMessages(this._params, (result) => {\n            // this.messages = result.items.concat(this.messages);\n            this._addMessages(result.items);\n            if (this._params.pageNumber === 0) {\n                this._scrollToBottom();\n            }\n            this._scrollNeedUpdate = true;\n            this._params.pageNumber += 1;\n            this._hasMoreMsg = this._params.pageSize * this._params.pageNumber < result.total;\n            setTimeout(() => {\n                this.loading = false;\n                this._onBodyScroll();\n            }, 500);\n        });\n    }\n\n    private _focus() {\n        this.input.nativeElement.focus();\n    }\n\n    private _scrollToBottom() {\n        setTimeout(() => {\n            this.scrollTop = this.scrollHeight;\n        }, 100);\n    }\n\n    private _clearInput() {\n        this.files.length = 0;\n        this.input.nativeElement.value = '';\n        this._focus();\n    }\n\n    private _addMessages(messagesArr: MessageChat[], insertLast: boolean = false) {\n        let messages = this.convertArrayMessage(JSON.stringify(messagesArr));\n        messages.sort((a, b) => b.date.getTime() - a.date.getTime());\n        messages.forEach((message) => {\n            let holder;\n            for (let i = 0; i < this.holders.length; i++) {\n                if (this.holders[i].isSameDate(message.date)) {\n                    holder = this.holders[i];\n                    break;\n                }\n            }\n            if (!holder) {\n                holder = new MessageChatHolder(message.date);\n                if (insertLast) {\n                    this.holders.push(holder);\n                } else {\n                    this.holders.unshift(holder);\n                }\n            }\n            if (insertLast) {\n                holder.messages.push(message);\n            } else {\n                holder.messages.unshift(message);\n            }\n        });\n    }\n\n\n    private convertMessages(messages) {\n        if (!iNet.isEmpty(messages)) {\n            let __mes = this.messageService.revertMessage(messages.displayText) || '';\n            let __mesDisplay = this.messageService.revertMessageDisplay(messages.displayText) || '';\n            let typeMessages = __mes.split(\":\");\n            if (typeMessages.length >= 2) {\n                if (typeMessages[0] === 'uri_message' && typeMessages[1] === 'video_conference') {\n                    let __messageChat = JSON.parse(this.decodeBase64(typeMessages[2])) || {};\n                    if (messages.message.sender === this.username) {\n                        if (__messageChat.action === 'END') {\n                            if (messages.message.message.joins.split(',').length === 1) {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageJoinedCall(messages.message.message.duration);\n                                return messages;\n                            }\n                        }\n                        if (__messageChat.action === 'LEFT' && messages.message.message.joins.split(',')[0] === messages.message.sender) {\n                            if (messages.message.message.joins.split(',').length === 1) {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageJoinedCall(messages.message.message.duration);\n                                return messages;\n                            }\n                        } else {\n                            return messages;\n                        }\n\n                    } else {\n                        if (__messageChat.action === 'END') {\n                            if (messages.message.message.joins.split(',').length === 1) {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageJoinedCallTo(messages.message.message.duration);\n                                return messages;\n                            }\n                        } else {\n                            if (this.messageJoinCall['joined']) {\n                                messages.displayText = this.messageJoinedCallTo(messages.message.message.duration);\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            }\n                        }\n\n                    }\n                } else {\n                    if (typeMessages[0] === 'uri_message' && typeMessages[1] === 'link_preview') {\n                        let __messageLink = JSON.parse(this.decodeBase64(typeMessages[2])) || {};\n                        messages['_openGraph'] = __messageLink;\n                        messages.displayText = __mesDisplay;\n                        return messages;\n                    } else {\n                        return messages;\n                    }\n                }\n            } else {\n                return messages;\n            }\n        }\n    }\n\n    messageMissCall(){\n        // $('.message-chat__miss').on('click',()=>{\n        //     console.log('click')\n        //     this.joinRoom(true);\n        // })\n        return  '<div class=\"contact d-flex my-1\" role=\"button\" style=\"\">\\n' +\n            '    <i class=\"message-chat__miss fa fa-phone ml-0\"></i>\\n' +\n            '    <div class=\"contact-content pl-2\">\\n' +\n            '        <div class=\"contact-name mb-1\">Cuá»c gá»i bá» nhá»¡</div>\\n' +\n            '        <div class=\"contact-detail\">Gá»i láº¡i</div>\\n' +\n            '    </div>\\n' +\n            '</div>'\n    }\n    messageJoinedCall(duration){\n        return  '<div class=\"contact d-flex my-1\" role=\"button\" style=\"\">\\n' +\n        '    <i class=\"message-chat__action fa fa-phone ml-0\"></i>\\n' +\n        '    <div class=\"contact-content pl-2\">\\n' +\n        '        <div class=\"contact-name mb-1\">Cuá»c gá»i thoáº¡i Äáº¿n</div>\\n' +\n        '        <div class=\"contact-detail\">' + duration + ' giÃ¢y' + '</div>\\n' +\n        '    </div>\\n' +\n        '</div>'\n    }\n    messageJoinedCallTo(duration){\n        return  '<div class=\"contact d-flex my-1\" role=\"button\" style=\"\">\\n' +\n            '    <i class=\"message-chat__action fa fa-phone ml-0\"></i>\\n' +\n            '    <div class=\"contact-content pl-2\">\\n' +\n            '        <div class=\"contact-name mb-1\">Cuá»c gá»i thoáº¡i Äi</div>\\n' +\n            '        <div class=\"contact-detail\">' + duration + ' giÃ¢y' + '</div>\\n' +\n            '    </div>\\n' +\n            '</div>'\n    }\n\n\n    private convertArrayMessage(arrMessage) {\n        let arr = JSON.parse(arrMessage);\n        arr.forEach(ele => {\n            ele = this.convertMessages(ele);\n            ele.date = new Date(ele.date);\n            return ele;\n        });\n        return arr;\n    }\n\n    encodeBase64(str: string) {\n        return window.btoa(unescape(encodeURIComponent(str)));\n    }\n\n    decodeBase64(str: string) {\n        return decodeURIComponent(escape(window.atob(str)));\n    }\n\n    private _onLoad() {\n        this.disposeRoom();\n        this._params.sender = this.username;\n        this._params.pageNumber = 0;\n        this._hasMoreMsg = false;\n        this.holders = [];\n        this.loading = true;\n        this.files.length = 0;\n        this.messageService.getContactByUserCode(this.username, (contact) => this.contact = contact);\n        setTimeout(() => {\n            this._loadMessages();\n            this._focus();\n        }, 500);\n    }\n\n    private _sendSocket(value: string) {\n        const envelop = this.messageService.buildEnvelop(this.username, value);\n        this.messageService.sendEnvelop(envelop);\n        this._sendSuccess(new MessageChat(envelop.body));\n    }\n\n    private _sendPush(value: string) {\n        var params = {\n            content: value,\n            alert: value,\n            application: APP_CHAT,\n            alias: this.username,\n        };\n        this.files.forEach(function (file, i) {\n            params['file-' + i] = file;\n        });\n        this.messageService.pushMessage(params, (message: EnvelopBody) => {\n            if (message) {\n                this._sendSuccess(new MessageChat(message));\n            }\n        });\n    }\n\n    private _sendSuccess(message: MessageChat) {\n        this._addMessages([this.convertMessages(message)], true);\n        this.messageService.updateLastMessage(this.username, message.message);\n        this.messageService.resetUnreadMessage(this.username);\n        this._scrollToBottom();\n    }\n\n    joinRoom(audioOnly: boolean, usercode?: string) {\n        this.videoPanelVisible = false;\n        this.messageJoinCall['joined'] = false;\n        if (!this.videoService.isExistMeet()) {\n            this.messageJoinCall['joined'] = false;\n            return;\n        }\n        const element = document.querySelector('#meet');\n        document.getElementById(\"meet\").style.visibility = \"visible\";\n            let __user = '';\n            if(!!usercode){\n                __user = usercode;\n            }else{\n                __user =  this.contact.usercode\n            }\n        this.videoService.callTo(element, __user, audioOnly, 350, (api, messages) => {\n            api.addEventListener('readyToClose', () => {\n                this.videoService.dispose();\n                document.getElementById(\"meet\").style.visibility = \"hidden\";\n                // this.messageService.sendEnvelop(envelop);\n                if (!this.messageJoinCall['joined']) {\n                    const envelop = this.messageService.buildEnvelop(this.username, messages);\n                    this._sendSuccess(new MessageChat(envelop.body));\n\n                }\n                // else{\n                //     let __joins = [iNet.username,this.username];\n                //     const envelop = this.messageService.buildEnvelop(this.username, messages,__joins.join(',') )\n                //     console.log('envelop',envelop,__joins.join(','))\n                //     this._sendSuccess(new MessageChat(envelop.body));\n                // }\n            });\n            api.addEventListener('videoConferenceJoined', () => {\n                this.messageJoinCall = this.videoService.getMessageJoin();\n                this.messageJoinCall['joined'] = true;\n            });\n        });\n\n    }\n\n    disposeRoom() {\n        this.videoPanelVisible = true;\n        this.videoService.dispose();\n    }\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n  selector: 'search-input',\n  templateUrl: './search-input.component.html',\n  styleUrls: ['./search-input.component.css']\n})\nexport class SearchInputComponent {\n  @Input() placeholder: string = '';\n  @Input() keyword: string = '';\n  @Output() onSearch = new EventEmitter<string>();\n  @Output() onPressed = new EventEmitter<KeyboardEvent>();\n  @Output() onChanged = new EventEmitter<string>();\n\n  search() {\n    this.onSearch.emit(this.keyword);\n  }\n\n  keyPressed(e: KeyboardEvent) {\n    this.onPressed.emit(e);\n    if (e.key === 'Enter') {\n      this.search();\n    }\n    this.onChanged.emit(this.keyword);\n  }\n\n  clear() {\n    this.keyword = '';\n    this.onChanged.emit(this.keyword);\n  }\n}\n","import {Component, EventEmitter, Input, OnDestroy, Output, ViewChild} from '@angular/core';\nimport {MessageContact} from \"../../model/MessageContact\";\nimport {ChatMessageService} from \"../../message.service\";\nimport { MessageChatComponent } from '../message-chat/message-chat.component';\n\n\n@Component({\n  selector: 'message-panel',\n  templateUrl: './message-panel.component.html',\n  styleUrls: ['./message-panel.component.css']\n})\nexport class MessagePanelComponent implements OnDestroy {\n  @Input() audioCall: boolean = true;\n  @Input() videoCall: boolean = true;\n  @Input() closable: boolean = false; // Support close button on small screen\n  @Output() unreadMessageChange = new EventEmitter<number>();\n  @ViewChild(MessageChatComponent) messageChatComponent:MessageChatComponent;\n\n  contact: MessageContact;\n  chatOpen: boolean = false;\n  readyToChat: boolean = false;\n  stateMessage: string;\n  roomName: string;\n  private readonly _socketSub: any;\n  private readonly _messageSub: any;\n\n  constructor(private messageService: ChatMessageService) {\n    this._socketSub = this.messageService.socketService.onStateChange.subscribe(() => this._stateChange());\n    this._messageSub = this.messageService.unreadMessageChange.subscribe((count) => this.unreadMessageChange.emit(count));\n    this._stateChange();\n  }\n\n  private _stateChange() {\n    this.readyToChat = this.messageService.socketService.connected;\n    if (this.messageService.socketService.connected) {\n      this.stateMessage = '';\n    } else if (this.messageService.socketService.closed) {\n      this.stateMessage = 'Káº¿t ná»i khÃ´ng thÃ nh cÃ´ng';\n    } else {\n      this.stateMessage = 'Äang káº¿t ná»i...';\n    }\n  }\n\n  ngOnDestroy() {\n    this._socketSub.unsubscribe();\n    this._messageSub.unsubscribe();\n  }\n\n  openVideoCall(contact: MessageContact) {\n\n  }\n\n  openAudioCall(contact: MessageContact) {\n\n  }\n\n  openChatWith(contact: MessageContact, call?: boolean) {\n    this.roomName= null;\n    if (this.contact !== contact) {\n      this.contact = contact;\n      contact.unread = 0; // mark read\n    }\n    // Delay for chat\n    setTimeout(() => {\n      this.chatOpen = true;\n      if(call){\n        this.messageChatComponent.messageJoinCall['joined']= false;\n        this.messageChatComponent.joinRoom(true,contact.usercode);\n      }\n    }, 100);\n  }\n\n  closeChat() {\n    this.chatOpen = false;\n  }\n\n  openRoom(roomName: string) {\n    this.contact = null;\n    this.roomName = roomName;\n  }\n  callToContactSelected(contact){\n    this.openChatWith(contact, true);\n  }\n}\n","import {Injectable} from '@angular/core';\n\ndeclare let iNet: any;\n\nconst FILES_FORMAT = [\n    'unknown', 'text', 'archive', 'audio', 'video',\n    'png', 'jpg', 'gif', 'tiff', 'svg', 'ai', 'psd', 'dwg',\n    'avi', 'fla', 'mp2', 'mp3', 'mp4', 'aac', 'flac', 'wma', 'wav', 'mxf',\n    'iso', 'mdf', 'nrg',\n    'zip', '7z', 'arj', 'rar',\n    'pdf', 'doc', 'rtf', 'txt', 'xls', 'ppt',\n    'css', 'csv', 'html', 'json', 'js', 'xml',\n    'dbf', 'exe'\n];\n\nconst FILES_EDIT_FORMAT = [\n    'doc', 'docx', 'odt', 'ods', 'xls', 'xlsx',\n    'ppt', 'pps', 'pptm', 'pptx','pot', 'potx',\n    'dot', 'dotx', 'docm','dotx', 'csv' , 'sxw']\n;\n\nconst FILES_VIEW_FORMAT = ['pdf', 'png', 'jpg' ,'jpeg' , 'gif'];\n\nconst UNKNOWN = 'unknown';\n\n@Injectable()\nexport class FileFormatService {\n\n    constructor() {}\n\n    getImagePath(): string {\n        let path =  iNet.commonImageFolder;\n        const lastIndex = path.lastIndexOf('/');\n        if (lastIndex === path.length - 1) {\n            return path.substring(0, lastIndex);\n        }\n        return path;\n    }\n\n    getFileFormatPath(): string {\n        return `${this.getImagePath()}/format`;\n    }\n\n    getUrlByExt(ext: string) {\n        const path = this.getFileFormatPath();\n        if (FILES_FORMAT.indexOf(ext) > -1) {\n            return `${path}/${ext.toLowerCase()}.svg`\n        }\n        return `${path}/${UNKNOWN}.svg`\n    }\n\n    getUrlByName(name: string) {\n        return this.getUrlByExt(this.getExtByName(name));\n    }\n\n    getExtByName(name: string) {\n        return name.split('.').pop().toLowerCase() || UNKNOWN;\n    }\n\n    getEditFormats(): string[] {\n        return FILES_EDIT_FORMAT;\n    }\n\n    getViewFormats(): string[] {\n        return FILES_VIEW_FORMAT;\n    }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {FileFormatService} from \"./file-format.service\";\n\n@Pipe({\n    name: 'fileExt'\n})\nexport class FileExtPipe implements PipeTransform {\n    constructor(private formatService: FileFormatService) {\n    }\n\n    transform(name: string): string {\n        return this.formatService.getExtByName(name);\n    }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {FileFormatService} from \"./file-format.service\";\n\n@Pipe({\n    name: 'fileIcon'\n})\nexport class FileIconPipe implements PipeTransform {\n\n    constructor(private formatService: FileFormatService) {\n\n    }\n\n    transform(name: string): string {\n        return this.formatService.getUrlByName(name);\n    }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FileExtPipe} from './file-ext.pipe';\nimport {FileIconPipe} from './file-icon.pipe';\nimport {FileFormatService} from './file-format.service';\nimport {FileListComponent} from \"./list/file-list.component\";\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        FileIconPipe,\n        FileExtPipe,\n        FileListComponent\n    ],\n    exports: [\n        FileIconPipe,\n        FileExtPipe,\n        FileListComponent\n    ],\n    providers: [FileFormatService]\n})\nexport class FileListModule {\n}\n","import {\n    Component, Input, OnDestroy, OnInit,\n} from '@angular/core';\nimport {VideoConferenceService} from \"../../video-conference.service\";\n\n@Component({\n    selector: 'room-chat',\n    templateUrl: './room-chat.component.html',\n    styleUrls: ['./room-chat.component.css']\n})\nexport class RoomChatComponent implements  OnInit, OnDestroy{\n    @Input() roomName: string;\n    videoPanelVisible: boolean = true;\n\n    constructor(\n        private videoService: VideoConferenceService,\n    ) {\n\n    }\n\n    ngOnInit(): void {\n        this.joinRoom();\n    }\n\n    ngOnDestroy(): void {\n        this.disposeRoom();\n    }\n\n    joinRoom() {\n        this.videoPanelVisible = false;\n        if(!this.videoService.isExistMeet()) {\n            return;\n        }\n        this.disposeRoom();\n        this.videoService.join(document.querySelector('#meetRoom'),this.roomName, false, 600);\n        this.videoService.getApi().addEventListener('readyToClose',  ()=> {\n            this.disposeRoom();\n        });\n    }\n\n    disposeRoom() {\n        this.videoPanelVisible = true;\n        this.videoService.dispose();\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {OpenGraphService} from \"../open-graph.service\";\nimport {OpenGraphData, OpenGraphImageInfo} from \"../model/OpenGraphData\";\n\n@Component({\n  selector: 'app-link-preview',\n  templateUrl: './link-preview.component.html',\n  styleUrls: ['./link-preview.component.css']\n})\nexport class LinkPreviewComponent implements OnInit {\n  @Input() link: string;\n  @Input() openGraphData: OpenGraphData;\n  @Input() removable: boolean = true;\n  @Output() onLoad = new EventEmitter();\n  @Output() onDelete = new EventEmitter();\n\n  _hidden: boolean = false;\n\n  constructor(\n    private openGraphService: OpenGraphService\n  ) { }\n\n  ngOnInit() {\n    if (this.openGraphService.isLink(this.link)) {\n      this.loadPreview();\n    } else if(this.openGraphData) {\n      this.loadImageInfo();\n    } else{\n      this.setHidden(true);\n    }\n  }\n\n  isPreview(): boolean {\n    return !this.isHidden() && (!!this.link || !!this.openGraphData);\n  }\n\n  setData(data: OpenGraphData) {\n    if (!data || !data.title) {\n      return;\n    }\n    this.openGraphData = data;\n    this.loadImageInfo();\n    this.setHidden(false);\n  }\n\n  getData() {\n    return this.openGraphData;\n  }\n\n  setLink(link: string) {\n    if (this.link === link) {\n      return;\n    }\n    this.link = link;\n    this.loadPreview();\n  }\n\n  removePreView() {\n    this.onDelete.emit(this);\n    this.clearData();\n  }\n\n  getDomain(url: string): string {\n    if (!url) {\n      return '';\n    }\n    let domain = url.split('/')[2] || '';\n    return domain.replace('www.', '');\n  }\n\n  clearData() {\n    this.link = null;\n    this.openGraphData = null;\n    this.setHidden(true);\n  }\n\n  private loadPreview() {\n    this.setHidden(false);\n    if (this.openGraphService.isLink(this.link)) {\n      this.openGraphService.loadPreviewLink(this.link, (data: OpenGraphData) => {\n        if (data) {\n          this.setData(data);\n        } else {\n          this.setHidden(true);\n        }\n      });\n    } else {\n      this.setHidden(true);\n    }\n  }\n\n  private loadImageInfo() {\n    if (this.openGraphData && this.openGraphData.image) {\n      this.openGraphService.loadImageInfo(this.openGraphData.image, (imageInfo: OpenGraphImageInfo) => {\n        this.openGraphData.imageInfo = imageInfo;\n      });\n    }\n  }\n\n  private setHidden(hidden: boolean) {\n    this._hidden = hidden;\n  }\n  \n  private isHidden() {\n    return this._hidden;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {OpenGraphService} from \"./open-graph.service\";\nimport { LinkPreviewComponent } from \"./link-preview/link-preview.component\";\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    LinkPreviewComponent\n  ],\n  declarations: [\n    LinkPreviewComponent\n  ],\n  providers: [\n    OpenGraphService\n  ]\n})\nexport class OpenGraphModule { }\n","import {NgModule, Injectable} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AccentService, CoreModule, WebSocketClientService} from \"inet-core\";\nimport {ChatMessageService} from \"./message.service\";\nimport {ContactListComponent} from \"./component/contact-list/contact-list.component\";\nimport {MessageChatComponent} from \"./component/message-chat/message-chat.component\";\nimport { SearchInputComponent } from './component/search-input/search-input.component';\nimport { MessagePanelComponent } from './component/message-panel/message-panel.component';\nimport {FormsModule} from \"@angular/forms\";\nimport {AutosizeModule} from \"ngx-autosize\";\nimport {FileListModule} from \"./filelist/file-list.module\";\nimport {RoomChatComponent} from \"./component/room-chat/room-chat.component\";\nimport {VideoConferenceService} from \"./video-conference.service\";\nimport { OpenGraphModule } from './open-graph/open-graph.module';\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        CoreModule,\n        AutosizeModule,\n        FileListModule,\n        OpenGraphModule\n    ],\n    exports: [\n        MessageChatComponent,\n        ContactListComponent,\n        SearchInputComponent,\n        MessagePanelComponent\n    ],\n    declarations: [\n        MessageChatComponent,\n        ContactListComponent,\n        SearchInputComponent,\n        MessagePanelComponent,\n        RoomChatComponent\n    ],\n    providers: [\n        AccentService,\n        ChatMessageService,\n        VideoConferenceService,\n        WebSocketClientService\n    ]\n})\nexport class ChatMessageModule {\n}\n"],"names":[],"mappings":"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"}