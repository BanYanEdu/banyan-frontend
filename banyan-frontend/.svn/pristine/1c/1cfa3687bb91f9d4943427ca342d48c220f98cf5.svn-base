!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ngx-translate/core"),require("rxjs"),require("rxjs/operators"),require("moment-mini"),require("text-encoding-utf-8"),require("slickgrid/plugins/slick.cellrangedecorator"),require("slickgrid/plugins/slick.cellrangeselector"),require("slickgrid/plugins/slick.cellselectionmodel"),require("flatpickr"),require("dompurify"),require("lodash.isequal"),require("jquery-ui-dist/jquery-ui"),require("slickgrid/lib/jquery.event.drag-2.3.0"),require("slickgrid/slick.core"),require("slickgrid/slick.grid"),require("slickgrid/slick.dataview"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-slickgrid",["exports","@angular/core","@ngx-translate/core","rxjs","rxjs/operators","moment-mini","text-encoding-utf-8","slickgrid/plugins/slick.cellrangedecorator","slickgrid/plugins/slick.cellrangeselector","slickgrid/plugins/slick.cellselectionmodel","flatpickr","dompurify","lodash.isequal","jquery-ui-dist/jquery-ui","slickgrid/lib/jquery.event.drag-2.3.0","slickgrid/slick.core","slickgrid/slick.grid","slickgrid/slick.dataview","@angular/common"],t):t((e=e||self)["angular-slickgrid"]={},e.ng.core,e["ngx-translate-core"],e.rxjs,e.rxjs.operators,e.moment,e.textEncodingUtf8,null,null,null,e.flatpickr,e.dompurify,e.lodash.isequal,null,null,null,null,null,e.ng.common)}(this,function(e,t,i,r,n,o,s,a,l,u,c,d,h,p,f,m,g,y,v){"use strict";c=c&&c.hasOwnProperty("default")?c["default"]:c;var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function S(e,t){function i(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var O,E,_,T,C,w,D,x,I,F,A,P,k=function(){return(k=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function N(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}function R(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function V(e,t,i,r){return new(i||(i=Promise))(function(n,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})}function M(e,t){var i,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&o[0]?r["return"]:o[0]?r["throw"]||((n=r["return"])&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function H(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function j(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o["return"])&&i.call(o)}finally{if(n)throw n.error}}return s}function G(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(j(arguments[t]));return e}(O=e.CaseType||(e.CaseType={}))[O.camelCase=0]="camelCase",O[O.pascalCase=1]="pascalCase",O[O.snakeCase=2]="snakeCase",(E=e.DelimiterType||(e.DelimiterType={})).colon=":",E.comma=",",E.equalSign="=",E.pipe="|",E.semicolon=";",E.space=" ",E.tab="\t",E.doubleColon="::",E.doublePipe="||",E.doubleSemicolon=";;",(_=e.EmitterType||(e.EmitterType={})).local="local",_.remote="remote",(T=e.ExtensionName||(e.ExtensionName={})).autoTooltip="autoTooltip",T.cellExternalCopyManager="cellExternalCopyManager",T.checkboxSelector="checkboxSelector",T.columnPicker="columnPicker",T.draggableGrouping="draggableGrouping",T.groupItemMetaProvider="groupItemMetaProvider",T.gridMenu="gridMenu",T.headerButton="headerButton",T.headerMenu="headerMenu",T.noname="noname",T.rowDetailView="rowDetailView",T.rowMoveManager="rowMoveManager",T.rowSelection="rowSelection",(C=e.FieldType||(e.FieldType={}))[C.unknown=0]="unknown",C[C.string=1]="string",C[C.boolean=2]="boolean",C[C.integer=3]="integer",C[C.float=4]="float",C[C.number=5]="number",C[C.date=6]="date",C[C.dateIso=7]="dateIso",C[C.dateUtc=8]="dateUtc",C[C.dateTime=9]="dateTime",C[C.dateTimeIso=10]="dateTimeIso",C[C.dateTimeIsoAmPm=11]="dateTimeIsoAmPm",C[C.dateTimeIsoAM_PM=12]="dateTimeIsoAM_PM",C[C.dateTimeShortIso=13]="dateTimeShortIso",C[C.dateEuro=14]="dateEuro",C[C.dateEuroShort=15]="dateEuroShort",C[C.dateTimeShortEuro=16]="dateTimeShortEuro",C[C.dateTimeEuro=17]="dateTimeEuro",C[C.dateTimeEuroAmPm=18]="dateTimeEuroAmPm",C[C.dateTimeEuroAM_PM=19]="dateTimeEuroAM_PM",C[C.dateTimeEuroShort=20]="dateTimeEuroShort",C[C.dateTimeEuroShortAmPm=21]="dateTimeEuroShortAmPm",C[C.dateTimeEuroShortAM_PM=22]="dateTimeEuroShortAM_PM",C[C.dateUs=23]="dateUs",C[C.dateUsShort=24]="dateUsShort",C[C.dateTimeShortUs=25]="dateTimeShortUs",C[C.dateTimeUs=26]="dateTimeUs",C[C.dateTimeUsAmPm=27]="dateTimeUsAmPm",C[C.dateTimeUsAM_PM=28]="dateTimeUsAM_PM",C[C.dateTimeUsShort=29]="dateTimeUsShort",C[C.dateTimeUsShortAmPm=30]="dateTimeUsShortAmPm",C[C.dateTimeUsShortAM_PM=31]="dateTimeUsShortAM_PM",C[C.object=32]="object",(w=e.FileType||(e.FileType={})).csv="csv",w.doc="doc",w.docx="docx",w.pdf="pdf",w.txt="txt",w.xls="xls",w.xlsx="xlsx",(D=e.FilterMultiplePassType||(e.FilterMultiplePassType={})).merge="merge",D.chain="chain",(x=e.GridStateType||(e.GridStateType={})).columns="columns",x.filter="filter",x.pagination="pagination",x.sorter="sorter",(I=e.KeyCode||(e.KeyCode={}))[I.BACKSPACE=8]="BACKSPACE",I[I.DELETE=46]="DELETE",I[I.DOWN=40]="DOWN",I[I.END=35]="END",I[I.ENTER=13]="ENTER",I[I.ESCAPE=27]="ESCAPE",I[I.HOME=36]="HOME",I[I.INSERT=45]="INSERT",I[I.LEFT=37]="LEFT",I[I.PAGE_DOWN=34]="PAGE_DOWN",I[I.PAGE_UP=33]="PAGE_UP",I[I.RIGHT=39]="RIGHT",I[I.TAB=9]="TAB",I[I.UP=38]="UP",(F=e.OperatorType||(e.OperatorType={})).empty="",F.contains="Contains",F.notContains="Not_Contains",F.lessThan="LT",F.lessThanOrEqual="LE",F.greaterThan="GT",F.greaterThanOrEqual="GE",F.notEqual="NE",F.equal="EQ",F.endsWith="EndsWith",F.startsWith="StartsWith",F["in"]="IN",F.notIn="NOT_IN",F.inContains="IN_CONTAINS",F.notInContains="NOT_IN_CONTAINS",(A=e.SortDirection||(e.SortDirection={})).asc="asc",A.ASC="ASC",A.desc="desc",A.DESC="DESC",(P=e.SortDirectionNumber||(e.SortDirectionNumber={}))[P.asc=1]="asc",P[P.desc=-1]="desc",P[P.neutral=0]="neutral";var L=function(){function e(e,t,i){this.compFactoryResolver=e,this.appRef=t,this.injector=i}return e.prototype.createAngularComponent=function(e){var t,i=this.compFactoryResolver.resolveComponentFactory(e).create(this.injector);this.appRef.attachView(i.hostView);var r=i.hostView;return r&&Array.isArray(r.rootNodes)&&r.rootNodes[0]&&(t=r.rootNodes[0]),{componentRef:i,domElement:t}},e.prototype.createAngularComponentAppendToDom=function(e,t,i){void 0===i&&(i=!1);var r=this.createAngularComponent(e);return t&&t.appendChild?(i&&t.innerHTML&&(t.innerHTML=""),t.appendChild(r.domElement)):document.body.appendChild(r.domElement),r},e=N([t.Injectable(),R("design:paramtypes",[t.ComponentFactoryResolver,t.ApplicationRef,t.Injector])],e)}();function B(e,t,i,r){var n=new Date;t&&i&&i.internalPostProcess&&i.internalPostProcess(t),i.postProcess&&(t instanceof Object&&(t.statistics={startTime:e,endTime:n,executionTime:n.valueOf()-e.valueOf(),itemCount:r&&r.pagination&&r.pagination.totalItems,totalItemCount:r&&r.pagination&&r.pagination.totalItems}),i.postProcess(t))}function U(e,t){if(!t||!t.onError)throw e;t.onError(e)}var z=o;function Q(e,t){("object"==typeof t&&t.hasOwnProperty("id")?e.findIndex(function(e){return e.id===t.id}):e.findIndex(function(e){return e===t}))<0&&e.push(t)}function W(e){for(var t="",i=0;i<e;i++)t+=" ";return t}function q(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}function Y(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})}function K(e,t,i){if(void 0===i&&(i=!1),!Array.isArray(e)||!Array.isArray(e))return!1;if(e.length!==t.length)return!1;i||(e.sort(),t.sort());for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function X(e,t){void 0===t&&(t="");var i=e;if(e instanceof Promise)return e;if(e instanceof r.Observable&&(i=e.pipe(n.first()).toPromise()),!(i instanceof Promise))throw new Error("Something went wrong, Angular-Slickgrid "+t+" is not able to convert the Observable into a Promise.\n      If you are using Angular HttpClient, you could try converting your http call to a Promise with \".toPromise()\"\n      for example::  this.http.post('graphql', { query: graphqlQuery }).toPromise()\n      ");return i}function Z(e,t,i){return void 0===i&&(i={}),e.find(t)||i}function J(e,t,i){if(isNaN(+e))return e;var r=t===undefined?2:t,n=i===undefined?2:i,o=String(Math.round(+e*Math.pow(10,n))/Math.pow(10,n));for(o.indexOf(".")<0&&r>0&&(o+=".");o.length-o.indexOf(".")<=r;)o+="0";return o}function ee(e,t,i,r,n,o){if(void 0===n&&(n=""),void 0===o&&(o=""),isNaN(+e))return e;var s=Math.round(1e6*parseFloat(e))/1e6;if(s<0){var a=Math.abs(s);return r?isNaN(t)&&isNaN(i)?"("+n+a+o+")":"("+n+J(a,t,i)+o+")":isNaN(t)&&isNaN(i)?"-"+n+a+o:"-"+n+J(a,t,i)+o}return isNaN(t)&&isNaN(i)?""+n+e+o:""+n+J(e,t,i)+o}function te(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function ie(){var e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=$("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),Math.ceil(100-t)}function re(t){var i;switch(t){case e.FieldType.dateTime:case e.FieldType.dateTimeIso:i="YYYY-MM-DD HH:mm:ss";break;case e.FieldType.dateTimeShortIso:i="YYYY-MM-DD HH:mm";break;case e.FieldType.dateTimeIsoAmPm:i="YYYY-MM-DD hh:mm:ss a";break;case e.FieldType.dateTimeIsoAM_PM:i="YYYY-MM-DD hh:mm:ss A";break;case e.FieldType.dateEuro:i="DD/MM/YYYY";break;case e.FieldType.dateEuroShort:i="D/M/YY";break;case e.FieldType.dateTimeEuro:i="DD/MM/YYYY HH:mm:ss";break;case e.FieldType.dateTimeShortEuro:i="DD/MM/YYYY HH:mm";break;case e.FieldType.dateTimeEuroAmPm:i="DD/MM/YYYY hh:mm:ss a";break;case e.FieldType.dateTimeEuroAM_PM:i="DD/MM/YYYY hh:mm:ss A";break;case e.FieldType.dateTimeEuroShort:i="D/M/YY H:m:s";break;case e.FieldType.dateTimeEuroShortAmPm:i="D/M/YY h:m:s a";break;case e.FieldType.dateUs:i="MM/DD/YYYY";break;case e.FieldType.dateUsShort:i="M/D/YY";break;case e.FieldType.dateTimeUs:i="MM/DD/YYYY HH:mm:ss";break;case e.FieldType.dateTimeShortUs:i="MM/DD/YYYY HH:mm";break;case e.FieldType.dateTimeUsAmPm:i="MM/DD/YYYY hh:mm:ss a";break;case e.FieldType.dateTimeUsAM_PM:i="MM/DD/YYYY hh:mm:ss A";break;case e.FieldType.dateTimeUsShort:i="M/D/YY H:m:s";break;case e.FieldType.dateTimeUsShortAmPm:i="M/D/YY h:m:s a";break;case e.FieldType.dateUtc:i="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case e.FieldType.date:case e.FieldType.dateIso:default:i="YYYY-MM-DD"}return i}function ne(t){var i;switch(t){case e.FieldType.dateTime:case e.FieldType.dateTimeIso:i="Y-m-d H:i:S";break;case e.FieldType.dateTimeShortIso:i="Y-m-d H:i";break;case e.FieldType.dateTimeIsoAmPm:case e.FieldType.dateTimeIsoAM_PM:i="Y-m-d h:i:S K";break;case e.FieldType.dateEuro:i="d/m/Y";break;case e.FieldType.dateEuroShort:i="d/m/y";break;case e.FieldType.dateTimeEuro:i="d/m/Y H:i:S";break;case e.FieldType.dateTimeShortEuro:i="d/m/y H:i";break;case e.FieldType.dateTimeEuroAmPm:i="d/m/Y h:i:S K";break;case e.FieldType.dateTimeEuroAM_PM:i="d/m/Y h:i:s K";break;case e.FieldType.dateTimeEuroShort:i="d/m/y H:i:s";break;case e.FieldType.dateTimeEuroShortAmPm:i="d/m/y h:i:s K";break;case e.FieldType.dateUs:i="m/d/Y";break;case e.FieldType.dateUsShort:i="m/d/y";break;case e.FieldType.dateTimeUs:i="m/d/Y H:i:S";break;case e.FieldType.dateTimeShortUs:i="m/d/y H:i";break;case e.FieldType.dateTimeUsAmPm:i="m/d/Y h:i:S K";break;case e.FieldType.dateTimeUsAM_PM:i="m/d/Y h:i:s K";break;case e.FieldType.dateTimeUsShort:i="m/d/y H:i:s";break;case e.FieldType.dateTimeUsShortAmPm:i="m/d/y h:i:s K";break;case e.FieldType.dateUtc:i="Z";break;case e.FieldType.date:case e.FieldType.dateIso:default:i="Y-m-d"}return i}function oe(t){var i;switch(t){case"<":i=e.OperatorType.lessThan;break;case"<=":i=e.OperatorType.lessThanOrEqual;break;case">":i=e.OperatorType.greaterThan;break;case">=":i=e.OperatorType.greaterThanOrEqual;break;case"<>":case"!=":case"neq":case"NEQ":i=e.OperatorType.notEqual;break;case"*":case".*":case"startsWith":i=e.OperatorType.startsWith;break;case"*.":case"endsWith":i=e.OperatorType.endsWith;break;case"=":case"==":case"eq":case"EQ":i=e.OperatorType.equal;break;case"in":case"IN":i=e.OperatorType["in"];break;case"notIn":case"NIN":case"NOT_IN":i=e.OperatorType.notIn;break;default:i=e.OperatorType.contains}return i}function se(t){var i;switch(t){case e.FieldType.string:case e.FieldType.unknown:i=e.OperatorType.contains;break;case e.FieldType.float:case e.FieldType.number:case e.FieldType.date:case e.FieldType.dateIso:case e.FieldType.date:case e.FieldType.dateUtc:case e.FieldType.dateTime:case e.FieldType.dateTimeIso:case e.FieldType.dateTimeIsoAmPm:case e.FieldType.dateTimeIsoAM_PM:case e.FieldType.dateEuro:case e.FieldType.dateEuroShort:case e.FieldType.dateTimeEuro:case e.FieldType.dateTimeEuroAmPm:case e.FieldType.dateTimeEuroAM_PM:case e.FieldType.dateTimeEuroShort:case e.FieldType.dateTimeEuroShortAmPm:case e.FieldType.dateTimeEuroShortAM_PM:case e.FieldType.dateUs:case e.FieldType.dateUsShort:case e.FieldType.dateTimeUs:case e.FieldType.dateTimeUsAmPm:case e.FieldType.dateTimeUsAM_PM:case e.FieldType.dateTimeUsShort:case e.FieldType.dateTimeUsShortAmPm:case e.FieldType.dateTimeUsShortAM_PM:default:i=e.OperatorType.equal}return i}function ae(e){return/(true|1)/i.test(e+"")}function le(e,t){var i=null;if(/^[0-9\-\/]*$/.test(e)){var r=decodeURIComponent(e),n=z(new Date(r));n.isValid()&&4===n.year().toString().length&&(i=t?n.utc().format():n.format())}return i}function ue(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function ce(e,t){return void 0===t&&(t=!1),"string"==typeof e?t?e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):e.charAt(0).toUpperCase()+e.slice(1):e}function de(e){return"string"==typeof e?e.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,function(e,t){return/[\s+\-_\/]/.test(e)?"":0===t?e.toLowerCase():e.toUpperCase()}):e}function he(e){return Array.isArray(e)&&e.length>0?e.filter(function(t,i){return e.indexOf(t)>=i}):e}function pe(e){return Array.isArray(e)&&(e.forEach(function(e){e&&e.unsubscribe&&e.unsubscribe()}),e=[]),e}var fe=o;function me(e,t,i,r,n){var o=0;if(null!==e&&""!==e&&fe(e,i,n).isValid())if(null!==t&&""!==t&&fe(t,i,n).isValid()){var s=fe(e,i,n),a=fe(t,i,n);o=parseInt(s.format("X"),10)-parseInt(a.format("X"),10)}else o=1;else o=-1;return r*(0===o?0:o>0?1:-1)}var ge=re(e.FieldType.dateEuroShort),ye=function(e,t,i){return me(e,t,ge,i,!0)},ve=re(e.FieldType.dateEuro),be=function(e,t,i){return me(e,t,ve,i,!0)},Se=re(e.FieldType.dateIso),Oe=function(e,t,i){return me(e,t,Se,i,!0)},Ee=o,_e=function(e,t,i){return me(e,t,Ee.ISO_8601,i)},Te=re(e.FieldType.dateUsShort),Ce=function(e,t,i){return me(e,t,Te,i,!0)},we=re(e.FieldType.dateUs),De=function(e,t,i){return me(e,t,we,i,!0)},xe=function(e,t,i){var r=isNaN(e)||""===e||null===e?-99e10:parseFloat(e),n=isNaN(t)||""===t||null===t?-99e10:parseFloat(t);return i*(r===n?0:r>n?1:-1)},Ie=function(t,i,r,n){if(!n||!n.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');var o=t.hasOwnProperty(n.dataKey)?t[n.dataKey]:t,s=i.hasOwnProperty(n.dataKey)?i[n.dataKey]:i;r!==undefined&&null!==r||(r=e.SortDirectionNumber.neutral);return r*("object"!=typeof t?-99e10:"object"!=typeof i?99e10:o?s?o===s?0:r?o<s?-1:1:o<s?1:-1:1:-1)},Fe=function(t,i,r){r!==undefined&&null!==r||(r=e.SortDirectionNumber.neutral);return r*(null===t?-1:null===i?1:t===i?0:r?t<i?-1:1:t<i?1:-1)},Ae={date:_e,dateIso:Oe,dateEuro:be,dateEuroShort:ye,dateUs:De,dateUsShort:Ce,numeric:xe,objectString:Ie,string:Fe};function Pe(t,i,r,n,o){var s=0;switch(r){case e.FieldType.number:s=Ae.numeric(t,i,n);break;case e.FieldType.date:s=Ae.date(t,i,n);break;case e.FieldType.dateIso:s=Ae.dateIso(t,i,n);break;case e.FieldType.dateEuro:s=Ae.dateEuro(t,i,n);break;case e.FieldType.dateEuroShort:s=Ae.dateEuroShort(t,i,n);break;case e.FieldType.dateUs:s=Ae.dateUs(t,i,n);break;case e.FieldType.dateUsShort:s=Ae.dateUsShort(t,i,n);break;case e.FieldType.object:s=Ae.objectString(t,i,n,o);break;default:s=Ae.string(t,i,n)}return s}var ke=function(){function r(e){this.translate=e}return r.prototype.filterCollection=function(t,i,r){var n,o;void 0===r&&(r=e.FilterMultiplePassType.chain);var s=[];if(Array.isArray(i)){s=r===e.FilterMultiplePassType.merge?[]:t;try{for(var a=H(i),l=a.next();!l.done;l=a.next()){var u=l.value;if(r===e.FilterMultiplePassType.merge)s=he(G(s,this.singleFilterCollection(t,u)));else s=this.singleFilterCollection(s,u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(o=a["return"])&&o.call(a)}finally{if(n)throw n.error}}}else s=this.singleFilterCollection(t,i);return s},r.prototype.singleFilterCollection=function(t,i){var r=[];if(i&&i.property){var n=i.property,o=i.operator||e.OperatorType.equal,s="undefined"==typeof i.value?"":i.value;switch(o){case e.OperatorType.equal:r=t.filter(function(e){return e[n]===s});break;case e.OperatorType.contains:r=t.filter(function(e){return-1!==e[n].toString().indexOf(s.toString())});break;case e.OperatorType.notContains:r=t.filter(function(e){return-1===e[n].toString().indexOf(s.toString())});break;case e.OperatorType.notEqual:default:r=t.filter(function(e){return e[n]!==s})}}return r},r.prototype.sortCollection=function(t,i,r,n){var o=this,s=[];if(r)if(Array.isArray(r))s=i.sort(function(i,s){for(var a=0,l=r.length;a<l;a++){var u=r[a];if(u&&u.property){var c=u.sortDesc?e.SortDirectionNumber.desc:e.SortDirectionNumber.asc,d=u.property,h=u.fieldType||e.FieldType.string,p=Pe(n?o.translate.instant(i[d]||" "):i[d],n?o.translate.instant(s[d]||" "):s[d],h,c,t);if(p!==e.SortDirectionNumber.neutral)return p}}return e.SortDirectionNumber.neutral});else if(r&&r.property){var a=r.property,l=r.sortDesc?e.SortDirectionNumber.desc:e.SortDirectionNumber.asc,u=r.fieldType||e.FieldType.string;s=i.sort(function(i,r){var s=Pe(n?o.translate.instant(i[a]||" "):i[a],n?o.translate.instant(r[a]||" "):r[a],u,l,t);return s!==e.SortDirectionNumber.neutral?s:e.SortDirectionNumber.neutral})}else if(r&&!r.property){var c=r.sortDesc?e.SortDirectionNumber.desc:e.SortDirectionNumber.asc,d=r.fieldType||e.FieldType.string;s=i.sort(function(i,r){var s=Pe(n?o.translate.instant(i||" "):i,n?o.translate.instant(r||" "):r,d,c,t);return s!==e.SortDirectionNumber.neutral?s:e.SortDirectionNumber.neutral})}return s},r=N([t.Injectable(),R("design:paramtypes",[i.TranslateService])],r)}(),Ne=function(){function n(e){this.translate=e,this._lineCarriageReturn="\n",this._hasGroupedItems=!1,this.onGridBeforeExportToFile=new r.Subject,this.onGridAfterExportToFile=new r.Subject}return Object.defineProperty(n.prototype,"datasetIdName",{get:function(){return this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),n.prototype.init=function(e,t){this._grid=e,this._dataView=t},n.prototype.exportToFile=function(e){var t=this;this.onGridBeforeExportToFile.next(!0),this._exportOptions=$.extend(!0,{},this._gridOptions.exportOptions,e);var i=this.getDataOutput();setTimeout(function(){var e={filename:t._exportOptions.filename+"."+t._exportOptions.format,csvContent:i,format:t._exportOptions.format,useUtf8WithBom:t._exportOptions.useUtf8WithBom};t.startDownloadFile(e),t.onGridAfterExportToFile.next({options:e})},0)},n.prototype.getDataOutput=function(){var t=this,i=this._grid.getColumns()||[],r=this._exportOptions.delimiter||"",n=this._exportOptions.format||"",o=this._exportOptions.groupingColumnHeaderTitle||this.translate.instant("GROUP_BY");this._exportQuoteWrapper=n===e.FileType.csv?'"':"";var s="",a=this._dataView.getGrouping();(a&&Array.isArray(a)&&a.length>0?(this._hasGroupedItems=!0,s+=""+o+r):this._hasGroupedItems=!1,this._columnHeaders=this.getColumnHeaders(i)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&this._columnHeaders.length>0)&&(s+=this._columnHeaders.map(function(e){return t._exportQuoteWrapper+e.title+t._exportQuoteWrapper}).join(r)+this._lineCarriageReturn);return s+=this.getAllGridRowData(i,this._lineCarriageReturn)},n.prototype.getAllGridRowData=function(e,t){for(var i=[],r=this._dataView.getLength(),n=0;n<r;n++){var o=this._dataView.getItem(n);null!=o&&(null!=o[this.datasetIdName]?i.push(this.readRegularRowData(e,n,o)):this._hasGroupedItems&&o.__groupTotals===undefined?i.push(this.readGroupedTitleRow(o)):o.__groupTotals&&i.push(this.readGroupedTotalRow(e,o)))}return i.join(this._lineCarriageReturn)},n.prototype.getColumnHeaders=function(e){var t=this;if(!e||!Array.isArray(e)||0===e.length)return null;var i=[];return e.forEach(function(e){var r=e.headerKey?t.translate.instant(e.headerKey):e.name,n=e.excludeFromExport||!1;(e.width===undefined||e.width>0)&&!n&&i.push({key:e.field||e.id,title:r})}),i},n.prototype.readRegularRowData=function(t,i,r){for(var n=0,o=[],s=this._exportOptions.delimiter,a=this._exportOptions.format,l=this._exportQuoteWrapper||"",u=0,c=t.length;u<c;u++){var d=t[u],h=d.field||d.id||"";if(!d.excludeFromExport){this._hasGroupedItems&&0===n&&o.push('""');var p=d.exportWithFormatter!==undefined?d.exportWithFormatter:this._exportOptions.exportWithFormatter,f=d.exportCustomFormatter!==undefined?d.exportCustomFormatter:undefined,m="";if(r&&r[h]&&f!==undefined&&null!==f)m=g=f(i,u,r[h],d,r,this._grid),g&&"object"==typeof g&&g.hasOwnProperty("text")&&(m=g.text),null===m&&(m="");else if(p&&d.formatter!==undefined&&null!==d.formatter){var g;m=g=d.formatter(i,u,r[h],d,r,this._grid),g&&"object"==typeof g&&g.hasOwnProperty("text")&&(m=g.text),null===m&&(m="")}else null===(m=null===r[h]||r[h]===undefined?"":r[h])&&(m="");(d.sanitizeDataExport||this._exportOptions.sanitizeDataExport)&&(m=ue(m)),a===e.FileType.csv&&m&&(m=m.toString().replace(/"/gi,'""'));var y=d&&d.exportCsvForceToKeepAsString?"=":"";o.push(y+l+m+l),n++}}return o.join(s)},n.prototype.readGroupedTitleRow=function(t){var i=ue(t.title),r=this._exportQuoteWrapper||"",n=this._exportOptions.format;return i=W(5*t.level)+i,n===e.FileType.csv&&(i=i.toString().replace(/"/gi,'""')),r+" "+i+r},n.prototype.readGroupedTotalRow=function(t,i){var r=this,n=this._exportOptions.delimiter,o=this._exportOptions.format,s=this._exportOptions.groupingAggregatorRowText||"",a=this._exportQuoteWrapper||"",l=[""+a+s+a];return t.forEach(function(t){var n="";t.groupTotalsFormatter&&(n=t.groupTotalsFormatter(i,t)),(t.sanitizeDataExport||r._exportOptions.sanitizeDataExport)&&(n=ue(n)),o===e.FileType.csv&&(n=n.toString().replace(/"/gi,'""')),l.push(a+n+a)}),l.join(n)},n.prototype.startDownloadFile=function(t){if("Microsoft Internet Explorer"===navigator.appName)throw new Error("Microsoft Internet Explorer 6 to 10 do not support javascript export to CSV. Please upgrade your browser.");var i,r=t.format===e.FileType.csv?"text/csv":"text/plain",n=Y(t.csvContent);i=t.format===e.FileType.csv?new s.TextEncoder("utf-8").encode(n):n;var o=new Blob([t.useUtf8WithBom?"\ufeff":"",i],{type:r+";charset=utf-8;"});if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,t.filename);else{var a=document.createElement("a"),l=URL.createObjectURL(o);a.textContent="download",a.href=l,a.setAttribute("download",t.filename),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},n=N([t.Injectable(),R("design:paramtypes",[i.TranslateService])],n)}(),Re=function(){function e(){}return e.TEXT_CANCEL="Cancel",e.TEXT_CLEAR_ALL_FILTERS="Clear All Filters",e.TEXT_CLEAR_ALL_SORTING="Clear All Sorting",e.TEXT_COLUMNS="Columns",e.TEXT_COMMANDS="Commands",e.TEXT_EXPORT_IN_CSV_FORMAT="Export in CSV format",e.TEXT_EXPORT_IN_TEXT_FORMAT="Export in Text format (Tab delimited)",e.TEXT_FORCE_FIT_COLUMNS="Force fit columns",e.TEXT_HIDE_COLUMN="Hide Column",e.TEXT_REFRESH_DATASET="Refresh Dataset",e.TEXT_REMOVE_FILTER="Remove Filter",e.TEXT_REMOVE_SORT="Remove Sort",e.TEXT_SAVE="Save",e.TEXT_SYNCHRONOUS_RESIZE="Synchronous resize",e.TEXT_SORT_ASCENDING="Sort Ascending",e.TEXT_SORT_DESCENDING="Sort Descending",e.TEXT_TOGGLE_FILTER_ROW="Toggle Filter Row",e.TEXT_TOGGLE_PRE_HEADER_ROW="Toggle Pre-Header Row",e.VALIDATION_REQUIRED_FIELD="Field is required",e.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",e.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",e.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}",e.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}",e.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}",e.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",e.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",e.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",e.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals",e}(),Ve=function(){function e(){}return Object.defineProperty(e.prototype,"allColumns",{get:function(){return this._allColumns},set:function(e){this._allColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._dataView=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._grid},set:function(e){this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this._gridOptions||this._grid&&this._grid.getOptions&&this._grid.getOptions()||{}},set:function(e){this._gridOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupItemMetadataProvider",{get:function(){return this._groupItemMetadataProvider},set:function(e){this._groupItemMetadataProvider=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this._visibleColumns},set:function(e){this._visibleColumns=e},enumerable:!0,configurable:!0}),e}(),Me=function(){function r(e,t){this.sharedService=e,this.translate=t}return r.prototype.arrayRemoveItemByIndex=function(e,t){return e.filter(function(e,i){return t!==i})},r.prototype.loadExtensionDynamically=function(t){try{switch(t){case e.ExtensionName.autoTooltip:require("slickgrid/plugins/slick.autotooltips");break;case e.ExtensionName.cellExternalCopyManager:require("slickgrid/plugins/slick.cellexternalcopymanager");break;case e.ExtensionName.checkboxSelector:require("slickgrid/plugins/slick.checkboxselectcolumn");break;case e.ExtensionName.columnPicker:require("slickgrid/controls/slick.columnpicker");break;case e.ExtensionName.draggableGrouping:require("slickgrid/plugins/slick.draggablegrouping");break;case e.ExtensionName.gridMenu:require("slickgrid/controls/slick.gridmenu");break;case e.ExtensionName.groupItemMetaProvider:require("slickgrid/slick.groupitemmetadataprovider");break;case e.ExtensionName.headerButton:require("slickgrid/plugins/slick.headerbuttons");break;case e.ExtensionName.headerMenu:require("slickgrid/plugins/slick.headermenu");break;case e.ExtensionName.rowSelection:require("slickgrid/plugins/slick.rowselectionmodel");break;case e.ExtensionName.rowDetailView:require("slickgrid/plugins/slick.rowdetailview");break;case e.ExtensionName.rowMoveManager:require("slickgrid/plugins/slick.rowmovemanager")}}catch(i){}},r.prototype.getPickerTitleOutputString=function(e,t){var i="",r=this.sharedService.gridOptions&&this.sharedService.gridOptions[t]||{},n=this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate||!1,o=r&&r[e],s=r&&r[e+"Key"];if(s)i=this.translate.instant(s||" ");else switch(e){case"customTitle":i=o||(n?this.translate.instant("COMMANDS"):Re.TEXT_COMMANDS);break;case"columnTitle":i=o||(n?this.translate.instant("COLUMNS"):Re.TEXT_COLUMNS);break;case"forceFitTitle":i=o||(n?this.translate.instant("FORCE_FIT_COLUMNS"):Re.TEXT_FORCE_FIT_COLUMNS);break;case"syncResizeTitle":i=o||(n?this.translate.instant("SYNCHRONOUS_RESIZE"):Re.TEXT_SYNCHRONOUS_RESIZE);break;default:i=o}return i},r.prototype.sortItems=function(e,t){e.sort(function(e,i){return e&&i&&e.hasOwnProperty(t)&&i.hasOwnProperty(t)?e[t]-i[t]:-1})},r.prototype.translateItems=function(e,t,i){var r,n;if(Array.isArray(e))try{for(var o=H(e),s=o.next();!s.done;s=o.next()){var a=s.value;a[t]&&(a[i]=this.translate.instant(a[t]))}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}},r=N([t.Injectable(),R("design:paramtypes",[Ve,i.TranslateService])],r)}(),$e=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t}return i.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.autoTooltip),this._addon=new Slick.AutoTooltips(this.sharedService.gridOptions.autoTooltipOptions||{}),this.sharedService.grid.registerPlugin(this._addon),this._addon):null},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}(),He=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(i.prototype,"addonOptions",{get:function(){return this._addonOptions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandQueue",{get:function(){return this._commandQueue},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"undoRedoBuffer",{get:function(){return this._undoRedoBuffer},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.register=function(){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.cellExternalCopyManager),this.createUndoRedoBuffer(),this.hookUndoShortcutKey(),this._addonOptions=k({},this.getDefaultOptions(),this.sharedService.gridOptions.excelCopyBufferOptions),this.sharedService.grid.setSelectionModel(new Slick.CellSelectionModel),this._addon=new Slick.CellExternalCopyManager(this._addonOptions),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.excelCopyBufferOptions&&(this.sharedService.gridOptions.excelCopyBufferOptions.onExtensionRegistered&&this.sharedService.gridOptions.excelCopyBufferOptions.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCopyCells,function(e,i){t.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof t.sharedService.gridOptions.excelCopyBufferOptions.onCopyCells&&t.sharedService.gridOptions.excelCopyBufferOptions.onCopyCells(e,i)}),this._eventHandler.subscribe(this._addon.onCopyCancelled,function(e,i){t.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof t.sharedService.gridOptions.excelCopyBufferOptions.onCopyCancelled&&t.sharedService.gridOptions.excelCopyBufferOptions.onCopyCancelled(e,i)}),this._eventHandler.subscribe(this._addon.onPasteCells,function(e,i){t.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof t.sharedService.gridOptions.excelCopyBufferOptions.onPasteCells&&t.sharedService.gridOptions.excelCopyBufferOptions.onPasteCells(e,i)})),this._addon):null},i.prototype.createUndoRedoBuffer=function(){var e=this,t=0;this._commandQueue=[],this._undoRedoBuffer={queueAndExecuteCommand:function(i){e._commandQueue[t]=i,t++,i.execute()},undo:function(){if(0!==t){t--;var i=e._commandQueue[t];i&&Slick.GlobalEditorLock.cancelCurrentEdit()&&i.undo()}},redo:function(){if(!(t>=e._commandQueue.length)){var i=e._commandQueue[t];t++,i&&Slick.GlobalEditorLock.cancelCurrentEdit()&&i.execute()}}}},i.prototype.getDefaultOptions=function(){var e=this,t=0;return{clipboardCommandHandler:function(t){e._undoRedoBuffer.queueAndExecuteCommand.call(e._undoRedoBuffer,t)},dataItemColumnValueExtractor:function(t,i){if(!e.sharedService.gridOptions.editable||!i.editor){var r=i.exportWithFormatter!==undefined?i.exportWithFormatter:e.sharedService.gridOptions.exportOptions&&e.sharedService.gridOptions.exportOptions.exportWithFormatter;if(i.formatter&&r){var n=i.formatter(0,0,t[i.field],i,t,e.sharedService.grid);if(i.sanitizeDataExport||e.sharedService.gridOptions.exportOptions&&e.sharedService.gridOptions.exportOptions.sanitizeDataExport){var o=n;return n&&"object"==typeof n&&n.hasOwnProperty("text")&&(o=n.text),null===o&&(o=""),ue(o)}return n}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:function(i){for(var r=0;r<i;r++){var n={id:"newRow_"+t++};e.sharedService.grid.getData().addItem(n)}}}},i.prototype.hookUndoShortcutKey=function(){var e=this;document.addEventListener("keydown",function(t){90===(t.keyCode||t.code)&&(t.ctrlKey||t.metaKey)&&(t.shiftKey?e._undoRedoBuffer.redo():e._undoRedoBuffer.undo())})},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}(),je=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t}return i.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.create=function(t,i){if(Array.isArray(t)&&i){this.extensionUtility.loadExtensionDynamically(e.ExtensionName.checkboxSelector),this._addon||(this._addon=new Slick.CheckboxSelectColumn(i.checkboxSelector||{}));var r=this._addon.getColumnDefinition();return"object"==typeof r&&(r.excludeFromExport=!0,r.excludeFromColumnPicker=!0,r.excludeFromGridMenu=!0,r.excludeFromQuery=!0,r.excludeFromHeaderMenu=!0,t.unshift(r)),this._addon}return null},i.prototype.register=function(t){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),t&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.rowSelection),t=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(t)),this.sharedService.gridOptions.preselectedRows&&t&&this.sharedService.grid.getSelectionModel()&&setTimeout(function(){return i._addon.selectRows(i.sharedService.gridOptions.preselectedRows)},0),t):null},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}(),Ge=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(i.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.register=function(){var t=this;if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(e.ExtensionName.columnPicker);var i=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),r=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),n=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker");return this.sharedService.gridOptions.columnPicker=this.sharedService.gridOptions.columnPicker||{},this.sharedService.gridOptions.columnPicker.columnTitle=this.sharedService.gridOptions.columnPicker.columnTitle||i,this.sharedService.gridOptions.columnPicker.forceFitTitle=this.sharedService.gridOptions.columnPicker.forceFitTitle||r,this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.sharedService.gridOptions.columnPicker.syncResizeTitle||n,this._addon=new Slick.Controls.ColumnPicker(this.sharedService.columnDefinitions,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.enableColumnPicker&&(this.sharedService.gridOptions.columnPicker.onExtensionRegistered&&this.sharedService.gridOptions.columnPicker.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onColumnsChanged,function(e,i){t.sharedService.gridOptions.columnPicker&&"function"==typeof t.sharedService.gridOptions.columnPicker.onColumnsChanged&&t.sharedService.gridOptions.columnPicker.onColumnsChanged(e,i)})),this._addon}return null},i.prototype.translateColumnPicker=function(){this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions&&(this.sharedService.gridOptions.columnPicker&&(this.emptyColumnPickerTitles(),this.sharedService.gridOptions.columnPicker.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._addon.init&&this._addon.init(this.sharedService.grid))},i.prototype.emptyColumnPickerTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.columnPicker&&(this.sharedService.gridOptions.columnPicker.columnTitle="",this.sharedService.gridOptions.columnPicker.forceFitTitle="",this.sharedService.gridOptions.columnPicker.syncResizeTitle="")},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}(),Le=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(i.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.create=function(t){return t?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.draggableGrouping),this._addon||(this._addon=new Slick.DraggableGrouping(t.draggableGrouping||{})),this._addon):null},i.prototype.register=function(){var e=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.draggableGrouping&&(this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered&&this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onGroupChanged,function(t,i){e.sharedService.gridOptions.draggableGrouping&&"function"==typeof e.sharedService.gridOptions.draggableGrouping.onGroupChanged&&e.sharedService.gridOptions.draggableGrouping.onGroupChanged(t,i)})),this._addon):null},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}();function Be(e){return/(true|1)/i.test(e+"")}var Ue=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";return Be(e.cellValue)===Be(t)},ze=function(e,t,i){switch(e){case"<":case"LT":return t<i;case"<=":case"LE":return t<=i;case">":case"GT":return t>i;case">=":case"GE":return t>=i;case"!=":case"<>":case"NE":return t!==i;case"=":case"==":case"EQ":return t===i;case"IN":return!(!i||!i.includes)&&i.includes(t);case"NIN":case"NOT_IN":return!(!i||!i.includes)&&!i.includes(t);case"IN_CONTAINS":return!!(i&&Array.isArray(i)&&i.findIndex)&&i.findIndex(function(e){return t.indexOf(e)>-1})>-1;case"NIN_CONTAINS":case"NOT_IN_CONTAINS":return!!(i&&Array.isArray(i)&&i.findIndex)&&!(i.findIndex(function(e){return t.indexOf(e)>-1})>-1)}return!0},Qe=o,We=re(e.FieldType.dateEuro),qe=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Qe(e.cellValue,We,!0).isValid()||!Qe(t,We,!0).isValid())return!1;var i=Qe(e.cellValue,We,!0),r=Qe(t,We,!0);return ze(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Ye=o,Ke=re(e.FieldType.dateEuroShort),Xe=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Ye(e.cellValue,Ke,!0).isValid()||!Ye(t,Ke,!0).isValid())return!1;var i=Ye(e.cellValue,Ke,!0),r=Ye(t,Ke,!0);return ze(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Ze=o,Je=function(t){var i=Array.isArray(t.searchTerms)&&t.searchTerms[0]||"",r=re(t.filterSearchType||e.FieldType.dateIso);if(null===i||""===i||!Ze(t.cellValue,Ze.ISO_8601).isValid()||!Ze(i,r,!0).isValid())return!1;var n=Ze(t.cellValue),o=Ze(i);return ze(t.operator||"==",parseInt(n.format("X"),10),parseInt(o.format("X"),10))},et=o,tt=re(e.FieldType.dateIso),it=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!et(e.cellValue,tt,!0).isValid()||!et(t,tt,!0).isValid())return!1;var i=et(e.cellValue,tt,!0),r=et(t,tt,!0);return ze(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},rt=o,nt=re(e.FieldType.dateUs),ot=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!rt(e.cellValue,nt,!0).isValid()||!rt(t,nt,!0).isValid())return!1;var i=rt(e.cellValue,nt,!0),r=rt(t,nt,!0);return ze(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},st=o,at=re(e.FieldType.dateUsShort),lt=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!st(e.cellValue,at,!0).isValid()||!st(t,at,!0).isValid())return!1;var i=st(e.cellValue,at,!0),r=st(t,at,!0);return ze(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},ut=o,ct=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"",i=re(e.filterSearchType||e.fieldType);if(!ut(e.cellValue,ut.ISO_8601).isValid()||!ut(t,i,!0).isValid())return!1;var r=ut(e.cellValue,ut.ISO_8601,!0),n=ut(t,i,!0);return ze(e.operator||"==",parseInt(r.format("X"),10),parseInt(n.format("X"),10))},dt=function(e){var t=e.cellValue+"";return ze(e.operator||"IN",t,e.searchTerms||[])},ht=function(e){var t=parseFloat(e.cellValue),i=Array.isArray(e.searchTerms)&&e.searchTerms[0]||0;return"string"==typeof i&&(i=parseFloat(i)),!(i||e.operator&&""!==e.operator)||ze(e.operator||"==",t,i)},pt=function(t){t.cellValue=t.cellValue===undefined||null===t.cellValue?"":t.cellValue.toString();var i=t.cellValue.toLowerCase(),r=Array.isArray(t.searchTerms)&&t.searchTerms[0]||"";return"string"==typeof r&&(r=r.toLowerCase()),"*"===t.operator||t.operator===e.OperatorType.endsWith?i.endsWith(r):""===t.operator&&"*"===t.cellValueLastChar||t.operator===e.OperatorType.startsWith?i.startsWith(r):""===t.operator?i.includes(r):ze(t.operator||"==",i,r)},ft=function(t){var i=t&&t.operator&&t.operator.toUpperCase();if("IN"===i||"NIN"===i||"IN_CONTAINS"===i||"NIN_CONTAINS"===i)return dt(t);switch(t.fieldType){case e.FieldType.boolean:return Ue(t);case e.FieldType.date:return Je(t);case e.FieldType.dateUtc:return ct(t);case e.FieldType.dateIso:return it(t);case e.FieldType.dateEuro:case e.FieldType.dateTimeEuro:return qe(t);case e.FieldType.dateEuroShort:case e.FieldType.dateTimeEuroShort:return Xe(t);case e.FieldType.dateUs:case e.FieldType.dateTimeUs:return ot(t);case e.FieldType.dateUsShort:case e.FieldType.dateTimeUsShort:return lt(t);case e.FieldType.number:return ht(t);case e.FieldType.object:return function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";return!(t||e.operator&&""!==e.operator)||function(e,t,i){if(i&&(e.hasOwnProperty(i)||t.hasOwnProperty(i)))return e[i]===t||e===t[i]||e[i]===t[i];for(var r in e)if(e.hasOwnProperty(r)&&e[r]!==t[r])return!1;for(var r in t)if(t.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}(e.cellValue,t,e.dataKey)}(t);case e.FieldType.string:default:return pt(t)}},mt={executeMappedCondition:ft,booleanFilter:Ue,collectionSearchFilter:dt,dateEuroFilter:qe,dateEuroShortFilter:Xe,dateFilter:Je,dateIsoFilter:it,dateUtcFilter:ct,dateUsFilter:ot,dateUsShortFilter:lt,numberFilter:ht,stringFilter:pt,testFilter:ze},gt=function(){function n(e,t){this.translate=e,this.collectionService=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.isFilled=!1,this.valueName="label",this.enableTranslateLabel=!1,this.subscriptions=[]}return Object.defineProperty(n.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collectionOptions||{}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||e.OperatorType.equal},enumerable:!0,configurable:!0}),n.prototype.init=function(e){if(!e)throw new Error('[Angular-SlickGrid] A filter must always have an "init()" with valid arguments.');if(this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],!(this.grid&&this.columnDef&&this.columnFilter&&(this.columnFilter.collection||this.columnFilter.collectionAsync||this.columnFilter.filterOptions)))throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") for the AutoComplete Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.autoComplete, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");this.enableTranslateLabel=this.columnFilter&&this.columnFilter.enableTranslateLabel||!1,this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value";var t=this.columnFilter.collection||[];this.renderDomElement(t);var i=this.columnFilter&&this.columnFilter.collectionAsync;i&&this.renderOptionsAsync(i)},n.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("keyup"))},n.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup input change").remove()},n.prototype.setValues=function(e){e&&this.$filterElm.val(e)},n.prototype.filterCollection=function(e){var t=e;if(this.columnFilter&&this.columnFilter.collectionFilterBy){var i=this.columnFilter.collectionFilterBy,r=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;t=this.collectionService.filterCollection(t,i,r)}return t},n.prototype.sortCollection=function(e){var t=e;if(this.columnFilter&&this.columnFilter.collectionSortBy){var i=this.columnFilter.collectionSortBy;t=this.collectionService.sortCollection(this.columnDef,t,i,this.enableTranslateLabel)}return t},n.prototype.renderOptionsAsync=function(e){return V(this,void 0,void 0,function(){var t;return M(this,function(i){switch(i.label){case 0:return t=[],e?[4,X(e)]:[3,2];case 1:t=i.sent(),this.renderDomElementFromCollectionAsync(t),this.createCollectionAsyncSubject(),i.label=2;case 2:return[2]}})})},n.prototype.createCollectionAsyncSubject=function(){var e=this,t=new r.Subject;this.columnFilter.collectionAsync=t,this.subscriptions.push(t.subscribe(function(t){return e.renderDomElementFromCollectionAsync(t)}))},n.prototype.renderDomElementFromCollectionAsync=function(e){if(this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=te(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the AutoComplete Filter, the collection is not a valid array.');this.columnFilter.collection=e,this.renderDomElement(e)},n.prototype.renderDomElement=function(e){var t=this;if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=te(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Autocomplete Filter is not a valid array');var i=e;i=this.filterCollection(i),i=this.sortCollection(i);var r=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",n=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(n,i,r),this.$filterElm.on("keyup input change",function(e){var i=e&&e.target&&e.target.value||"",r=t.gridOptions.enableFilterTrimWhiteSpace||t.columnFilter.enableTrimWhiteSpace;"string"==typeof i&&r&&(i=i.trim()),t._clearFilterTriggered?(t.callback(e,{columnDef:t.columnDef,clearFilterTriggered:t._clearFilterTriggered,shouldTriggerQuery:t._shouldTriggerQuery}),t.$filterElm.removeClass("filled")):""===i?(t.$filterElm.removeClass("filled"),t.callback(e,{columnDef:t.columnDef,operator:t.operator,searchTerms:[i],shouldTriggerQuery:t._shouldTriggerQuery})):t.$filterElm.addClass("filled"),t._clearFilterTriggered=!1,t._shouldTriggerQuery=!0})},n.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return this.columnFilter&&this.columnFilter.placeholder&&(t=this.columnFilter.placeholder),'<input type="text" role="presentation" autocomplete="off" class="form-control autocomplete search-filter filter-'+e+'" placeholder="'+t+'">'},n.prototype.createDomElement=function(e,t,i){var r=this,n=this.columnDef&&this.columnDef.id,o=this.grid.getHeaderRowColumn(n);$(o).empty();var s=$(e),a=i;Array.isArray(t)&&this.customStructure&&(t=t.map(function(e){return{label:e[r.labelName],value:e[r.valueName]}}));var l=this.columnFilter.filterOptions;if(l)l.select=function(e,t){return r.onSelect(e,t)},s.autocomplete(l);else{if(!Array.isArray(t))throw new Error('AutoComplete default implementation requires a "collection" or "collectionAsync" to be provided for the filter to work properly');s.autocomplete({minLength:0,source:t,select:function(e,t){return r.onSelect(e,t)}})}return s.val(a),s.attr("id","filter-"+n),s.data("columnId",n),i&&s.addClass("filled"),s&&"function"==typeof s.appendTo&&s.appendTo(o),s},n.prototype.onSelect=function(e,t){if(t&&t.item){var i="string"==typeof t.item?t.item:t.item.label,r="string"==typeof t.item?t.item:t.item.value;this.$filterElm.val(i),this.callback(e,{columnDef:this.columnDef,operator:this.operator,searchTerms:[r],shouldTriggerQuery:this._shouldTriggerQuery}),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return!1},n=N([t.Injectable(),R("design:paramtypes",[i.TranslateService,ke])],n)}();require("flatpickr");var yt,vt=function(){function t(e){this.translate=e,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(t.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this._operator||e.OperatorType.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;if(e){this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator||"",this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(i),this.$filterInputElm.keyup(function(e){t.onTriggerEvent(e)}),this.$selectOperatorElm.change(function(e){t.onTriggerEvent(e)})}},t.prototype.clear=function(e){void 0===e&&(e=!0),this.flatInstance&&this.$selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$selectOperatorElm.val(0),this.flatInstance.clear())},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup").remove()},t.prototype.setValues=function(e){this.flatInstance&&e&&Array.isArray(e)&&this.flatInstance.setDate(e[0])},t.prototype.buildDatePickerInput=function(t){var i=this,r=ne(this.columnDef.type||e.FieldType.dateIso),n=ne(this.columnDef.outputType||this.columnDef.type||e.FieldType.dateUtc),o=this.translate.currentLang||"en";o.length>2&&(o=o.substring(0,2));var s={defaultDate:t||"",altInput:!0,altFormat:n,dateFormat:r,wrap:!0,closeOnSelect:!0,locale:"en"!==o?this.loadFlatpickrLocale(o):"en",onChange:function(e,t,r){i._currentValue=t,s.enableTime?i.onTriggerEvent(new CustomEvent("keyup")):i.onTriggerEvent(undefined)}};n&&("Z"===n||n.toLowerCase().includes("h"))&&(s.enableTime=!0);var a=k({},s,this.columnFilter.filterOptions),l=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";this.columnFilter&&this.columnFilter.placeholder&&(l=this.columnFilter.placeholder);var u=$('<div class="flatpickr"><input type="text" class="form-control" data-input placeholder="'+l+'"></div>');return this.flatInstance=u[0]&&"function"==typeof u[0].flatpickr?u[0].flatpickr(a):c(u,a),u},t.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},t.prototype.getOptionValues=function(){return[{operator:"",description:""},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]},t.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=this.grid.getHeaderRowColumn(t);$(i).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=this.buildDatePickerInput(e);var r=$('<div class="form-group search-filter filter-'+t+'"></div>'),n=$('<div class="input-group flatpickr"></div>'),o=$('<div class="input-group-addon input-group-prepend operator"></div>');return o.append(this.$selectOperatorElm),n.append(o),n.append(this.$filterInputElm),r.append(n),r.attr("id","filter-"+t),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&(r.addClass("filled"),this._currentValue=e),r&&"function"==typeof r.appendTo&&r.appendTo(i),r},t.prototype.loadFlatpickrLocale=function(e){if(this.gridOptions&&this.gridOptions.params&&this.gridOptions.params.flapickrLocale)return this.gridOptions.params.flapickrLocale;if("en"!==e){var t=require("flatpickr/dist/l10n/"+e+".js")["default"];return t&&t[e]?t[e]:"en"}return"en"},t.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterElm.removeClass("filled");else{var t=this.$selectOperatorElm.find("option:selected").text();this._currentValue?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:this._currentValue?[this._currentValue]:null,operator:t||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0},t.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},t.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},t}(),bt=function(){function t(e){this.translate=e,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._inputType="text"}return Object.defineProperty(t.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this._operator||e.OperatorType.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator,this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(i),this.$filterInputElm.on("keyup input change",function(e){t.onTriggerEvent(e)}),this.$selectOperatorElm.on("change",function(e){t.onTriggerEvent(e)})},t.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&this.$selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$selectOperatorElm.val(0),this.$filterInputElm.val(""),this.onTriggerEvent(null))},t.prototype.destroy=function(){this.$filterElm&&this.$selectOperatorElm&&(this.$filterElm.off("keyup input change").remove(),this.$selectOperatorElm.off("change"))},t.prototype.setValues=function(e){e&&Array.isArray(e)&&this.$filterElm.val(e[0])},t.prototype.buildInputHtmlString=function(){var e=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return this.columnFilter&&this.columnFilter.placeholder&&(e=this.columnFilter.placeholder),'<input type="'+(this._inputType||"text")+'" role="presentation"  autocomplete="off" class="form-control" placeholder="'+e+'" /><span></span>'},t.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},t.prototype.getOptionValues=function(){var t=[];switch(this.columnDef.type&&this.columnDef.type?this.columnDef.type:e.FieldType.string){case e.FieldType.string:t=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:this.translate.instant("EQUALS")},{operator:"a*",description:this.translate.instant("STARTS_WITH")},{operator:"*z",description:this.translate.instant("ENDS_WITH")}];break;default:t=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]}return t},t.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=this.grid.getHeaderRowColumn(t);$(i).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=$(this.buildInputHtmlString());var r=$('<div class="form-group search-filter filter-'+t+'"></div>'),n=$('<div class="input-group"></div>'),o=$('<div class="input-group-addon input-group-prepend operator"></div>');return o.append(this.$selectOperatorElm),n.append(o),n.append(this.$filterInputElm),r.append(n),r.attr("id","filter-"+t),this.$filterInputElm.val(e),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&r.addClass("filled"),r&&"function"==typeof r.appendTo&&r.appendTo(i),r},t.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterElm.removeClass("filled");else{var t=this.$selectOperatorElm.find("option:selected").text(),i=this.$filterInputElm.val(),r=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof i&&r&&(i=i.trim()),null!==i&&i!==undefined&&""!==i?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:i?[i]:null,operator:t||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0},t}(),St=function(e){function t(t){var i=e.call(this,t)||this;return i.translate=t,i.inputType="number",i}return S(t,e),t}(bt),Ot=function(e){function t(t){var i=e.call(this,t)||this;return i.translate=t,i.inputType="password",i}return S(t,e),t}(bt),Et=function(){function t(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(t.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterParams",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterProperties",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this._operator||e.OperatorType.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;if(e){this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator||"",this.searchTerms=e.searchTerms||[],this._elementRangeInputId="rangeInput_"+this.columnDef.field,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field;var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(i),this.$filterInputElm.change(function(e){t.onTriggerEvent(e)}),this.$selectOperatorElm.change(function(e){t.onTriggerEvent(e)}),this.filterParams.hideSliderNumber||this.$filterInputElm.on("input change",function(e){var i=e&&e.target&&e.target.value||"";i&&(document.getElementById(t._elementRangeOutputId).innerHTML=i)})}},t.prototype.clear=function(e){if(void 0===e&&(e=!0),this.$filterElm&&this.$selectOperatorElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[];var t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0;this.$selectOperatorElm.val(0),this.$filterInputElm.val(t),this.filterParams.hideSliderNumber||this.$containerInputGroupElm.children("div.input-group-addon.input-group-append").children().last().html(t),this.onTriggerEvent(undefined),this.$filterElm.removeClass("filled")}},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("input change").remove()},t.prototype.setValues=function(e){e&&Array.isArray(e)&&(this.$filterInputElm.val(e[0]),this.$containerInputGroupElm.children("div.input-group-addon.input-group-append").children().last().html(e[0]))},t.prototype.buildTemplateHtmlString=function(){var e=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,t=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,i=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:e,r=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;return'<input type="range" id="'+this._elementRangeInputId+'"\n              name="'+this._elementRangeInputId+'"\n              defaultValue="'+i+'" min="'+e+'" max="'+t+'" step="'+r+'"\n              class="form-control slider-filter-input range compound-slider" />'},t.prototype.buildTemplateSliderTextHtmlString=function(){var e=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:e;return'<div class="input-group-addon input-group-append slider-value"><span class="input-group-text" id="'+this._elementRangeOutputId+'">'+t+"</span></div>"},t.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},t.prototype.getOptionValues=function(){return[{operator:"",description:""},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]},t.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=e||"0",r=this.grid.getHeaderRowColumn(this.columnDef.id);$(r).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=$(this.buildTemplateHtmlString());var n=$('<div class="form-group search-filter filter-'+t+'"></div>');this.$containerInputGroupElm=$('<div class="input-group search-filter filter-'+t+'"></div>');var o=$('<span class="input-group-addon input-group-prepend operator"></span>');if(o.append(this.$selectOperatorElm),this.$containerInputGroupElm.append(o),this.$containerInputGroupElm.append(this.$filterInputElm),!this.filterParams.hideSliderNumber){var s=$(this.buildTemplateSliderTextHtmlString());s.children().html(i),this.$containerInputGroupElm.append(s)}return n.append(this.$containerInputGroupElm),n.attr("id","filter-"+t),this.$filterInputElm.val(i),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},t.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery});else{var t=this.$selectOperatorElm.find("option:selected").text(),i=this.$filterInputElm.val();i?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:i?[i]:null,operator:t||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0},t}(),_t=function(){function e(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._inputType="text"}return Object.defineProperty(e.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,i),this.$filterElm.on("keyup input change",function(e){var i=e&&e.target&&e.target.value||"",r=t.gridOptions.enableFilterTrimWhiteSpace||t.columnFilter.enableTrimWhiteSpace;"string"==typeof i&&r&&(i=i.trim()),t._clearFilterTriggered?(t.callback(e,{columnDef:t.columnDef,clearFilterTriggered:t._clearFilterTriggered,shouldTriggerQuery:t._shouldTriggerQuery}),t.$filterElm.removeClass("filled")):(""===i?t.$filterElm.removeClass("filled"):t.$filterElm.addClass("filled"),t.callback(e,{columnDef:t.columnDef,operator:t.operator,searchTerms:[i],shouldTriggerQuery:t._shouldTriggerQuery})),t._clearFilterTriggered=!1,t._shouldTriggerQuery=!0})},e.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("keyup"))},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup input change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return this.columnFilter&&this.columnFilter.placeholder&&(t=this.columnFilter.placeholder),'<input type="'+(this._inputType||"text")+'" role="presentation"  autocomplete="off" class="form-control search-filter filter-'+e+'" placeholder="'+t+'"><span></span>'},e.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e);return n.val(t),n.attr("id","filter-"+i),n.data("columnId",i),t&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e}(),Tt=function(e){function t(){var t=e.call(this)||this;return t.inputType="text",t}return S(t,e),Object.defineProperty(t.prototype,"inputMask",{get:function(){return this.columnDef.params&&this.columnDef.params&&this.columnDef.params.mask},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;if(!e)throw new Error('[Angular-SlickGrid] A filter must always have an "init()" with valid arguments.');this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,i),this.$filterElm.on("keyup input change",function(e){var i="";if(e&&e.target&&e.target.value){var r=e.target.value,n=t.gridOptions.enableFilterTrimWhiteSpace||t.columnFilter.enableTrimWhiteSpace;"string"==typeof r&&n&&(r=r.trim());var o=t.unmaskValue(r),s=t.maskValue(o);i=o,e.keyCode>=48&&(t.$filterElm.val(s),e.preventDefault())}t._clearFilterTriggered?(t.callback(e,{columnDef:t.columnDef,clearFilterTriggered:t._clearFilterTriggered,shouldTriggerQuery:t._shouldTriggerQuery}),t.$filterElm.removeClass("filled")):(t.$filterElm.addClass("filled"),t.callback(e,{columnDef:t.columnDef,operator:t.operator,searchTerms:[i],shouldTriggerQuery:t._shouldTriggerQuery})),t._clearFilterTriggered=!1,t._shouldTriggerQuery=!0})},t.prototype.maskValue=function(e){var t=0,i="";return this.inputMask&&(i=this.inputMask.replace(/[09A]/gi,function(i){return(("0"===i||"9"===i)&&/\d+/g.test(e[t])||"A"===i.toUpperCase()&&/[^\d]+/gi.test(e[t]))&&e[t++]||""})),i},t.prototype.unmaskValue=function(e){for(var t=e.replace(/[^0-9a-z]*/gi,""),i=this.inputMask.replace(/[^0-9a-z]*/gi,""),r="",n=0;n<i.length;n++)t[n]&&(("0"===i[n]||"9"===i[n])&&/\d+/g.test(t[n])||"A"===i[n].toUpperCase()&&/[^\d]+/gi.test(t[n]))&&(r+=t[n]);return r},t}(_t),Ct=function(e){function t(){var t=e.call(this)||this;return t.inputType="number",t}return S(t,e),t}(_t),wt=function(e){function t(){var t=e.call(this)||this;return t.inputType="password",t}return S(t,e),t}(_t),Dt=d,xt=function(){function t(e,t,i){void 0===i&&(i=!0);var r=this;this.translate=e,this.collectionService=t,this.isMultipleSelect=i,this._isFilterFirstRender=!0,this._shouldTriggerQuery=!0,this.isFilled=!1,this.enableTranslateLabel=!1,this.subscriptions=[];var n={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,single:!0,textTemplate:function(e){return r.columnDef&&r.columnDef.filter&&r.columnDef.filter.enableRenderHtml||!1?e.text():e.html()},onClose:function(){var e=r.$filterElm.multipleSelect("getSelects");Array.isArray(e)&&e.length>1||1===e.length&&""!==e[0]?(r.isFilled=!0,r.$filterElm.addClass("filled").siblings("div .search-filter").addClass("filled")):(r.isFilled=!1,r.$filterElm.removeClass("filled"),r.$filterElm.siblings("div .search-filter").removeClass("filled")),r.callback(undefined,{columnDef:r.columnDef,operator:r.operator,searchTerms:e,shouldTriggerQuery:r._shouldTriggerQuery}),r._shouldTriggerQuery=!0}};this.isMultipleSelect&&(n.single=!1,n.okButton=!0,n.addTitle=!0,n.countSelected=this.translate.instant("X_OF_Y_SELECTED"),n.allSelected=this.translate.instant("ALL_SELECTED"),n.selectAllText=this.translate.instant("SELECT_ALL"),n.selectAllDelimiter=["",""]),this.defaultOptions=n}return Object.defineProperty(t.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collectionOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator?this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator:this.isMultipleSelect?e.OperatorType["in"]:e.OperatorType.equal},enumerable:!0,configurable:!0}),t.prototype.init=function(e,t){if(this._isFilterFirstRender=t,this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") for the MultipleSelect/SingleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");if(this.enableTranslateLabel=this.columnFilter.enableTranslateLabel,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this.translate||"function"!=typeof this.translate.instant))throw new Error("[select-editor] The ngx-translate TranslateService is required for the Select Filter to work correctly");var i=this.columnFilter.collection||[];this.renderDomElement(i);var r=this.columnFilter&&this.columnFilter.collectionAsync;r&&this.renderOptionsAsync(r)},t.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&this.$filterElm.multipleSelect&&(this.$filterElm.multipleSelect("setSelects",[]),this.$filterElm.removeClass("filled"),this.$filterElm.siblings("div .search-filter").removeClass("filled"),this.searchTerms=[],this._shouldTriggerQuery=e,this.callback(undefined,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0)},t.prototype.destroy=function(){if(this.$filterElm){this.$filterElm.off().remove();var e=this.elementName.toString().replace(".","\\.");$("[name="+e+"].ms-drop").remove()}this.subscriptions=pe(this.subscriptions)},t.prototype.setValues=function(e){e&&(e=Array.isArray(e)?e:[e],this.$filterElm.multipleSelect("setSelects",e))},t.prototype.filterCollection=function(e){var t=e;if(this.columnDef&&this.columnFilter&&this.columnFilter.collectionFilterBy){var i=this.columnFilter.collectionFilterBy,r=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;t=this.collectionService.filterCollection(t,i,r)}return t},t.prototype.sortCollection=function(e){var t=e;if(this.columnDef&&this.columnFilter&&this.columnFilter.collectionSortBy){var i=this.columnFilter.collectionSortBy;t=this.collectionService.sortCollection(this.columnDef,t,i,this.enableTranslateLabel)}return t},t.prototype.renderOptionsAsync=function(e){return V(this,void 0,void 0,function(){var t;return M(this,function(i){switch(i.label){case 0:return t=[],e?[4,X(e)]:[3,2];case 1:t=i.sent(),this.renderDomElementFromCollectionAsync(t),this.createCollectionAsyncSubject(),i.label=2;case 2:return[2]}})})},t.prototype.createCollectionAsyncSubject=function(){var e=this,t=new r.Subject;this.columnFilter.collectionAsync=t,this.subscriptions.push(t.subscribe(function(t){return e.renderDomElementFromCollectionAsync(t)}))},t.prototype.renderDomElementFromCollectionAsync=function(e){if(this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=te(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Select Filter, the collection is not a valid array.');this.columnFilter.collection=e,this.renderDomElement(e)},t.prototype.renderDomElement=function(e){if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=te(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Select Filter is not a valid array');this.collectionOptions&&this.collectionOptions.addBlankEntry&&this._isFilterFirstRender&&e.unshift(this.createBlankEntry());var t=e;t=this.filterCollection(t),t=this.sortCollection(t);var i=this.buildTemplateHtmlString(t,this.searchTerms);this.createDomElement(i)},t.prototype.buildTemplateHtmlString=function(e,t){var i=this,r="",n=this.columnDef&&this.columnDef.id,o=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",s=this.columnFilter&&this.columnFilter.enableRenderHtml||!1,a=this.gridOptions&&this.gridOptions.sanitizeHtmlOptions||{};return e.every(function(e){return"string"==typeof e})?e.forEach(function(e){var n=t.findIndex(function(t){return t===e})>=0?"selected":"";r+='<option value="'+e+'" label="'+e+'" '+n+">"+e+"</option>",n&&(i.isFilled=!0)}):e.forEach(function(e){if(!e||e[i.labelName]===undefined&&e.labelKey===undefined)throw new Error("[select-filter] A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");var n=e.labelKey||e[i.labelName],l=t.findIndex(function(t){return t===e[i.valueName]})>=0?"selected":"",u=(e.labelKey||i.enableTranslateLabel)&&n?i.translate.instant(n||" "):n,c=e[i.labelPrefixName]||"",d=e[i.labelSuffixName]||"",h=e[i.optionLabel]||"";h=h.toString().replace(/\"/g,"'"),c=i.enableTranslateLabel&&c&&"string"==typeof c?i.translate.instant(c||" "):c,d=i.enableTranslateLabel&&d&&"string"==typeof d?i.translate.instant(d||" "):d,h=i.enableTranslateLabel&&h&&"string"==typeof h?i.translate.instant(h||" "):h;var p=[c,u,d].filter(function(e){return e}).join(o);s&&(p=q(Dt.sanitize(p,a)));r+='<option value="'+e[i.valueName]+'" label="'+h+'" '+l+">"+p+"</option>",l&&(i.isFilled=!0)}),'<select class="ms-filter search-filter filter-'+n+'" '+(this.isMultipleSelect?'multiple="multiple"':"")+">"+r+"</select>"},t.prototype.createBlankEntry=function(){var e,t=((e={})[this.labelName]="",e[this.valueName]="",e);return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t},t.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id;this.elementName="filter-"+t,this.defaultOptions.name=this.elementName;var i=this.grid.getHeaderRowColumn(t);if($(i).empty(),this.$filterElm=$(e),"function"!=typeof this.$filterElm.multipleSelect)throw new Error('multiple-select.js was not found, make sure to modify your "angular-cli.json" file and include "../node_modules/angular-slickgrid/lib/multiple-select/multiple-select.js" and it\'s css or SASS file');this.$filterElm.attr("id",this.elementName),this.$filterElm.attr("name",this.elementName),this.$filterElm.data("columnId",t),this.isFilled&&this.$filterElm.addClass("filled"),this.$filterElm&&"function"==typeof this.$filterElm.appendTo&&this.$filterElm.appendTo(i);var r=k({},this.defaultOptions,this.columnFilter.filterOptions);this.filterElmOptions=k({},this.defaultOptions,r),this.$filterElm=this.$filterElm.multipleSelect(this.filterElmOptions)},t}(),It=function(e){function t(t,i){var r=e.call(this,t,i,!0)||this;return r.translate=t,r.collectionService=i,r}return S(t,e),t}(xt),Ft=function(){function t(e){this.translate=e,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(t.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||e.OperatorType.equal},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";"boolean"!=typeof i&&"number"!=typeof i||(i=""+i);var r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,i),this.$filterElm.change(function(e){var i=e&&e.target&&e.target.value||"";t._clearFilterTriggered?(t.callback(e,{columnDef:t.columnDef,clearFilterTriggered:t._clearFilterTriggered,shouldTriggerQuery:t._shouldTriggerQuery}),t.$filterElm.removeClass("filled")):(""===i?t.$filterElm.removeClass("filled"):t.$filterElm.addClass("filled"),t.callback(e,{columnDef:t.columnDef,operator:t.operator,searchTerms:[i],shouldTriggerQuery:t._shouldTriggerQuery})),t._clearFilterTriggered=!1,t._shouldTriggerQuery=!0})},t.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("change"))},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},t.prototype.setValues=function(e){e&&this.$filterElm.val(e)},t.prototype.buildTemplateHtmlString=function(){var e=this;if(!this.columnDef||!this.columnDef.filter||!this.columnDef.filter.collection)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" for the Select Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.select, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");var t=this.columnDef&&this.columnDef.id,i=this.columnDef.filter.collection||[],r=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.label:"label",n=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.value:"value",o="";return i.every(function(e){return"string"==typeof e})?i.forEach(function(e){o+='<option value="'+e+'" label="'+e+'">'+e+"</option>"}):i.forEach(function(t){if(!t||t[r]===undefined&&t.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.select, collection: [ { value: '1', label: 'One' } ]')");var i=t.labelKey||t[r],s=(t.labelKey||e.columnDef.filter.enableTranslateLabel)&&e.translate&&"function"==typeof e.translate.instant?e.translate.instant(i||" "):i;o+='<option value="'+t[n]+'">'+s+"</option>"}),'<select class="form-control search-filter filter-'+t+'">'+o+"</select>"},t.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e),o=t||"";return n.val(o),n.attr("id","filter-"+i),n.data("columnId",i),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},t}(),At=function(e){function t(t,i){var r=e.call(this,t,i,!1)||this;return r.translate=t,r.collectionService=i,r}return S(t,e),t}(xt),Pt=function(){function t(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(t.prototype,"filterParams",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterProperties",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||e.OperatorType.equal},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;if(!e)throw new Error('[Angular-SlickGrid] A filter must always have an "init()" with valid arguments.');this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],this._elementRangeInputId="rangeInput_"+this.columnDef.field,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field;var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,i),this.$filterElm.change(function(e){var i=e&&e.target&&e.target.value||"";t._clearFilterTriggered?(t.callback(e,{columnDef:t.columnDef,clearFilterTriggered:t._clearFilterTriggered,shouldTriggerQuery:t._shouldTriggerQuery}),t.$filterElm.removeClass("filled")):(""===i?t.$filterElm.removeClass("filled"):t.$filterElm.addClass("filled"),t.callback(e,{columnDef:t.columnDef,operator:t.operator,searchTerms:[i],shouldTriggerQuery:t._shouldTriggerQuery})),t._clearFilterTriggered=!1,t._shouldTriggerQuery=!0}),this.filterParams.hideSliderNumber||this.$filterElm.on("input change",function(e){var i=e&&e.target&&e.target.value||"";i&&(document.getElementById(t._elementRangeOutputId).innerHTML=i)})},t.prototype.clear=function(e){if(void 0===e&&(e=!0),this.$filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[];var t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0;this.$filterElm.children("input").val(t),this.$filterElm.children("div.input-group-addon.input-group-append").children().html(t),this.$filterElm.trigger("change")}},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},t.prototype.setValues=function(e){e&&this.$filterElm.val(e)},t.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,i=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,r=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:t,n=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;return this.filterParams.hideSliderNumber?'\n      <div class="search-filter filter-'+e+'">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-filter-input range" />\n      </div>':'\n      <div class="input-group search-filter filter-'+e+'">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-filter-input range" />\n        <div class="input-group-addon input-group-append slider-value">\n          <span class="input-group-text" id="'+this._elementRangeOutputId+'">'+r+"</span>\n        </div>\n      </div>"},t.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e),o=t||"0";return n.children("input").val(o),n.children("div.input-group-addon.input-group-append").children().html(o),n.attr("id","filter-"+i),n.data("columnId",i),t&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},t}(),kt={autoComplete:gt,compoundDate:vt,compoundInput:bt,compoundInputNumber:St,compoundInputPassword:Ot,compoundInputText:bt,compoundSlider:Et,input:_t,inputMask:Tt,inputNumber:Ct,inputPassword:wt,inputText:_t,multipleSelect:It,select:Ft,singleSelect:At,slider:Pt},Nt={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:180,minWidth:300,sidePadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0},datasetIdPropertyName:"id",defaultFilter:kt.input,enableFilterTrimWhiteSpace:!1,defaultFilterPlaceholder:"&#128269;",editable:!1,enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableExport:!0,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,exportOptions:{delimiter:e.DelimiterType.comma,exportWithFormatter:!1,filename:"export",format:e.FileType.csv,groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},forceFitColumns:!1,gridMenu:{hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideExportCsvCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"fa fa-bars",iconClearAllFiltersCommand:"fa fa-filter text-danger",iconClearAllSortingCommand:"fa fa-unsorted text-danger",iconExportCsvCommand:"fa fa-download",iconExportTextDelimitedCommand:"fa fa-download",iconRefreshDatasetCommand:"fa fa-refresh",iconToggleFilterCommand:"fa fa-random",iconTogglePreHeaderCommand:"fa fa-random",menuWidth:16,resizeOnShowHeaderRow:!0},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconClearFilterCommand:"fa fa-filter text-danger",iconClearSortCommand:"fa fa-unsorted",iconSortAscCommand:"fa fa-sort-amount-asc",iconSortDescCommand:"fa fa-sort-amount-desc",iconColumnHideCommand:"fa fa-times",hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideSortCommands:!1},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowDetailView:{cssClass:"detail-view-toggle",panelRows:1,keyPrefix:"__",useRowClick:!0,useSimpleViewportCalc:!0,saveDetailViewOnScroll:!1,process:function(){return new Promise(function(e){return e("")})},viewComponent:null},rowHeight:35,topPanelHeight:35},Rt=function(){return function(){this.options=Nt}}(),Vt=function(){function e(e,t,i){this.config=e,this.translate=t,this.collectionService=i,this._options=this.config.options}return e.prototype.createFilter=function(e){var t;return e&&e.model&&(t="function"==typeof e.model?new e.model(this.translate,this.collectionService):e.model),!t&&this._options.defaultFilter&&(t=new this._options.defaultFilter(this.translate,this.collectionService)),t},e=N([t.Injectable(),R("design:paramtypes",[Rt,i.TranslateService,ke])],e)}(),Mt=h,$t=function(){function i(e){this.filterFactory=e,this._eventHandler=new Slick.EventHandler,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filters=[],this._columnFilters={},this.onFilterChanged=new r.Subject,this.onFilterCleared=new r.Subject}return Object.defineProperty(i.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),i.prototype.init=function(e){this._grid=e},i.prototype.attachBackendOnFilter=function(e,t){var i=this;this._dataView=t,this._filters=[],this._slickSubscriber=new Slick.Event,this._slickSubscriber.subscribe(this.onBackendFilterChange.bind(this)),this._eventHandler.subscribe(e.onHeaderRowCellRendered,function(e,t){t.column.id===i._firstColumnIdRendered&&(i._isFilterFirstRender=!1),i.addFilterTemplateToHeaderRow(t,i._isFilterFirstRender),""===i._firstColumnIdRendered&&(i._firstColumnIdRendered=t.column.id)})},i.prototype.onBackendFilterChange=function(t,i){var r=this;if(!i||!i.grid)throw new Error('Something went wrong when trying to attach the "attachBackendOnFilterSubscribe(event, args)" function, it seems that "args" is not populated correctly');var n=this._gridOptions.backendServiceApi;if(!n||!n.process||!n.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');try{var o=new Date;n.preProcess&&n.preProcess();var s=0;i&&i.clearFilterTriggered||!t||t.keyCode===e.KeyCode.ENTER||"input"!==t.type&&"keyup"!==t.type&&"keydown"!==t.type||(s=n.filterTypingDebounce||500),i&&i.shouldTriggerQuery&&(s>0?(clearTimeout(yt),yt=setTimeout(function(){return r.executeBackendCallback(t,i,o,n)},s)):this.executeBackendCallback(t,i,o,n))}catch(a){U(a,n)}},i.prototype.executeBackendCallback=function(t,i,n,o){return V(this,void 0,void 0,function(){var s,a,l=this;return M(this,function(u){switch(u.label){case 0:return[4,o.service.processOnFilterChanged(t,i)];case 1:return s=u.sent(),i&&!i.clearFilterTriggered&&this.emitFilterChanged(e.EmitterType.remote),(a=o.process(s))instanceof Promise&&a.then?a.then(function(e){return B(n,e,o,l._gridOptions)}):r.isObservable(a)&&a.subscribe(function(e){return B(n,e,o,l._gridOptions)},function(e){return U(e,o)}),[2]}})})},i.prototype.attachLocalOnFilter=function(t,i){var r=this;this._filters=[],this._dataView=i,this._slickSubscriber=new Slick.Event,i.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid}),i.setFilter(this.customLocalFilter.bind(this,i)),this._slickSubscriber.subscribe(function(t,n){null!=n.columnId&&i.refresh(),n&&!n.clearFilterTriggered&&r.emitFilterChanged(e.EmitterType.local)}),this._eventHandler.subscribe(t.onHeaderRowCellRendered,function(e,t){r.addFilterTemplateToHeaderRow(t)})},i.prototype.clearFilterByColumnId=function(t,i){var r=this._filters.find(function(e){return e.columnDef.id===i});for(var n in r&&r.clear&&r.clear(!0),this._columnFilters)n===i&&this._columnFilters[n]&&delete this._columnFilters[n];var o=e.EmitterType.local;(this._gridOptions&&this._gridOptions.backendServiceApi||!1)&&(o=e.EmitterType.remote,this.onBackendFilterChange(t,{grid:this._grid,columnFilters:this._columnFilters})),this.emitFilterChanged(o)},i.prototype.clearFilters=function(){for(var e in this._filters.forEach(function(e){e&&e.clear&&e.clear(!1)}),this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e];if(this._dataView&&this._grid&&(this._dataView.refresh(),this._grid.invalidate()),this._gridOptions&&this._gridOptions.backendServiceApi){var t={clearFilterTriggered:!0,shouldTriggerQuery:!0,grid:this._grid,columnFilters:this._columnFilters};this.executeBackendCallback(undefined,t,new Date,this._gridOptions.backendServiceApi)}this.onFilterCleared.next(!0)},i.prototype.customLocalFilter=function(t,i,r){var n,o;try{for(var s=H(Object.keys(r.columnFilters)),a=s.next();!a.done;a=s.next()){var l=a.value,u=r.columnFilters[l],c=r.grid.getColumnIndex(l),d=r.grid.getColumns()[c];if(!d)return!1;if(this._gridOptions.enableRowDetailView){var h=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";i[h+"isPadding"]&&i[h+"parent"]&&(i=i[h+"parent"])}var p=d.dataKey,f=d.queryField||d.queryFieldFilter||d.field,m=d.type||e.FieldType.string,g=d.filterSearchType?d.filterSearchType:null,y=i[f];f.indexOf(".")>=0&&(y=te(i,f));var v=u&&u.searchTerms?$.extend(!0,[],u.searchTerms):null,b=Array.isArray(v)&&1===v.length?v[0]:"",S=null;m!==e.FieldType.object&&(S=(b=""+b).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/));var O=u.operator||(S?S[1]:""),E=S?S[2]:"",_=S?S[3]:"*z"===O?"*":"";if(v&&v.length>1?b=v.join(","):"string"==typeof b&&(b=b.replace("'","''"),"*"!==O&&"a*"!==O&&"*z"!==O&&"*"!==_||(O="*"===O||"*z"===O?e.OperatorType.endsWith:e.OperatorType.startsWith)),""===E&&(!v||Array.isArray(v)&&0===v.length))return!0;if(Array.isArray(S)&&S.length>=1&&Array.isArray(v)&&1===v.length&&(v[0]=E),v&&Array.isArray(v)&&m!==e.FieldType.object)for(var T=0,C=v.length;T<C;T++)v[T]=(v[T]===undefined||null===v[T]?"":v[T])+"";if(d&&d.params&&d.params.useFormatterOuputToFilter){var w=t&&"function"==typeof t.getIdxById?t.getIdxById(i.id):0;y=d.formatter(w,c,y,d,i,this._grid)}if("number"==typeof y&&(y=y.toString()),!mt.executeMappedCondition({dataKey:p,fieldType:m,searchTerms:v,cellValue:y,operator:O,cellValueLastChar:_,filterSearchType:g}))return!1}}catch(D){n={error:D}}finally{try{a&&!a.done&&(o=s["return"])&&o.call(s)}finally{if(n)throw n.error}}return!0},i.prototype.dispose=function(){this.disposeColumnFilters(),this._eventHandler.unsubscribeAll(),this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe()},i.prototype.disposeColumnFilters=function(){for(var e in this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e];this._filters.forEach(function(e,t){e&&e.destroy&&e.destroy(!0)})},i.prototype.getColumnFilters=function(){return this._columnFilters},i.prototype.getCurrentLocalFilters=function(){var e,t,i=[];if(this._columnFilters)try{for(var r=H(Object.keys(this._columnFilters)),n=r.next();!n.done;n=r.next()){var o=n.value,s=this._columnFilters[o],a={columnId:o||""};s&&s.searchTerms&&(a.searchTerms=s.searchTerms),s.operator&&(a.operator=s.operator),Array.isArray(a.searchTerms)&&a.searchTerms.length>0&&""!==a.searchTerms[0]&&i.push(a)}}catch(l){e={error:l}}finally{try{n&&!n.done&&(t=r["return"])&&t.call(r)}finally{if(e)throw e.error}}return i},i.prototype.callbackSearchEvent=function(t,i){if(i){var r=t&&t.target?t.target.value:undefined,n=i.searchTerms&&Array.isArray(i.searchTerms)?i.searchTerms:r?[r]:undefined,o=i.columnDef||null,s=o&&o.id||"",a=i.operator||undefined,l=n&&Array.isArray(n),u=l&&n.length,c=k({},this._columnFilters);if(!l||0===u||1===u&&""===n[0])delete this._columnFilters[s];else{var d=""+s,h={columnId:d,columnDef:o,searchTerms:n};a&&(h.operator=a),this._columnFilters[d]=h}(t&&t.keyCode)!==e.KeyCode.ENTER&&Mt(c,this._columnFilters)||this.triggerEvent(this._slickSubscriber,{clearFilterTriggered:i.clearFilterTriggered,shouldTriggerQuery:i.shouldTriggerQuery,columnId:s,columnDef:i.columnDef||null,columnFilters:this._columnFilters,operator:a,searchTerms:n,serviceOptions:this._onFilterChangedOptions,grid:this._grid},t)}},i.prototype.addFilterTemplateToHeaderRow=function(e,t){void 0===t&&(t=!0);var i=e.column,r=i.id||"";if(i&&"selector"!==r&&i.filterable){var n=void 0,o=void 0,s=this.filterFactory.createFilter(e.column.filter);o=i&&i.filter&&i.filter.operator||s&&s.operator||undefined,this._columnFilters[i.id]?(n=this._columnFilters[i.id].searchTerms||undefined,o=this._columnFilters[i.id].operator||undefined):i.filter&&(n=i.filter.searchTerms||undefined,this.updateColumnFilters(n,i,o));var a={grid:this._grid,operator:o,searchTerms:n,columnDef:i,callback:this.callbackSearchEvent.bind(this)};if(s){s.init(a,t);var l=this._filters.findIndex(function(e){return s.columnDef.name===e.columnDef.name});-1===l?this._filters.push(s):this._filters[l]=s,n&&s.setValues&&s.setValues(n)}}},i.prototype.emitFilterChanged=function(t){if(t===e.EmitterType.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){var i=[],r=this._gridOptions.backendServiceApi.service;r&&r.getCurrentFilters&&(i=r.getCurrentFilters()),this.onFilterChanged.next(i)}else t===e.EmitterType.local&&this.onFilterChanged.next(this.getCurrentLocalFilters())},i.prototype.populateColumnFilterSearchTerms=function(){if(this._gridOptions.presets&&Array.isArray(this._gridOptions.presets.filters)&&this._gridOptions.presets.filters.length>0){var e=this._gridOptions.presets.filters;this._columnDefinitions.forEach(function(t){t.filter&&t.filter.searchTerms&&delete t.filter.searchTerms;var i=e.find(function(e){return e.columnId===t.id});i&&i.searchTerms&&Array.isArray(i.searchTerms)&&(t.filter=t.filter||{},t.filter.operator=i.operator||t.filter.operator||"",t.filter.searchTerms=i.searchTerms)})}},i.prototype.updateColumnFilters=function(e,t,i){e&&t&&(this._columnFilters[t.id]={columnId:t.id,columnDef:t,searchTerms:e,operator:i})},i.prototype.triggerEvent=function(e,t,i){e=e||new Slick.Event;var r=i;i&&"function"!=typeof i.isPropagationStopped&&(r=$.extend({},new Slick.EventData,i)),e.notify(t,r,t.grid)},i=N([t.Injectable(),R("design:paramtypes",[Vt])],i)}(),Ht=function(){function t(){this._currentLocalSorters=[],this._eventHandler=new Slick.EventHandler,this._isBackendGrid=!1,this.onSortChanged=new r.Subject,this.onSortCleared=new r.Subject}return Object.defineProperty(t.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),t.prototype.attachBackendOnSort=function(e,t){this._isBackendGrid=!0,this._grid=e,this._dataView=t,this._slickSubscriber=e.onSort,this._slickSubscriber.subscribe(this.onBackendSortChanged.bind(this))},t.prototype.onBackendSortChanged=function(t,i){var n=this;if(!i||!i.grid)throw new Error('Something went wrong when trying to attach the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');var o=(i.grid.getOptions()||{}).backendServiceApi;if(!o||!o.process||!o.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');try{var s=new Date;o.preProcess&&o.preProcess();var a=o.service.processOnSortChanged(t,i);this.emitSortChanged(e.EmitterType.remote);var l=o.process(a);l instanceof Promise&&l.then?l.then(function(e){return B(s,e,o,n._gridOptions)}):r.isObservable(l)&&l.subscribe(function(e){return B(s,e,o,n._gridOptions)},function(e){return U(e,o)})}catch(u){U(u,o)}},t.prototype.attachLocalOnSort=function(t,i){var r=this;this._isBackendGrid=!1,this._grid=t,this._dataView=i,this._slickSubscriber=t.onSort,this._slickSubscriber.subscribe(function(n,o){var s=o.multiColumnSort?o.sortCols:new Array({sortAsc:o.sortAsc,sortCol:o.sortCol});r._currentLocalSorters=[],Array.isArray(s)&&s.forEach(function(t){t.sortCol&&r._currentLocalSorters.push({columnId:t.sortCol.id,direction:t.sortAsc?e.SortDirection.ASC:e.SortDirection.DESC})}),r.onLocalSortChanged(t,i,s),r.emitSortChanged(e.EmitterType.local)})},t.prototype.clearSorting=function(e){if(void 0===e&&(e=!0),this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),e)this._isBackendGrid?this.onBackendSortChanged(undefined,{grid:this._grid,sortCols:[]}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this.onLocalSortChanged(this._grid,this._dataView,new Array({sortAsc:!0,sortCol:this._columnDefinitions[0]}));else if(this._isBackendGrid){var t=this._gridOptions&&this._gridOptions.backendServiceApi&&this._gridOptions.backendServiceApi.service;t&&t.clearSorters&&t.clearSorters()}this._currentLocalSorters=[],this.onSortCleared.next(!0)},t.prototype.getCurrentLocalSorters=function(){return this._currentLocalSorters},t.prototype.getPreviousColumnSorts=function(e){var t=this,i=this._grid&&this._grid.getSortColumns();return Array.isArray(i)?i.reduce(function(i,r){return e&&r.columnId===e||i.push({sortCol:t._columnDefinitions[t._grid.getColumnIndex(r.columnId)],sortAsc:r.sortAsc}),i},[]):[]},t.prototype.loadLocalPresets=function(t,i){var r=this,n=[];(this._currentLocalSorters=[],this._gridOptions&&this._gridOptions.presets&&this._gridOptions.presets.sorters)&&(this._gridOptions.presets.sorters.forEach(function(t){var i=r._columnDefinitions.find(function(e){return e.id===t.columnId});i&&(n.push({columnId:i.id,sortAsc:t.direction.toUpperCase()===e.SortDirection.ASC,sortCol:i}),r._currentLocalSorters.push({columnId:i.id+"",direction:t.direction.toUpperCase()}))}),n.length>0&&(this.onLocalSortChanged(t,i,n),t.setSortColumns(n)))},t.prototype.onLocalSortChanged=function(t,i,r,n){void 0===n&&(n=!1),t&&i&&(n&&i.reSort(),i.sort(function(t,i){for(var n=0,o=r.length;n<o;n++){var s=r[n];if(s&&s.sortCol){var a=s.sortAsc?e.SortDirectionNumber.asc:e.SortDirectionNumber.desc,l=s.sortCol.queryField||s.sortCol.queryFieldSorter||s.sortCol.field,u=s.sortCol.type||e.FieldType.string,c=t[l],d=i[l];if(l&&l.indexOf(".")>=0&&(c=te(t,l),d=te(i,l)),s.sortCol&&s.sortCol.sorter){var h=s.sortCol.sorter(c,d,a,s.sortCol);if(h!==e.SortDirectionNumber.neutral)return h}var p=Pe(c,d,u,a,s.sortCol);if(p!==e.SortDirectionNumber.neutral)return p}}return e.SortDirectionNumber.neutral}),t.invalidate(),t.render())},t.prototype.dispose=function(){this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe(),this._eventHandler.unsubscribeAll()},t.prototype.emitSortChanged=function(t){if(t===e.EmitterType.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){var i=[],r=this._gridOptions.backendServiceApi.service;r&&r.getCurrentSorters&&(i=r.getCurrentSorters()),this.onSortChanged.next(i)}else t===e.EmitterType.local&&this.onSortChanged.next(this.getCurrentLocalSorters())},t}(),jt=function(){function r(e,t,i,r,n,o){this.exportService=e,this.extensionUtility=t,this.filterService=i,this.sharedService=r,this.sortService=n,this.translate=o,this._areVisibleColumnDifferent=!1,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(r.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),r.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},r.prototype.showGridMenu=function(e){this._addon.showGridMenu(e)},r.prototype.register=function(){var t=this;return this._userOriginalGridMenu=k({},this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.gridMenu),this.sharedService.gridOptions.gridMenu=k({},this.getDefaultGridMenuOptions(),this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions.gridMenu.customItems=G(this._userOriginalGridMenu.customItems||[],this.addGridMenuCustomCommands()),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this._addon=new Slick.Controls.GridMenu(this.sharedService.columnDefinitions,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.onExtensionRegistered&&this.sharedService.gridOptions.gridMenu.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onBeforeMenuShow,function(e,i){t.sharedService.gridOptions.gridMenu&&"function"==typeof t.sharedService.gridOptions.gridMenu.onBeforeMenuShow&&t.sharedService.gridOptions.gridMenu.onBeforeMenuShow(e,i)}),this._eventHandler.subscribe(this._addon.onColumnsChanged,function(e,i){t._areVisibleColumnDifferent=!0,t.sharedService.gridOptions.gridMenu&&"function"==typeof t.sharedService.gridOptions.gridMenu.onColumnsChanged&&t.sharedService.gridOptions.gridMenu.onColumnsChanged(e,i)}),this._eventHandler.subscribe(this._addon.onCommand,function(e,i){t.executeGridMenuInternalCustomCommands(e,i),t.sharedService.gridOptions.gridMenu&&"function"==typeof t.sharedService.gridOptions.gridMenu.onCommand&&t.sharedService.gridOptions.gridMenu.onCommand(e,i)}),this._eventHandler.subscribe(this._addon.onMenuClose,function(e,i){if(t.sharedService.gridOptions.gridMenu&&"function"==typeof t.sharedService.gridOptions.gridMenu.onMenuClose&&t.sharedService.gridOptions.gridMenu.onMenuClose(e,i),t.sharedService.grid&&"function"==typeof t.sharedService.grid.autosizeColumns){var r=t.sharedService.grid.getUID();t._areVisibleColumnDifferent&&r&&$("."+r).length>0&&(t.sharedService.gridOptions&&t.sharedService.gridOptions.enableAutoSizeColumns&&t.sharedService.grid.autosizeColumns(),t._areVisibleColumnDifferent=!1)}})),this._addon):null},r.prototype.refreshBackendDataset=function(e){var t=this,i="";e&&(this.sharedService.gridOptions=k({},this.sharedService.gridOptions,e));var r=this.sharedService.gridOptions.backendServiceApi;if(!r||!r.service||!r.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(r.service&&(i=r.service.buildQuery()),i&&""!==i){var n=new Date;r.preProcess&&r.preProcess(),X(r.process(i)).then(function(e){var i=new Date;e&&r&&r.internalPostProcess&&r.internalPostProcess(e),r&&r.postProcess&&(e instanceof Object&&(e.statistics={startTime:n,endTime:i,executionTime:i.valueOf()-n.valueOf(),totalItemCount:t.sharedService.gridOptions&&t.sharedService.gridOptions.pagination&&t.sharedService.gridOptions.pagination.totalItems}),r.postProcess(e))})}},r.prototype.translateGridMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customItems=[],this.emptyGridMenuTitles(),this.sharedService.gridOptions.gridMenu.customItems=G(this._userOriginalGridMenu.customItems||[],this.addGridMenuCustomCommands()),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this.sharedService.gridOptions.gridMenu.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._addon.init&&this._addon.init(this.sharedService.grid))},r.prototype.addGridMenuCustomCommands=function(){var e=this.sharedService.gridOptions.backendServiceApi||null,t=[];return this.sharedService.gridOptions&&this.sharedService.gridOptions.enableFiltering&&(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllFiltersCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllFiltersCommand||"fa fa-filter text-danger",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("CLEAR_ALL_FILTERS"):Re.TEXT_CLEAR_ALL_FILTERS,disabled:!1,command:"clear-filter",positionOrder:50}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideToggleFilterCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconToggleFilterCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("TOGGLE_FILTER_ROW"):Re.TEXT_TOGGLE_FILTER_ROW,disabled:!1,command:"toggle-filter",positionOrder:52}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideRefreshDatasetCommand&&e&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconRefreshDatasetCommand||"fa fa-refresh",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("REFRESH_DATASET"):Re.TEXT_REFRESH_DATASET,disabled:!1,command:"refresh-dataset",positionOrder:54})),this.sharedService.gridOptions.showPreHeaderPanel&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideTogglePreHeaderCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconTogglePreHeaderCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("TOGGLE_PRE_HEADER_ROW"):Re.TEXT_TOGGLE_PRE_HEADER_ROW,disabled:!1,command:"toggle-preheader",positionOrder:52}),this.sharedService.gridOptions.enableSorting&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllSortingCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllSortingCommand||"fa fa-unsorted text-danger",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("CLEAR_ALL_SORTING"):Re.TEXT_CLEAR_ALL_SORTING,disabled:!1,command:"clear-sorting",positionOrder:51}),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportCsvCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportCsvCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("EXPORT_TO_CSV"):Re.TEXT_EXPORT_IN_CSV_FORMAT,disabled:!1,command:"export-csv",positionOrder:53}),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportTextDelimitedCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportTextDelimitedCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("EXPORT_TO_TAB_DELIMITED"):Re.TEXT_EXPORT_IN_TEXT_FORMAT,disabled:!1,command:"export-text-delimited",positionOrder:54}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(t.length>0||this.sharedService.gridOptions.gridMenu.customItems&&this.sharedService.gridOptions.gridMenu.customItems.length>0)&&(this.sharedService.gridOptions.gridMenu.customTitle=this.sharedService.gridOptions.gridMenu.customTitle||this.extensionUtility.getPickerTitleOutputString("customTitle","gridMenu")),t},r.prototype.executeGridMenuInternalCustomCommands=function(t,i){if(i&&i.command)switch(i.command){case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh();break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh();break;case"export-csv":this.exportService.exportToFile({delimiter:e.DelimiterType.comma,filename:"export",format:e.FileType.csv,useUtf8WithBom:!0});break;case"export-text-delimited":this.exportService.exportToFile({delimiter:e.DelimiterType.tab,filename:"export",format:e.FileType.txt,useUtf8WithBom:!0});break;case"toggle-filter":var r=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showHeaderRow||!1;this.sharedService.grid.setHeaderRowVisibility(!r);break;case"toggle-toppanel":var n=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showTopPanel||!1;this.sharedService.grid.setTopPanelVisibility(!n);break;case"toggle-preheader":var o=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showPreHeaderPanel||!1;this.sharedService.grid.setPreHeaderPanelVisibility(!o);break;case"refresh-dataset":this.refreshBackendDataset()}},r.prototype.emptyGridMenuTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="")},r.prototype.getDefaultGridMenuOptions=function(){return{customTitle:undefined,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"fa fa-bars",menuWidth:18,customItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}},r=N([t.Injectable(),R("design:paramtypes",[Ne,Me,$t,Ve,Ht,i.TranslateService])],r)}(),Gt=function(){function e(e){this.sharedService=e}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid?(this._addon=this.sharedService.groupItemMetadataProvider||{},this.sharedService.grid.registerPlugin(this._addon),this._addon):null},e=N([t.Injectable(),R("design:paramtypes",[Ve])],e)}(),Lt=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(i.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.register=function(){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.headerButton),this._addon=new Slick.Plugins.HeaderButtons(this.sharedService.gridOptions.headerButton||{}),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.headerButton&&(this.sharedService.gridOptions.headerButton.onExtensionRegistered&&this.sharedService.gridOptions.headerButton.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCommand,function(e,i){t.sharedService.gridOptions.headerButton&&"function"==typeof t.sharedService.gridOptions.headerButton.onCommand&&t.sharedService.gridOptions.headerButton.onCommand(e,i)})),this._addon):null},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}(),Bt=function(){function r(e,t,i,r,n){this.extensionUtility=e,this.filterService=t,this.sharedService=i,this.sortService=r,this.translate=n,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(r.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),r.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},r.prototype.register=function(){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.headerMenu),this.sharedService.gridOptions.headerMenu=k({},this.getDefaultHeaderMenuOptions(),this.sharedService.gridOptions.headerMenu),this.sharedService.gridOptions.enableHeaderMenu&&(this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.gridOptions,this.sharedService.columnDefinitions)),this._addon=new Slick.Plugins.HeaderMenu(this.sharedService.gridOptions.headerMenu),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.headerMenu&&(this.sharedService.gridOptions.headerMenu.onExtensionRegistered&&this.sharedService.gridOptions.headerMenu.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCommand,function(e,i){t.executeHeaderMenuInternalCommands(e,i),t.sharedService.gridOptions.headerMenu&&"function"==typeof t.sharedService.gridOptions.headerMenu.onCommand&&t.sharedService.gridOptions.headerMenu.onCommand(e,i)}),this._eventHandler.subscribe(this._addon.onBeforeMenuShow,function(e,i){t.sharedService.gridOptions.headerMenu&&"function"==typeof t.sharedService.gridOptions.headerMenu.onBeforeMenuShow&&t.sharedService.gridOptions.headerMenu.onBeforeMenuShow(e,i)})),this._addon):null},r.prototype.addHeaderMenuCustomCommands=function(e,t){var i=this,r=e.headerMenu||{};return t&&Array.isArray(t)&&e.enableHeaderMenu&&t.forEach(function(t){if(t&&!t.excludeFromHeaderMenu){t.header&&t.header.menu||(t.header={menu:{items:[]}});var n=t&&t.header&&t.header.menu&&t.header.menu.items||[];e.enableSorting&&t.sortable&&r&&!r.hideSortCommands&&(0===n.filter(function(e){return"sort-asc"===e.command}).length&&n.push({iconCssClass:r.iconSortAscCommand||"fa fa-sort-asc",title:e.enableTranslate?i.translate.instant("SORT_ASCENDING"):Re.TEXT_SORT_ASCENDING,command:"sort-asc",positionOrder:50}),0===n.filter(function(e){return"sort-desc"===e.command}).length&&n.push({iconCssClass:r.iconSortDescCommand||"fa fa-sort-desc",title:e.enableTranslate?i.translate.instant("SORT_DESCENDING"):Re.TEXT_SORT_DESCENDING,command:"sort-desc",positionOrder:51}),0===n.filter(function(e){return 52===e.positionOrder}).length&&n.push({divider:!0,command:"",positionOrder:52}),r.hideClearSortCommand||0!==n.filter(function(e){return"clear-sort"===e.command}).length||n.push({iconCssClass:r.iconClearSortCommand||"fa fa-unsorted",title:e.enableTranslate?i.translate.instant("REMOVE_SORT"):Re.TEXT_REMOVE_SORT,command:"clear-sort",positionOrder:54})),e.enableFiltering&&t.filterable&&r&&!r.hideFilterCommands&&(r.hideClearFilterCommand||0!==n.filter(function(e){return"clear-filter"===e.command}).length||n.push({iconCssClass:r.iconClearFilterCommand||"fa fa-filter",title:e.enableTranslate?i.translate.instant("REMOVE_FILTER"):Re.TEXT_REMOVE_FILTER,command:"clear-filter",positionOrder:53})),r&&!r.hideColumnHideCommand&&0===n.filter(function(e){return"hide"===e.command}).length&&n.push({iconCssClass:r.iconColumnHideCommand||"fa fa-times",title:e.enableTranslate?i.translate.instant("HIDE_COLUMN"):Re.TEXT_HIDE_COLUMN,command:"hide",positionOrder:55}),i.extensionUtility.translateItems(n,"titleKey","title"),i.extensionUtility.sortItems(n,"positionOrder")}}),r},r.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns&&this.sharedService.grid.getColumnIndex){var t=this.sharedService.grid.getColumnIndex(e.id),i=this.sharedService.grid.getColumns(),r=this.extensionUtility.arrayRemoveItemByIndex(i,t);this.sharedService.visibleColumns=r,this.sharedService.grid.setColumns(r)}},r.prototype.translateHeaderMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.headerMenu&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)},r.prototype.getDefaultHeaderMenuOptions=function(){return{autoAlignOffset:12,minWidth:140,hideColumnHideCommand:!1,hideSortCommands:!1,title:""}},r.prototype.resetHeaderMenuTranslations=function(e){var t=this;e.forEach(function(e){if(e&&e.header&&e.header&&e.header.menu&&e.header.menu.items&&!e.excludeFromHeaderMenu){var i=e.header.menu.items||[];i.forEach(function(e){switch(e.command){case"clear-filter":e.title=t.translate.instant("REMOVE_FILTER")||Re.TEXT_REMOVE_FILTER;break;case"clear-sort":e.title=t.translate.instant("REMOVE_SORT")||Re.TEXT_REMOVE_SORT;break;case"sort-asc":e.title=t.translate.instant("SORT_ASCENDING")||Re.TEXT_SORT_ASCENDING;break;case"sort-desc":e.title=t.translate.instant("SORT_DESCENDING")||Re.TEXT_SORT_DESCENDING;break;case"hide":e.title=t.translate.instant("HIDE_COLUMN")||Re.TEXT_HIDE_COLUMN}t.sharedService.gridOptions&&t.sharedService.gridOptions.enableTranslate&&t.extensionUtility.translateItems(i,"titleKey","title")})}})},r.prototype.clearColumnFilter=function(e,t){t&&t.column&&this.filterService.clearFilterByColumnId(e,t.column.id)},r.prototype.clearColumnSort=function(e,t){if(t&&t.column&&this.sharedService){var i=this.sortService.getPreviousColumnSorts(),r=this.sortService.getPreviousColumnSorts(t.column.id+"");if(Array.isArray(i)&&Array.isArray(r)&&i.length!==r.length){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid});else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r,!0);else{var n=this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];t.grid.onSort.notify(n)}var o=r.map(function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc}});this.sharedService.grid.setSortColumns(o)}}},r.prototype.executeHeaderMenuInternalCommands=function(e,t){if(t&&t.command)switch(t.command){case"hide":this.hideColumn(t.column),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableAutoSizeColumns&&this.sharedService.grid.autosizeColumns();break;case"clear-filter":this.clearColumnFilter(e,t);break;case"clear-sort":this.clearColumnSort(e,t);break;case"sort-asc":case"sort-desc":var i="sort-asc"===t.command;this.sortColumn(e,t,i)}},r.prototype.sortColumn=function(e,t,i){if(void 0===i&&(i=!0),t&&t.column){var r=this.sortService.getPreviousColumnSorts(t.column.id+"");if(r.push({sortCol:t.column,sortAsc:i}),this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid});else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r);else{var n=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];t.grid.onSort.notify(n)}var o=r.map(function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc}});this.sharedService.grid.setSortColumns(o)}},r=N([t.Injectable(),R("design:paramtypes",[Me,$t,Ve,Ht,i.TranslateService])],r)}(),Ut=d,zt=function(){function i(e,t,i,r,n){this.angularUtilService=e,this.appRef=t,this.extensionUtility=i,this.filterService=r,this.sharedService=n,this._views=[],this._subscriptions=[],this._eventHandler=new Slick.EventHandler}return Object.defineProperty(i.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy(),this._subscriptions=pe(this._subscriptions),this.disposeAllViewComponents()},i.prototype.disposeAllViewComponents=function(){var e=this;this._views.forEach(function(t){return e.disposeViewComponent(t)}),this._views=[]},i.prototype.create=function(t,i){var r=this;if(t&&i){if(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.rowDetailView),!i.rowDetailView)throw new Error('The Row Detail View requires options to be passed via the "rowDetailView" property of the Grid Options');if(i&&i.rowDetailView){if(!this._addon){if("function"!=typeof i.rowDetailView.process)throw new Error('You need to provide a "process" function for the Row Detail Extension to work properly');this._userProcessFn=i.rowDetailView.process,i.rowDetailView.process=function(e){return r.onProcessing(e)},i.rowDetailView.preTemplate||(this._preloadComponent=i&&i.rowDetailView&&i.rowDetailView.preloadComponent,i.rowDetailView.preTemplate=function(){return Ut.sanitize('<div class="container_loading"></div>')}),i.rowDetailView.postTemplate||(this._viewComponent=i&&i.rowDetailView&&i.rowDetailView.viewComponent,i.rowDetailView.postTemplate=function(e){return Ut.sanitize('<div class="container_'+e.id+'"></div>')}),this._addon=new Slick.Plugins.RowDetailView(i.rowDetailView)}var n=this._addon.getColumnDefinition();"object"==typeof n&&(n.excludeFromExport=!0,n.excludeFromColumnPicker=!0,n.excludeFromGridMenu=!0,n.excludeFromQuery=!0,n.excludeFromHeaderMenu=!0,t.unshift(n))}return this._addon}return null},i.prototype.register=function(t){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),t&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.rowSelection),t=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{selectActiveRow:!0}),this.sharedService.grid.setSelectionModel(t)),this.sharedService.grid&&this.sharedService.gridOptions.rowDetailView&&(this.sharedService.gridOptions.rowDetailView.onExtensionRegistered&&this.sharedService.gridOptions.rowDetailView.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onAsyncResponse,function(e,t){i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAsyncResponse&&i.sharedService.gridOptions.rowDetailView.onAsyncResponse(e,t)}),this._eventHandler.subscribe(this._addon.onAsyncEndUpdate,function(e,t){i.renderViewModel(t&&t.item),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAsyncEndUpdate&&i.sharedService.gridOptions.rowDetailView.onAsyncEndUpdate(e,t)}),this._eventHandler.subscribe(this._addon.onAfterRowDetailToggle,function(e,t){i.renderPreloadView(),i.renderAllViewComponents(),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAfterRowDetailToggle&&i.sharedService.gridOptions.rowDetailView.onAfterRowDetailToggle(e,t)}),this._eventHandler.subscribe(this._addon.onBeforeRowDetailToggle,function(e,t){i.onBeforeRowDetailToggle(e,t),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onBeforeRowDetailToggle&&i.sharedService.gridOptions.rowDetailView.onBeforeRowDetailToggle(e,t)}),this._eventHandler.subscribe(this._addon.onRowBackToViewportRange,function(e,t){i.onRowBackToViewportRange(e,t),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onRowBackToViewportRange&&i.sharedService.gridOptions.rowDetailView.onRowBackToViewportRange(e,t)}),this._eventHandler.subscribe(this._addon.onRowOutOfViewportRange,function(e,t){i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onRowOutOfViewportRange&&i.sharedService.gridOptions.rowDetailView.onRowOutOfViewportRange(e,t)}),this._eventHandler.subscribe(this.sharedService.grid.onColumnsReordered,function(){return i.redrawAllViewComponents()}),this._eventHandler.subscribe(this.sharedService.grid.onSort,function(){return i.disposeAllViewComponents()}),this._subscriptions.push(this.filterService.onFilterChanged.subscribe(function(){return i.redrawAllViewComponents()}))),this._addon):null},i.prototype.disposeViewComponent=function(e){var t=e&&e.componentRef;return t?(this.appRef.detachView(t.hostView),t.destroy(),e):null},i.prototype.notifyTemplate=function(e){this._addon&&this._addon.onAsyncResponse.notify({item:e},undefined,this)},i.prototype.onProcessing=function(e){return V(this,void 0,void 0,function(){var t,i;return M(this,function(n){switch(n.label){case 0:return e&&"function"==typeof this._userProcessFn?(t=void 0,[4,this._userProcessFn(e)]):[3,5];case 1:return(i=n.sent()).hasOwnProperty("id")?(t=i,[3,4]):[3,2];case 2:return i&&i instanceof r.Observable||i instanceof Promise?[4,X(i)]:[3,4];case 3:t=n.sent(),n.label=4;case 4:if(!t||!t.hasOwnProperty("id"))throw new Error('[Angular-Slickgrid] could not process the Row Detail, you must make sure that your "process" callback\n          (a Promise or an HttpClient call returning an Observable) returns an item object that has an "id" property');this.notifyTemplate(t||{}),n.label=5;case 5:return[2]}})})},i.prototype.onBeforeRowDetailToggle=function(e,t){if(t&&t.item&&t.item.__collapsed){var i={id:t.item.id,dataContext:t.item};Q(this._views,i)}else{var r=this._views.findIndex(function(e){return e.id===t.item.id});if(r>=0&&this._views.hasOwnProperty(r)){var n=this._views[r].componentRef;this.appRef.detachView(n.hostView),n.destroy(),this._views.splice(r,1)}}},i.prototype.onRowBackToViewportRange=function(e,t){var i=this;t&&t.item&&this._views.forEach(function(e){e.id===t.item.id&&i.redrawViewComponent(e)})},i.prototype.redrawAllViewComponents=function(){var e=this;this._views.forEach(function(t){e.redrawViewComponent(t)})},i.prototype.renderAllViewComponents=function(){var e=this;this._views.forEach(function(t){t&&t.dataContext&&e.renderViewModel(t.dataContext)})},i.prototype.redrawViewComponent=function(e){var t=document.getElementsByClassName("container_"+e.id);t&&t.length&&this.renderViewModel(e.dataContext)},i.prototype.renderPreloadView=function(){var e=document.getElementsByClassName("container_loading");e&&e.length&&this.angularUtilService.createAngularComponentAppendToDom(this._preloadComponent,e[0],!0)},i.prototype.renderViewModel=function(e){var t=document.getElementsByClassName("container_"+e.id);if(t&&t.length){var i=this.angularUtilService.createAngularComponentAppendToDom(this._viewComponent,t[0],!0);if(i&&i.componentRef&&i.componentRef.instance){Object.assign(i.componentRef.instance,{model:e});var r=this._views.find(function(t){return t.id===e.id});r&&(r.componentRef=i.componentRef)}}},i=N([t.Injectable(),R("design:paramtypes",[L,t.ApplicationRef,Me,$t,Ve])],i)}(),Qt=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(i.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.register=function(t){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.rowMoveManager),t&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.rowSelection),t=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(t)),this._addon=new Slick.RowMoveManager(this.sharedService.gridOptions.rowMoveManager||{cancelEditOnDrag:!0}),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.rowMoveManager&&(this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered&&this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onBeforeMoveRows,function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows&&i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows(e,t)}),this._eventHandler.subscribe(this._addon.onMoveRows,function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onMoveRows&&i.sharedService.gridOptions.rowMoveManager.onMoveRows(e,t)})),this._addon):null},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}(),Wt=function(){function i(e,t){this.extensionUtility=e,this.sharedService=t}return i.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},i.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.rowSelection),this._addon=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(this._addon),this._addon):null},i=N([t.Injectable(),R("design:paramtypes",[Me,Ve])],i)}(),qt=function(){function r(e,t,i,r,n,o,s,a,l,u,c,d,h,p){this.autoTooltipExtension=e,this.cellExternalCopyExtension=t,this.checkboxSelectorExtension=i,this.columnPickerExtension=r,this.draggableGroupingExtension=n,this.gridMenuExtension=o,this.groupItemMetaExtension=s,this.headerButtonExtension=a,this.headerMenuExtension=l,this.rowDetailViewExtension=u,this.rowMoveManagerExtension=c,this.rowSelectionExtension=d,this.sharedService=h,this.translate=p,this._extensionList=[]}return r.prototype.dispose=function(){this.sharedService.grid=null,this.sharedService.visibleColumns=[],this._extensionList.forEach(function(e){e&&e["class"]&&e["class"].dispose&&e["class"].dispose()}),this._extensionList=[]},r.prototype.getAllColumns=function(){return this.sharedService.allColumns||[]},r.prototype.getVisibleColumns=function(){return this.sharedService.visibleColumns||[]},r.prototype.getAllExtensions=function(){return this._extensionList},r.prototype.getExtensionByName=function(e){return this._extensionList.find(function(t){return t.name===e})},r.prototype.getSlickgridAddonInstance=function(e){var t=this.getExtensionByName(e);return t&&(t.instance||t.addon)?t.instance:null},r.prototype.autoResizeColumns=function(){this.sharedService.grid.autosizeColumns()},r.prototype.bindDifferentExtensions=function(){var t=this;if(this.sharedService&&this.sharedService.gridOptions){if(this.sharedService.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.sharedService.gridOptions.enableAutoTooltip&&this.autoTooltipExtension&&this.autoTooltipExtension.register){var i=this.autoTooltipExtension.register();this._extensionList.push({name:e.ExtensionName.autoTooltip,"class":this.autoTooltipExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableExcelCopyBuffer&&this.cellExternalCopyExtension&&this.cellExternalCopyExtension.register){i=this.cellExternalCopyExtension.register();this._extensionList.push({name:e.ExtensionName.cellExternalCopyManager,"class":this.cellExternalCopyExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableCheckboxSelector&&this.checkboxSelectorExtension&&this.checkboxSelectorExtension.register){var r=this.getExtensionByName(e.ExtensionName.rowSelection);i=this.checkboxSelectorExtension.register(r);this._extensionList.push({name:e.ExtensionName.checkboxSelector,"class":this.checkboxSelectorExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableColumnPicker&&this.columnPickerExtension&&this.columnPickerExtension.register){i=this.columnPickerExtension.register();this._extensionList.push({name:e.ExtensionName.columnPicker,"class":this.columnPickerExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableDraggableGrouping&&this.draggableGroupingExtension&&this.draggableGroupingExtension.register){i=this.draggableGroupingExtension.register();this._extensionList.push({name:e.ExtensionName.draggableGrouping,"class":this.draggableGroupingExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableGridMenu&&this.gridMenuExtension&&this.gridMenuExtension.register){i=this.gridMenuExtension.register();this._extensionList.push({name:e.ExtensionName.gridMenu,"class":this.gridMenuExtension,addon:i,instance:i})}if((this.sharedService.gridOptions.enableDraggableGrouping||this.sharedService.gridOptions.enableGrouping)&&this.groupItemMetaExtension&&this.groupItemMetaExtension.register){i=this.groupItemMetaExtension.register();this._extensionList.push({name:e.ExtensionName.groupItemMetaProvider,"class":this.groupItemMetaExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableHeaderButton&&this.headerButtonExtension&&this.headerButtonExtension.register){i=this.headerButtonExtension.register();this._extensionList.push({name:e.ExtensionName.headerButton,"class":this.headerButtonExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableHeaderMenu&&this.headerMenuExtension&&this.headerMenuExtension.register){i=this.headerMenuExtension.register();this._extensionList.push({name:e.ExtensionName.headerMenu,"class":this.headerMenuExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableRowDetailView&&this.rowDetailViewExtension&&this.rowDetailViewExtension.register){r=this.getExtensionByName(e.ExtensionName.rowSelection),i=this.rowDetailViewExtension.register(r);this._extensionList.push({name:e.ExtensionName.rowDetailView,"class":this.rowDetailViewExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.enableRowMoveManager&&this.rowMoveManagerExtension&&this.rowMoveManagerExtension.register){i=this.rowMoveManagerExtension.register();this._extensionList.push({name:e.ExtensionName.rowMoveManager,"class":this.rowMoveManagerExtension,addon:i,instance:i})}if(!this.sharedService.gridOptions.enableCheckboxSelector&&this.sharedService.gridOptions.enableRowSelection&&this.rowSelectionExtension&&this.rowSelectionExtension.register){i=this.rowSelectionExtension.register();this._extensionList.push({name:e.ExtensionName.rowSelection,"class":this.rowSelectionExtension,addon:i,instance:i})}if(this.sharedService.gridOptions.registerPlugins!==undefined)if(Array.isArray(this.sharedService.gridOptions.registerPlugins))this.sharedService.gridOptions.registerPlugins.forEach(function(i){var r=t.sharedService.grid.registerPlugin(i);t._extensionList.push({name:e.ExtensionName.noname,"class":null,addon:r,instance:r})});else{this.sharedService.grid.registerPlugin(this.sharedService.gridOptions.registerPlugins);var n=this.sharedService.gridOptions.registerPlugins;i=this.sharedService.grid.registerPlugin(n);this._extensionList.push({name:e.ExtensionName.noname,"class":null,addon:i,instance:i})}}},r.prototype.createExtensionsBeforeGridCreation=function(e,t){if(t.enableCheckboxSelector&&this.checkboxSelectorExtension.create(e,t),t.enableRowDetailView&&this.rowDetailViewExtension.create(e,t),t.enableDraggableGrouping){var i=this.draggableGroupingExtension.create(t);t.enableColumnReorder=i.getSetupColumnReorder}},r.prototype.hideColumn=function(e){if(this.sharedService&&this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},r.prototype.refreshBackendDataset=function(e){this.gridMenuExtension.refreshBackendDataset(e)},r.prototype.removeColumnByIndex=function(e,t){return Array.isArray(e)?e.filter(function(e,i){return t!==i}):e},r.prototype.translateColumnPicker=function(){this.columnPickerExtension&&this.columnPickerExtension.translateColumnPicker&&this.columnPickerExtension.translateColumnPicker()},r.prototype.translateGridMenu=function(){this.gridMenuExtension&&this.gridMenuExtension.translateGridMenu&&this.gridMenuExtension.translateGridMenu()},r.prototype.translateHeaderMenu=function(){this.headerMenuExtension&&this.headerMenuExtension.translateHeaderMenu&&this.headerMenuExtension.translateHeaderMenu()},r.prototype.translateColumnHeaders=function(e,t){e&&this.translate.use(e);var i=t;i||(i=this.sharedService.columnDefinitions),this.translateItems(i,"headerKey","name"),this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.renderColumnHeaders(i)},r.prototype.renderColumnHeaders=function(e){var t=e;t||(t=this.sharedService.columnDefinitions),Array.isArray(t)&&this.sharedService.grid&&this.sharedService.grid.setColumns&&this.sharedService.grid.setColumns(t)},r.prototype.translateItems=function(e,t,i){var r,n;if(Array.isArray(e))try{for(var o=H(e),s=o.next();!s.done;s=o.next()){var a=s.value;a[t]&&(a[i]=this.translate.instant(a[t]))}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}},r=N([t.Injectable(),R("design:paramtypes",[$e,He,je,Ge,Le,jt,Gt,Lt,Bt,zt,Qt,Wt,Ve,i.TranslateService])],r)}(),Yt=function(){function e(e,t){if(this.queryFnName=e,this.head=[],"function"==typeof t)this.alias=t;else if("object"==typeof t)this.filter(t);else{if(undefined===t&&2===arguments.length)throw new TypeError('You have passed undefined as Second argument to "Query"');if(undefined!==t)throw new TypeError('Second argument to "Query" should be an alias name(String) or filter arguments(Object). was passed '+t)}}return e.prototype.filter=function(e){var t,i;try{for(var r=H(Object.keys(e)),n=r.next();!n.done;n=r.next()){var o=n.value;if("function"!=typeof e[o]){var s=this.getGraphQLValue(e[o]);"{}"!==s&&this.head.push(o+":"+s)}}}catch(a){t={error:a}}finally{try{n&&!n.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}return this},e.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!e)throw new TypeError("find value can not be >>falsy<<");var i=1===e.length&&Array.isArray(e[0])?e[0]:e;return this.body=this.parceFind(i),this},e.prototype.setAlias=function(e){this.alias=e},e.prototype.toString=function(){if(this.body===undefined)throw new ReferenceError("return properties are not defined. use the 'find' function to defined them");return(this.alias?this.alias+":":"")+" "+this.queryFnName+" "+(this.head.length>0?"("+this.head.join(",")+")":"")+"  { "+this.body+" }"},e.prototype.parceFind=function(t){return t.map(function(i,r){var n=t[r];if(n instanceof e)return n.toString();if(Array.isArray(n)||"object"!=typeof n){if("string"==typeof n)return n;throw new RangeError("cannot handle Find value of "+n)}var o=Object.keys(n);if(1!==o.length)throw new RangeError("Alias objects should only have one value. was passed: "+JSON.stringify(n));var s=o[0],a=n[s];return Array.isArray(a)?new e(s).find(a):s+" : "+a+" "}).join(",")},e.prototype.getGraphQLValue=function(e){var t=this;return"string"==typeof e?e=JSON.stringify(e):Array.isArray(e)?e="["+(e=e.map(function(e){return t.getGraphQLValue(e)}).join())+"]":e instanceof Date?e=JSON.stringify(e):null!==e&&"object"==typeof e&&(e=this.objectToString(e)),e},e.prototype.objectToString=function(e){var t,i,r=[];try{for(var n=H(Object.keys(e)),o=n.next();!o.done;o=n.next()){var s=o.value;"function"!=typeof e[s]&&r.push(s+":"+this.getGraphQLValue(e[s]))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=n["return"])&&i.call(n)}finally{if(t)throw t.error}}return"{"+r.join()+"}"},e}(),Kt=25,Xt=function(){function t(){this._currentFilters=[],this._currentSorters=[],this.defaultPaginationOptions={first:Kt,offset:0}}return Object.defineProperty(t.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),t.prototype.buildQuery=function(){var e,t,i,r;if(!this.options||!this.options.datasetName||!this._columnDefinitions&&!this.options.columnDefinitions)throw new Error('GraphQL Service requires "datasetName" & "columnDefinitions" properties for it to work');var n=this._columnDefinitions||this.options.columnDefinitions;n=n.filter(function(e){return!e.excludeFromQuery});var o=new Yt("query"),s=new Yt(this.options.datasetName),a=this.options.isWithCursor?new Yt("edges"):new Yt("nodes"),l=[];if(n&&Array.isArray(n))try{for(var u=H(n),c=u.next();!c.done;c=u.next()){var d=c.value;l.push(d.field),d.fields&&l.push.apply(l,G(d.fields))}}catch(v){e={error:v}}finally{try{c&&!c.done&&(t=u["return"])&&t.call(u)}finally{if(e)throw e.error}}else l=this.options.columnIds||[];-1===l.indexOf("id")&&l.unshift("id");var h=this.buildFilterQuery(l);if(this.options.isWithCursor){var p=new Yt("pageInfo");p.find("hasNextPage","endCursor"),a.find(["cursor",{node:h}]),s.find(["totalCount",p,a])}else a.find(h),s.find(["totalCount",a]);var f={};if(!1!==this._gridOptions.enablePagination&&(f=k({},this.options.paginationOptions,{first:(this.options.paginationOptions&&this.options.paginationOptions.first?this.options.paginationOptions.first:this.pagination&&this.pagination.pageSize?this.pagination.pageSize:null)||this.defaultPaginationOptions.first}),this.options.isWithCursor||(f.offset=this.options.paginationOptions&&this.options.paginationOptions.hasOwnProperty("offset")?+this.options.paginationOptions.offset:0)),this.options.sortingOptions&&Array.isArray(this.options.sortingOptions)&&this.options.sortingOptions.length>0&&(f.orderBy=this.options.sortingOptions),this.options.filteringOptions&&Array.isArray(this.options.filteringOptions)&&this.options.filteringOptions.length>0&&(f.filterBy=this.options.filteringOptions),this.options.addLocaleIntoQuery&&(f.locale=this._gridOptions&&this._gridOptions.i18n&&this._gridOptions.i18n.currentLang||"en"),this.options.extraQueryArguments)try{for(var m=H(this.options.extraQueryArguments),g=m.next();!g.done;g=m.next()){var y=g.value;f[y.field]=y.value}}catch(b){i={error:b}}finally{try{g&&!g.done&&(r=m["return"])&&r.call(m)}finally{if(i)throw i.error}}s.filter(f),o.find(s);return this.trimDoubleQuotesOnEnumField(o.toString(),["direction:","field:","operator:"],this.options.keepArgumentFieldDoubleQuotes||!1)},t.prototype.buildFilterQuery=function(e){var t=function(e,i){void 0===e&&(e={});var r=i.shift();return e[r]=i.length?t(e[r],i):null,e},i=e.reduce(function(e,i){return t(e,i.split("."))},{});return JSON.stringify(i).replace(/\"|\:|null/g,"").replace(/^\{/,"").replace(/\}$/,"")},t.prototype.clearFilters=function(){this._currentFilters=[],this.updateOptions({filteringOptions:[]})},t.prototype.clearSorters=function(){this._currentSorters=[],this.updateOptions({sortingOptions:[]})},t.prototype.init=function(e,t,i){this._grid=i,this.options=e||{},this.pagination=t,i&&i.getColumns&&(this._columnDefinitions=e.columnDefinitions||i.getColumns())},t.prototype.getInitPaginationOptions=function(){return this.options.isWithCursor?{first:this.pagination?this.pagination.pageSize:Kt}:{first:this.pagination?this.pagination.pageSize:Kt,offset:0}},t.prototype.getDatasetName=function(){return this.options.datasetName||""},t.prototype.getCurrentFilters=function(){return this._currentFilters},t.prototype.getCurrentPagination=function(){return this._currentPagination},t.prototype.getCurrentSorters=function(){return this._currentSorters},t.prototype.resetPaginationOptions=function(){var e;this.options.isWithCursor?e={after:"",before:undefined,last:undefined}:(e=this.options.paginationOptions||this.getInitPaginationOptions()).offset=0,this._currentPagination={pageNumber:1,pageSize:e.first},this.updateOptions({paginationOptions:e})},t.prototype.updateOptions=function(e){this.options=k({},this.options,e)},t.prototype.processOnFilterChanged=function(e,t){var i=this;if((this._gridOptions||t.grid.getOptions()).backendServiceApi===undefined)throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');return this._currentFilters=this.castFilterToColumnFilter(t.columnFilters),new Promise(function(e,r){if(!t||!t.grid)throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');i.updateFilters(t.columnFilters,!1),i.resetPaginationOptions(),e(i.buildQuery())})},t.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(t.newPage,i),this.buildQuery()},t.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this.buildQuery()},t.prototype.updateFilters=function(t,i){var r,n=[];i&&(this._currentFilters=this.castFilterToColumnFilter(t));var o=function(o){if(t.hasOwnProperty(o)){var a=t[o],l=void 0;if(!(l=i&&Array.isArray(s._columnDefinitions)?s._columnDefinitions.find(function(e){return e.id===a.columnId}):a.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var u=l.queryField||l.queryFieldFilter||l.field||l.name||"",c=(a?a.searchTerms:null)||[],d=Array.isArray(c)&&1===c.length?c[0]:"";if(void 0===d&&(d=""),"string"!=typeof d&&!c)throw new Error('GraphQL filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {model: Filters.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var h=(d=""+d).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),p=a.operator||(h?h[1]:"");r=h?h[2]:"";var f=h?h[3]:"*z"===p?"*":"";if(u&&""===r&&0===c.length)return"continue";c&&c.length>1?r=c.join(","):"string"==typeof r&&(r=r.replace("'","''"),"*"!==p&&"a*"!==p&&"*z"!==p&&"*"!==f||(p="*"===p||"*z"===p?"endsWith":"startsWith")),!p&&l.filter&&(p=l.filter.operator),p||(p=se(l.type||e.FieldType.string)),n.push({field:u,operator:oe(p),value:r})}},s=this;for(var a in t)o(a);this.updateOptions({filteringOptions:n})},t.prototype.updatePagination=function(e,t){var i;this._currentPagination={pageNumber:e,pageSize:t},i=this.options.isWithCursor?{first:t}:{first:t,offset:(e-1)*t},this.updateOptions({paginationOptions:i})},t.prototype.updateSorters=function(t,i){var r,n,o=this,s=[],a=[];if(!t&&i){(s=i).forEach(function(e){return e.direction=e.direction.toUpperCase()});var l=s.map(function(t){var i=o._columnDefinitions.find(function(e){return e.id===t.columnId});return a.push({field:i?(i.queryField||i.queryFieldSorter||i.field||i.id)+"":t.columnId+"",direction:t.direction}),i?{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===e.SortDirection.ASC}:null});Array.isArray(l)&&this._grid.setSortColumns(l.filter(function(e){return e}))}else if(t&&!i&&Array.isArray(t)&&t.length>0)try{for(var u=H(t),c=u.next();!c.done;c=u.next()){var d=c.value;d&&d.sortCol&&(s.push({columnId:d.sortCol.id+"",direction:d.sortAsc?e.SortDirection.ASC:e.SortDirection.DESC}),a.push({field:(d.sortCol.queryField||d.sortCol.queryFieldSorter||d.sortCol.field||d.sortCol.id)+"",direction:d.sortAsc?e.SortDirection.ASC:e.SortDirection.DESC}))}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=u["return"])&&n.call(u)}finally{if(r)throw r.error}}this._currentSorters=s,this.updateOptions({sortingOptions:a})},t.prototype.trimDoubleQuotesOnEnumField=function(e,t,i){var r=t.join('s?((field:s*)?".*?")|'),n=new RegExp(r+='s?((field:s*)?".*?")',"g");return e.replace(n,function(e,t,r){var n=!0;return e.startsWith("field:")&&i&&(n=!1),n?e.replace(/"/g,""):e})},t.prototype.castFilterToColumnFilter=function(e){return("object"==typeof e?Object.keys(e).map(function(t){return e[t]}):e).map(function(e){var t={columnId:e.columnId||""};return e.operator&&(t.operator=e.operator),Array.isArray(e.searchTerms)&&(t.searchTerms=e.searchTerms),t})},t}();String.format=function(e,t){return e.replace(/{(\d+)}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})},String.padZero=function(e){for(var t=this;t.length<e;)t="0"+t;return t},String.trim=function(e){return e?e.replace(/\s+/g," "):e},String.allTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.titleCase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var Zt,Jt=function(){function t(){this._odataOptions={filterQueue:[],orderBy:""},this._defaultSortBy="",this._columnFilters={}}return t.prototype.buildQuery=function(){this._odataOptions.filterQueue=[];var e=[];if(this._odataOptions.top&&e.push("$top="+this._odataOptions.top),this._odataOptions.skip&&e.push("$skip="+this._odataOptions.skip),this._odataOptions.orderBy){var t="";t=Array.isArray(this._odataOptions.orderBy)?this._odataOptions.orderBy.join(","):this._odataOptions.orderBy,e.push("$orderby="+t)}if(this._odataOptions.filterBy||this._odataOptions.filter){if(this._odataOptions.filter){this._odataOptions.filterQueue=[];var i=this._odataOptions.filter;Array.isArray(this._odataOptions.filter)&&(i=this._odataOptions.filter.join(" "+(this._odataOptions.filterBySeparator||"and")+" ")),this._odataOptions.filterQueue.push("("+i+")")}this._odataOptions.filterBy&&this._odataOptions.filterBy.fieldName&&!this._columnFilters[this._odataOptions.filterBy.fieldName.toLowerCase()]&&""!==this._odataOptions.filterBy.searchTerm&&(this.saveColumnFilter(this._odataOptions.filterBy.fieldName.toLowerCase(),this._odataOptions.filterBy.searchTerm,this._odataOptions.filterBy.searchTerms),this.updateFilterFromListTerms(this._odataOptions.filterBy))}if(this._odataOptions.filterQueue.length>0){var r=this._odataOptions.filterQueue.join(" "+(this._odataOptions.filterBySeparator||"and")+" ");this._odataOptions.filter=r,e.push("$filter="+r)}return e.join("&")},t.prototype.getFilterByColumn=function(e){return this._columnFilters[e]?this._columnFilters[e]:null},t.prototype.getFilterCount=function(){return this._odataOptions.filterQueue?this._odataOptions.filterQueue.length:0},Object.defineProperty(t.prototype,"columnFilters",{get:function(){return this._columnFilters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._odataOptions},set:function(e){this._odataOptions=e},enumerable:!0,configurable:!0}),t.prototype.removeColumnFilter=function(e){delete this._columnFilters[e]},t.prototype.saveColumnFilter=function(e,t,i){this._columnFilters[e]={search:i,value:t}},t.prototype.updateFilterFromListTerms=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){t.updateFilterFromTerm(e)}):this.updateFilterFromTerm(e)},t.prototype.updateFilterFromTerm=function(e){var t="",i=[],r=e.fieldName,n=e.searchTerms,o=e.operator;if(n&&n.length>0){var s=[];if("IN"===o){for(var a=0,l=n.length;a<l;a++)s.push(r+" eq '"+n[a]+"'");t="$("+(t=s.join(" or "))+")"}else if("NIN"===o||"NOTIN"===o||"NOT IN"===o){for(var u=0,c=n.length;u<c;u++)s.push(r+" ne '"+n[u]+"'");t="$("+(t=s.join(" and "))+")"}}i.push(String.trim(t));var d=i.length>0?i.join(" and "):"";this._odataOptions.filterQueue&&-1===this._odataOptions.filterQueue.indexOf(d)&&this._odataOptions.filterQueue.push(d)},t.prototype.updateOptions=function(t){var i,r;try{for(var n=H(Object.keys(t)),o=n.next();!o.done;o=n.next()){var s=o.value;if(t.hasOwnProperty(s)&&(this._odataOptions[s]=t[s]),"orderBy"===s||"sortBy"===s){var a=t[s];this._odataOptions.caseType===e.CaseType.pascalCase&&(Array.isArray(a)?a.forEach(function(e,t,i){i[t]=String.titleCase(e)}):a=String.titleCase(t[s])),this._odataOptions.orderBy=a,this._defaultSortBy=a}}}catch(l){i={error:l}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}},t}(),ei=25,ti=function(){function i(){this._currentFilters=[],this._currentSorters=[],this.defaultOptions={top:ei,orderBy:"",caseType:e.CaseType.pascalCase},this.odataService=new Jt}return Object.defineProperty(i.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),i.prototype.buildQuery=function(){return this.odataService.buildQuery()},i.prototype.clearFilters=function(){this._currentFilters=[],this.updateOptions({filteringOptions:[]})},i.prototype.clearSorters=function(){this._currentSorters=[],this.updateOptions({sortingOptions:[]})},i.prototype.init=function(e,t,i){this._grid=i;var r=k({},this.defaultOptions,e);t&&t.pageSize&&(r.top=t.pageSize),this.odataService.options=k({},r,{top:r.top||this.defaultOptions.top}),this.options=this.odataService.options,this.pagination=t,this._currentPagination={pageNumber:1,pageSize:this.odataService.options.top||this.defaultOptions.top},i&&i.getColumns&&(this._columnDefinitions=e&&e.columnDefinitions||i.getColumns(),this._columnDefinitions=this._columnDefinitions.filter(function(e){return!e.excludeFromQuery}))},i.prototype.updateOptions=function(e){this.options=k({},this.options,e)},i.prototype.removeColumnFilter=function(e){this.odataService.removeColumnFilter(e)},i.prototype.getCurrentFilters=function(){return this._currentFilters},i.prototype.getCurrentPagination=function(){return this._currentPagination},i.prototype.getCurrentSorters=function(){return this._currentSorters},i.prototype.resetPaginationOptions=function(){this.odataService.updateOptions({skip:0})},i.prototype.saveColumnFilter=function(e,t,i){this.odataService.saveColumnFilter(e,t,i)},i.prototype.processOnFilterChanged=function(e,t){var i=this;if(t.grid.getOptions().backendServiceApi===undefined)throw new Error('Something went wrong in the GridOdataService, "backendServiceApi" is not initialized');return this._currentFilters=this.castFilterToColumnFilter(t.columnFilters),new Promise(function(e,r){i.updateFilters(t.columnFilters),i.resetPaginationOptions(),e(i.odataService.buildQuery())})},i.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||20);return this.updatePagination(t.newPage,i),this.odataService.buildQuery()},i.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this.odataService.buildQuery()},i.prototype.updateFilters=function(t,i){var r="",n=[];i&&(this._currentFilters=this.castFilterToColumnFilter(t));var o=function(o){if(t.hasOwnProperty(o)){var a=t[o],l=void 0;if(!(l=i&&Array.isArray(s._columnDefinitions)?s._columnDefinitions.find(function(e){return e.id===a.columnId}):a.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var u=l.queryField||l.queryFieldFilter||l.field||l.name||"",c=l.type||"string",d=(a?a.searchTerms:null)||[],h=Array.isArray(d)&&1===d.length?d[0]:"";if(void 0===h&&(h=""),"string"!=typeof h&&!d)throw new Error('ODdata filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {model: Filters.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var p=(h=""+h).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),f=a.operator||(p?p[1]:""),m=p?p[2]:"",g=p?p[3]:"*z"===f?"*":"",y=a.bypassBackendQuery||!1;if(u&&""===m&&0===d.length)return s.removeColumnFilter(u),"continue";if(m=m.replace("'","''"),m=encodeURIComponent(m),y)u&&s.saveColumnFilter(u,h,d);else{if(r="",s.odataService.options.caseType===e.CaseType.pascalCase&&(u=String.titleCase(u||"")),d&&d.length>1){var v=[];if("IN"===f){for(var b=0,S=d.length;b<S;b++)v.push(u+" eq '"+d[b]+"'");r="("+(r=v.join(" or "))+")"}else if("NIN"===f||"NOTIN"===f||"NOT IN"===f){for(var O=0,E=d.length;O<E;O++)v.push(u+" ne '"+d[O]+"'");r="("+(r=v.join(" and "))+")"}}else if("*"===f||"a*"===f||"*z"===f||""!==g)r="*"===f||"*z"===f?"endswith("+u+", '"+m+"')":"startswith("+u+", '"+m+"')";else if(c===e.FieldType.date){var _=le(m,!0);_&&(r=u+" "+s.mapOdataOperator(f)+" DateTime'"+_+"'")}else c===e.FieldType.string?r=""===f?"substringof('"+m+"', "+u+")":u+" "+s.mapOdataOperator(f)+" '"+m+"'":(m=c===e.FieldType.number?m:"'"+m+"'",r=u+" "+s.mapOdataOperator(f)+" "+m);""!==r&&(n.push(String.trim(r)),s.saveColumnFilter(u||"",h,d))}}},s=this;for(var a in t)o(a);this.odataService.updateOptions({filter:n.length>0?n.join(" and "):"",skip:undefined})},i.prototype.updatePagination=function(e,t){this._currentPagination={pageNumber:e,pageSize:t},this.odataService.updateOptions({top:t,skip:(e-1)*t})},i.prototype.updateSorters=function(t,i){var r,n,o=this,s=[],a=[];if(!t&&i){(s=i).forEach(function(e){return e.direction=e.direction.toLowerCase()});var l=s.map(function(t){var i=o._columnDefinitions.find(function(e){return e.id===t.columnId});return a.push({columnId:i?(i.queryField||i.queryFieldSorter||i.field||i.id)+"":t.columnId+"",direction:t.direction}),i?{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===e.SortDirection.ASC}:null});this._grid.setSortColumns(l)}else if(t&&!i)if(t&&0===t.length)s=new Array(this.defaultOptions.orderBy);else if(t){try{for(var u=H(t),c=u.next();!c.done;c=u.next()){var d=c.value;if(d.sortCol){var h=(d.sortCol.queryField||d.sortCol.queryFieldSorter||d.sortCol.field||d.sortCol.id)+"",p=(d.sortCol.field||d.sortCol.id)+"";this.odataService.options.caseType===e.CaseType.pascalCase&&(h=String.titleCase(h),p=String.titleCase(p)),a.push({columnId:p,direction:d.sortAsc?"asc":"desc"})}}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=u["return"])&&n.call(u)}finally{if(r)throw r.error}}s=a}var f=(s=s||[]).map(function(e){return e&&e.columnId?e.columnId+" "+(e&&e.direction&&e.direction.toLowerCase()||""):""}).join(",");return this.odataService.updateOptions({orderBy:this.odataService.options.caseType===e.CaseType.pascalCase?String.titleCase(f):f}),this._currentSorters=s,this.odataService.buildQuery()},i.prototype.castFilterToColumnFilter=function(e){return("object"==typeof e?Object.keys(e).map(function(t){return e[t]}):e).map(function(e){e.columnDef;var t={columnId:e.columnId||""};return e.operator&&(t.operator=e.operator),Array.isArray(e.searchTerms)&&(t.searchTerms=e.searchTerms),t})},i.prototype.mapOdataOperator=function(e){var t="";switch(e){case"<":t="lt";break;case"<=":t="le";break;case">":t="gt";break;case">=":t="ge";break;case"<>":case"!=":t="ne";break;case"=":case"==":default:t="eq"}return t},i=N([t.Injectable(),R("design:paramtypes",[])],i)}(),ii=function(){function e(){this._eventHandler=new Slick.EventHandler}return e.prototype.attachOnCellChange=function(e,t){this._eventHandler.subscribe(e.onCellChange,function(i,r){if(i&&r&&e&&r.cell!==undefined&&e.getColumns&&e.getDataItem){var n=e.getColumns()[r.cell];if("function"==typeof n.onCellChange){var o={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellChange(i,o)}}})},e.prototype.attachOnClick=function(e,t){this._eventHandler.subscribe(e.onClick,function(i,r){if(i&&r&&e&&r.cell!==undefined&&e.getColumns&&e.getDataItem){var n=e.getColumns()[r.cell],o=e.getOptions();if((o&&o.enableCellNavigation&&!o.editable||o.editable&&o.autoCommitEdit)&&e.setActiveCell(r.row,r.cell),"function"==typeof n.onCellClick){var s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellClick(i,s)}}})},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},e}(),ri=function(){function t(){this._eventHandler=new Slick.EventHandler,this._columns=[],this._currentColumns=[],this.subscriptions=[],this.onGridStateChanged=new r.Subject}return Object.defineProperty(t.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),t.prototype.init=function(e,t,i,r){this._grid=e,this.extensionService=t,this.filterService=i,this.sortService=r,this.subscribeToAllGridChanges(e)},t.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this.subscriptions.forEach(function(e){e&&e.unsubscribe&&e.unsubscribe()}),this.subscriptions=[],this._currentColumns=[],this._columns=[]},t.prototype.getCurrentGridState=function(){var e={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters()},t=this.getCurrentPagination();return t&&(e.pagination=t),e},t.prototype.getColumns=function(){return this._columns},t.prototype.getAssociatedCurrentColumns=function(e){var t=[];return e&&Array.isArray(e)&&e.forEach(function(e,i){e&&e.id&&t.push({columnId:e.id,cssClass:e.cssClass||"",headerCssClass:e.headerCssClass||"",width:e.width||0})}),this._currentColumns=t,t},t.prototype.getAssociatedGridColumns=function(e,t){var i=[],r=e.getColumns();return t&&Array.isArray(t)&&t.forEach(function(e,t){var n=r.find(function(t){return t.id===e.columnId});n&&n.id&&i.push(k({},n,{cssClass:e.cssClass,headerCssClass:e.headerCssClass,width:e.width}))}),this._columns=i,i},t.prototype.getCurrentColumns=function(){return this._currentColumns&&Array.isArray(this._currentColumns)&&this._currentColumns.length>0?this._currentColumns:this.getAssociatedCurrentColumns(this._grid.getColumns())},t.prototype.getCurrentFilters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentFilters)return e.getCurrentFilters()}else if(this.filterService&&this.filterService.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null},t.prototype.getCurrentPagination=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentPagination)return e.getCurrentPagination()}return null},t.prototype.getCurrentSorters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentSorters)return e.getCurrentSorters()}else if(this.sortService&&this.sortService.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null},t.prototype.resetColumns=function(t){var i=t||this._columns,r=this.getAssociatedCurrentColumns(i);this.onGridStateChanged.next({change:{newValues:r,type:e.GridStateType.columns},gridState:this.getCurrentGridState()})},t.prototype.resetRowSelection=function(){if(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector){var t=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(e.ExtensionName.rowSelection);t&&t.instance&&this._grid.setSelectedRows([])}},t.prototype.subscribeToAllGridChanges=function(t){var i=this;this.subscriptions.push(this.filterService.onFilterChanged.subscribe(function(t){i.resetRowSelection(),i.onGridStateChanged.next({change:{newValues:t,type:e.GridStateType.filter},gridState:i.getCurrentGridState()})})),this.subscriptions.push(this.filterService.onFilterCleared.subscribe(function(){i.resetRowSelection(),i.onGridStateChanged.next({change:{newValues:[],type:e.GridStateType.filter},gridState:i.getCurrentGridState()})})),this.subscriptions.push(this.sortService.onSortChanged.subscribe(function(t){i.resetRowSelection(),i.onGridStateChanged.next({change:{newValues:t,type:e.GridStateType.sorter},gridState:i.getCurrentGridState()})})),this.subscriptions.push(this.sortService.onSortCleared.subscribe(function(){i.resetRowSelection(),i.onGridStateChanged.next({change:{newValues:[],type:e.GridStateType.sorter},gridState:i.getCurrentGridState()})})),this.bindExtensionAddonEventToGridStateChange(e.ExtensionName.columnPicker,"onColumnsChanged"),this.bindExtensionAddonEventToGridStateChange(e.ExtensionName.gridMenu,"onColumnsChanged"),this.bindSlickGridEventToGridStateChange("onColumnsReordered",t),this.bindSlickGridEventToGridStateChange("onColumnsResized",t)},t.prototype.bindExtensionAddonEventToGridStateChange=function(t,i){var r=this,n=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(t),o=n&&n.instance&&n.instance[i];o&&o.subscribe&&this._eventHandler.subscribe(o,function(t,i){var n=i&&i.columns,o=r.getAssociatedCurrentColumns(n);r.onGridStateChanged.next({change:{newValues:o,type:e.GridStateType.columns},gridState:r.getCurrentGridState()})})},t.prototype.bindSlickGridEventToGridStateChange=function(t,i){var r=this,n=i&&i[t];n&&n.subscribe&&this._eventHandler.subscribe(n,function(t,n){var o=i.getColumns(),s=r.getAssociatedCurrentColumns(o);r.onGridStateChanged.next({change:{newValues:s,type:e.GridStateType.columns},gridState:r.getCurrentGridState()})})},t}(),ni={triggerEvent:!0},oi={highlightRow:!0,resortGrid:!1,selectRow:!1,triggerEvent:!0},si={highlightRow:!0,selectRow:!1,triggerEvent:!0},ai=function(){function e(e,t,i,n){this.extensionService=e,this.filterService=t,this.gridStateService=i,this.sortService=n,this.onItemAdded=new r.Subject,this.onItemDeleted=new r.Subject,this.onItemUpdated=new r.Subject,this.onItemUpserted=new r.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,this._dataView=t},e.prototype.clearAllFiltersAndSorts=function(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()},e.prototype.getColumnFromEventArguments=function(e){if(!(e&&e.grid&&e.grid.getColumns&&e.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:e.row,cell:e.cell,columnDef:e.grid.getColumns()[e.cell],dataContext:e.grid.getDataItem(e.row),dataView:this._dataView,grid:this._grid}},e.prototype.getDataItemByRowNumber=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object or it\'s "getDataItem" method');return this._grid.getDataItem(e)},e.prototype.getItemRowMetadataToHighlight=function(e){var t=this;return function(i){var r=t._dataView.getItem(i),n={cssClasses:""};return"function"==typeof e&&(n=e(i)),n||(n={cssClasses:""}),r&&r._dirty&&(n.cssClasses=(n&&n.cssClasses||"")+" dirty"),r&&r.rowClass&&n&&(n.cssClasses+=" "+r.rowClass,n.cssClasses+=" row"+i),n}},e.prototype.highlightRow=function(e,t,i){var r=this;if(void 0===t&&(t=1500),void 0===i&&(i=300),!this._grid.getSelectionModel()){var n=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions||{});this._grid.setSelectionModel(n)}Array.isArray(e)?e.forEach(function(e){return r.highlightRowByMetadata(e,t,i)}):this.highlightRowByMetadata(e,t,i)},e.prototype.highlightRowByMetadata=function(e,t,i){var r=this;void 0===t&&(t=1500),void 0===i&&(i=300),this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);var n=this._dataView.getItem(e);n&&n.id&&(n.rowClass="highlight",this._dataView.updateItem(n.id,n),this.renderGrid(),clearTimeout(Zt),Zt=setTimeout(function(){n.rowClass="highlight-end",r._dataView.updateItem(n.id,n),r.renderGrid()},i),setTimeout(function(){n&&n.id&&(delete n.rowClass,r._dataView.getIdxById(n.id)!==undefined&&(r._dataView.updateItem(n.id,n),r.renderGrid()))},t+i))},e.prototype.getDataItemByRowIndex=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');return this._grid.getDataItem(e)},e.prototype.getDataItemByRowIndexes=function(e){var t=this;if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');var i=[];return Array.isArray(e)&&e.forEach(function(e){i.push(t._grid.getDataItem(e))}),i},e.prototype.getSelectedRows=function(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');return this._grid.getSelectedRows()},e.prototype.getSelectedRowsDataItem=function(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');var e=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(e)},e.prototype.setSelectedRow=function(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows([e])},e.prototype.setSelectedRows=function(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows(e)},e.prototype.renderGrid=function(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())},e.prototype.resetGrid=function(e){if(this._grid&&this._dataView){var t=this.extensionService.getAllColumns();Array.isArray(t)&&t.length>0&&(this._grid.setColumns(t),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(e))}this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()},e.prototype.addItemToDatagrid=function(e,t,i,r,n){return void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!0),void 0===n&&(n=!0),this.addItem(e,{highlightRow:t,resortGrid:i,triggerEvent:r,selectRow:n})},e.prototype.addItemsToDatagrid=function(e,t,i,r,n){return void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!0),void 0===n&&(n=!0),this.addItems(e,{highlightRow:t,resortGrid:i,triggerEvent:r,selectRow:n})},e.prototype.addItem=function(e,t){if(t=k({},oi,t),!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");if(!e||!e.hasOwnProperty("id"))throw new Error('Adding an item requires the item to include an "id" property');this._dataView.insertItem(0,e);var i=0;return t.resortGrid?(this._dataView.reSort(),i=this._dataView.getRowById(e.id)):this._grid.scrollRowIntoView(i),t.highlightRow&&this.highlightRow(i),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this._grid.setSelectedRows(i),t.triggerEvent&&this.onItemAdded.next(e),i},e.prototype.addItems=function(e,t){var i=this;t=k({},oi,t);var r=[];if(!Array.isArray(e))return[this.addItem(e,t)];if(e.forEach(function(e){return i.addItem(e,{highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1})}),t.resortGrid)this._dataView.reSort(),t.highlightRow&&e.forEach(function(e){var t=i._dataView.getRowById(e.id);r.push(t)});else if(t.highlightRow)for(var n=e.length,o=0;o<n;o++)r.push(o);return t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this._grid.setSelectedRows(r),t.triggerEvent&&this.onItemAdded.next(e),r},e.prototype.deleteDataGridItem=function(e,t){void 0===t&&(t=!0),this.deleteItem(e,{triggerEvent:t})},e.prototype.deleteDataGridItems=function(e,t){void 0===t&&(t=!0),this.deleteItems(e,{triggerEvent:t})},e.prototype.deleteDataGridItemById=function(e,t){void 0===t&&(t=!0),this.deleteItemById(e,{triggerEvent:t})},e.prototype.deleteDataGridItemByIds=function(e,t){void 0===t&&(t=!0),this.deleteItemByIds(e,{triggerEvent:t})},e.prototype.deleteItem=function(e,t){if(t=k({},ni,t),!e||!e.hasOwnProperty("id"))throw new Error('Deleting an item requires the item to include an "id" property');return this.deleteItemById(e.id,t)},e.prototype.deleteItems=function(e,t){var i=this;if(t=k({},ni,t),!Array.isArray(e))return this.deleteItem(e,t),[e.id];var r=[];return e.forEach(function(e){e&&e.id!==undefined&&r.push(e.id),i.deleteItem(e,{triggerEvent:!1})}),t.triggerEvent&&this.onItemDeleted.next(e),r},e.prototype.deleteItemById=function(e,t){if(t=k({},ni,t),null===e||e===undefined)throw new Error('Cannot delete a row without a valid "id"');return this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this._grid.setSelectedRows([]),this._dataView.deleteItem(e),t.triggerEvent&&this.onItemDeleted.next(e),e},e.prototype.deleteItemByIds=function(e,t){if(t=k({},ni,t),Array.isArray(e)){for(var i=0;i<e.length;i++)null!==e[i]&&this.deleteItemById(e[i],{triggerEvent:!1});return t.triggerEvent&&this.onItemDeleted.next(e),e}return[]},e.prototype.updateDataGridItem=function(e,t,i,r){return void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),this.updateItem(e,{highlightRow:t,triggerEvent:i,selectRow:r})},e.prototype.updateDataGridItems=function(e,t,i,r){return void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),this.updateItems(e,{highlightRow:t,triggerEvent:i,selectRow:r})},e.prototype.updateDataGridItemById=function(e,t,i,r,n){return void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===n&&(n=!0),this.updateItemById(e,t,{highlightRow:i,triggerEvent:r,selectRow:n})},e.prototype.updateItem=function(e,t){t=k({},si,t);var i=e&&e.hasOwnProperty("id")?e.id:undefined;if(i===undefined)throw new Error('Calling Update of an item requires the item to include an "id" property');return this.updateItemById(i,e,t)},e.prototype.updateItems=function(e,t){var i=this;if(t=k({},si,t),!Array.isArray(e))return[this.updateItem(e,t)];var r=[];return e.forEach(function(e){r.push(i.updateItem(e,{highlightRow:!1,selectRow:!1,triggerEvent:!1}))}),t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this._grid.setSelectedRows(r),t.triggerEvent&&this.onItemUpdated.next(e),r},e.prototype.updateItemById=function(e,t,i){if(i=k({},si,i),e===undefined)throw new Error('Cannot update a row without a valid "id"');var r=this._dataView.getRowById(e);if(!t||r===undefined)throw new Error("The item to update in the grid was not found with id: "+e);return this._dataView.getIdxById(e)!==undefined&&(this._dataView.updateItem(e,t),this._grid.updateRow(r),i.highlightRow&&this.highlightRow(r),i.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this._grid.setSelectedRows(r),i.triggerEvent&&this.onItemUpdated.next(t)),r},e.prototype.upsertItem=function(e,t){t=k({},oi,t);var i=e&&e.hasOwnProperty("id")?e.id:undefined;if(i===undefined)throw new Error('Calling Upsert of an item requires the item to include an "id" property');return this.upsertItemById(i,e,t)},e.prototype.upsertItems=function(e,t){var i=this;if(t=k({},oi,t),!Array.isArray(e))return[this.upsertItem(e,t)];var r=[];return e.forEach(function(e){r.push(i.upsertItem(e,{highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1}))}),t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this._grid.setSelectedRows(r),t.triggerEvent&&this.onItemUpserted.next(e),r},e.prototype.upsertItemById=function(e,t,i){if(i=k({},oi,i),e===undefined)throw new Error('Calling Upsert of an item requires the item to include a valid and unique "id" property');var r;return r=this._dataView.getRowById(e)===undefined?this.addItem(t,i):this.updateItem(t,{highlightRow:i.highlightRow,selectRow:i.selectRow,triggerEvent:i.triggerEvent}),i.triggerEvent&&this.onItemUpserted.next(t),r},e=N([t.Injectable(),R("design:paramtypes",[qt,$t,ri,Ht])],e)}(),li=function(){function e(){this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){var i=this;this._grid=e,this._dataView=t,e&&this._gridOptions&&this._gridOptions.createPreHeaderPanel&&(this._eventHandler.subscribe(e.onSort,function(e,t){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(e.onColumnsResized,function(e,t){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(t.onRowCountChanged,function(e,t){i.createPreHeaderRowGroupingTitle()}),setTimeout(function(){i.createPreHeaderRowGroupingTitle()},50))},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},e.prototype.createPreHeaderRowGroupingTitle=function(){var e=$(this._grid.getPreHeaderPanel()).empty().addClass("slick-header-columns").css("left","-1000px").width(this._grid.getHeadersWidth());e.parent().addClass("slick-header");for(var t,i,r=this._grid.getHeaderColumnWidthDiff(),n="",o=0,s=0;s<this._columnDefinitions.length;s++)n===(t=this._columnDefinitions[s]).columnGroup&&s>0?(o+=t.width,i.width(o-r)):(o=t.width,i=$('<div class="ui-state-default slick-header-column" />').html('<span class="slick-column-name">'+(t.columnGroup||"")+"</span>").width(t.width-r).appendTo(e)),n=t.columnGroup},e}(),ui=function(){function e(){this._resizePaused=!1,this.onGridAfterResize=new r.Subject,this.onGridBeforeResize=new r.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_gridUid",{get:function(){return this._grid&&this._grid.getUID?this._grid.getUID():this._gridOptions&&this._gridOptions.gridId},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,t&&(this._fixedHeight=t.height,this._fixedWidth=t.width)},e.prototype.bindAutoResizeDataGrid=function(e){var t=this,i=$("#"+(this._gridOptions&&this._gridOptions.gridId?this._gridOptions.gridId:"grid1"));if(i===undefined||i.offset()===undefined)return null;this.resizeGrid(10,e),$(window).on("resize.grid."+this._gridUid,function(i){t.onGridBeforeResize.next(i),t._resizePaused||t.resizeGrid(0,e)})},e.prototype.calculateGridNewDimensions=function(e){var t=$("#"+e.gridId),i=e&&e.autoResize||{},r=i&&i.containerId?$("#"+i.containerId):$("#"+e.gridContainerId);if(!window||r===undefined||t===undefined)return null;var n=i&&i.bottomPadding?i.bottomPadding:20;n&&(e.enablePagination||this._gridOptions.backendServiceApi)&&(n+=35);var o=0,s=0;if("container"===i.calculateAvailableSizeBy)o=r.height()||0;else{o=window.innerHeight||0;var a=t.offset();s=a!==undefined?a.top:0}var l=o-s-n,u=r.width()||0,c=i&&i.maxHeight||undefined,d=i&&i.minHeight||180,h=i&&i.maxWidth||undefined,p=i&&i.minWidth||300,f=l,m=i&&i.sidePadding?u-i.sidePadding:u;return f<d&&(f=d),c&&f>c&&(f=c),m<p&&(m=p),h&&m>h&&(m=h),{height:this._fixedHeight||f,width:this._fixedWidth||m}},e.prototype.dispose=function(){$(window).off("resize.grid."+this._gridUid)},e.prototype.compensateHorizontalScroll=function(e,t){var i=$("#"+t.gridId),r=e&&e.getScrollbarDimensions(),n=r&&r.width,o=ie();n<o&&i.width(i.width()+(o-n))},e.prototype.getLastResizeDimensions=function(){return this._lastDimensions},e.prototype.pauseResizer=function(e){this._resizePaused=e},e.prototype.resizeGrid=function(e,t){var i=this;if(void 0===e&&(e=10),!this._grid||!this._gridOptions)throw new Error('\n      Angular-Slickgrid resizer requires a valid Grid object and Grid Options defined.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling bindAutoResizeDataGrid()');return new Promise(function(r){(e=e||0)>0?(clearTimeout(i._timer),i._timer=setTimeout(function(){return r(i.resizeGridCallback(t))},e)):r(i.resizeGridCallback(t))})},e.prototype.resizeGridCallback=function(e){var t=this.resizeGridWithDimensions(e);return this.onGridAfterResize.next(t),t},e.prototype.resizeGridWithDimensions=function(e){var t=this.calculateGridNewDimensions(this._gridOptions),i=$("#"+this._gridOptions.gridId)||{},r=$("#"+this._gridOptions.gridContainerId)||{};if((e||t)&&i.length>0){var n=e&&e.height?e.height:t.height,o=e&&e.width?e.width:t.width;this._gridOptions.autoHeight||(i.height(n),r.height(n)),i.width(o),r.width(o),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&this._grid&&this._grid.resizeCanvas&&this._grid.resizeCanvas(),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns&&(this._gridUid&&$("."+this._gridUid).length>0&&this._grid.autosizeColumns(),this.compensateHorizontalScroll(this._grid,this._gridOptions)),this._lastDimensions={height:n,width:o},(this._gridOptions.enablePagination||this._gridOptions.backendServiceApi)&&(this._lastDimensions.heightWithPagination=n+35)}return this._lastDimensions},e}(),ci=function(){function e(e){this._count=0,this._field=e}return e.prototype.init=function(){this._count=0,this._nonNullCount=0,this._sum=0},e.prototype.accumulate=function(e){var t=e&&e.hasOwnProperty(this._field)?e[this._field]:null;this._count++,null==t||""===t||isNaN(t)||(this._nonNullCount++,this._sum+=parseFloat(t))},e.prototype.storeResult=function(e){e&&e.avg!==undefined||(e.avg={}),0!==this._nonNullCount&&(e.avg[this._field]=this._sum/this._nonNullCount)},e}(),di=function(){function e(e){this._field=e}return e.prototype.init=function(){this._min=null},e.prototype.accumulate=function(e){var t=e&&e.hasOwnProperty(this._field)?e[this._field]:null;null==t||""===t||isNaN(t)||(null==this._min||t<this._min)&&(this._min=parseFloat(t))},e.prototype.storeResult=function(e){e&&e.min!==undefined||(e.min={}),e.min[this._field]=this._min},e}(),hi=function(){function e(e){this._field=e}return e.prototype.init=function(){this._max=null},e.prototype.accumulate=function(e){var t=e&&e.hasOwnProperty(this._field)?e[this._field]:null;null==t||""===t||isNaN(t)||(null==this._max||t>this._max)&&(this._max=parseFloat(t))},e.prototype.storeResult=function(e){e&&e.max!==undefined||(e.max={}),e.max[this._field]=this._max},e}(),pi=function(){function e(e){this._sum=0,this._field=e}return e.prototype.init=function(){this._sum=0},e.prototype.accumulate=function(e){var t=e&&e.hasOwnProperty(this._field)?e[this._field]:null;null==t||""===t||isNaN(t)||(this._sum+=parseFloat(t))},e.prototype.storeResult=function(e){e&&e.sum!==undefined||(e.sum={}),e.sum[this._field]=this._sum},e}(),fi={Avg:ci,Min:di,Max:hi,Sum:pi},mi=function(){function t(e){this.args=e,this.init()}return Object.defineProperty(t.prototype,"collection",{get:function(){return this.columnDef&&this.columnDef&&this.columnDef.internalColumnEditor.collection||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorOptions",{get:function(){return this.columnEditor&&this.columnEditor.editorOptions||{}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this,i=this.columnDef&&this.columnDef.id,r=this.columnEditor&&this.columnEditor.placeholder||"",n=this.columnEditor&&this.columnEditor.title||"";this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value",this.$input=$('<input type="text" role="presentation" autocomplete="off" class="autocomplete editor-text editor-'+i+'" placeholder="'+r+'" title="'+n+'" />').appendTo(this.args.container).on("keydown.nav",function(i){t._lastInputEvent=i,i.keyCode!==e.KeyCode.LEFT&&i.keyCode!==e.KeyCode.RIGHT||i.stopImmediatePropagation()});var o=this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.editorOptions,s=this.collection;Array.isArray(s)&&this.customStructure&&(s=s.map(function(e){return{label:e[t.labelName],value:e[t.valueName]}})),o?(o.select=function(e,i){return t.onClose(e,i)},this.$input.autocomplete(o)):this.$input.autocomplete({source:s,minLength:0,select:function(e,i){return t.onClose(e,i)}}),setTimeout(function(){t.$input.focus().select()},50)},t.prototype.destroy=function(){this.$input.off("keydown.nav").remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.getValue=function(){return this.$input.val()},t.prototype.setValue=function(e){this.$input.val(e)},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";if(e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))){var r=e[i||t];this._currentValue=r,this._defaultTextValue="string"==typeof r?r:r[this.labelName],this.$input.val(this._defaultTextValue),this.$input[0].defaultValue=this._defaultTextValue,this.$input.select()}},t.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.serializeValue=function(){var t,i="undefined"!=typeof this.editorOptions.minLength?this.editorOptions.minLength:3;return this.editorOptions.forceUserInput&&(this._currentValue=this.$input.val().length>=i?this.$input.val():this._currentValue),this.customStructure&&this._currentValue.hasOwnProperty(this.labelName)?this._currentValue[this.labelName]:this._currentValue.label?this.columnDef.type===e.FieldType.object?((t={})[this.labelName]=this._currentValue.label,t[this.valueName]=this._currentValue.value,t):this._currentValue.label:this._currentValue},t.prototype.applyValue=function(e,t){var i=this,r=t,n=this.columnDef&&this.columnDef.field;Array.isArray(this.collection)&&this.collection.length>0&&(r=Z(this.collection,function(e){return e&&e.hasOwnProperty(i.labelName)?e[i.labelName].toString()===t:e.toString()===t}));var o=n.indexOf(".")?n.substring(0,n.indexOf(".")):"",s=this.validate(r);e[o||n]=s&&s.valid?r:""},t.prototype.isValueChanged=function(){var t=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||t!==e.KeyCode.ENTER)||!(""===this.$input.val()&&null===this._defaultTextValue)&&this.$input.val()!==this._defaultTextValue},t.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&""===i?{valid:!1,msg:r||Re.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t.prototype.onClose=function(e,t){if(t&&t.item){this._currentValue=t&&t.item;var i="string"==typeof t.item?t.item:t.item.label;if(this.setValue(i),this.args.grid.getOptions().autoCommitEdit){var r=this.validate();r&&r.valid&&this.args.grid.getEditorLock().commitCurrentEdit()}}return!1},t}(),gi=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="checkbox" value="true" class="editor-checkbox editor-'+t+'" title="'+i+'" />'),this.$input.appendTo(this.args.container),this.$input.focus(),this.args.grid.getOptions().autoCommitEdit&&this.$input.click(function(){return e.args.grid.getEditorLock().commitCurrentEdit()})},e.prototype.destroy=function(){this.$input.remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.hide=function(){this.$input.hide()},e.prototype.show=function(){this.$input.show()},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=!!e[i||t],this.defaultValue?this.$input.prop("checked",!0):this.$input.prop("checked",!1))},e.prototype.preClick=function(){this.$input.prop("checked",!this.$input.prop("checked"))},e.prototype.serializeValue=function(){return this.$input.prop("checked")},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},e.prototype.isValueChanged=function(){return this.serializeValue()!==this.defaultValue},e.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.prop&&this.$input.prop("checked"),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&!i?{valid:!1,msg:r||Re.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},e}(),yi=o;require("flatpickr");var vi=function(){function t(e){this.args=e,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorOptions",{get:function(){return this.columnEditor.editorOptions||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this;if(this.args&&this.args.column){var i=this.columnDef&&this.columnDef.id,r=this.columnEditor&&this.columnEditor.placeholder||"",n=this.columnEditor&&this.columnEditor.title||"",o=this.args.grid.getOptions();this.defaultDate=this.args.item?this.args.item[this.args.column.field]:null;var s=ne(this.columnDef.type||e.FieldType.dateIso),a=ne(this.columnDef.outputType||e.FieldType.dateUtc),l=this.getCurrentLocale(this.columnDef,o);l.length>2&&(l=l.substring(0,2));var u={defaultDate:this.defaultDate,altInput:!0,altInputClass:"flatpickr-alt-input",altFormat:s,dateFormat:a,closeOnSelect:!1,locale:"en"!==l?this.loadFlatpickrLocale(l):"en",onChange:function(e,i,r){t.save()}},c=k({},u,this.editorOptions),d=".editor-text.editor-"+i+".flatpickr";this.$input=$('<input type="text" data-defaultDate="'+this.defaultDate+'" class="'+d.replace(/\./g," ")+'" placeholder="'+r+'" title="'+n+'" />'),this.$input.appendTo(this.args.container),this.flatInstance=this.$input[0]&&"function"==typeof this.$input[0].flatpickr?this.$input[0].flatpickr(c):null,this._$inputWithData=c&&c.altInput?$(d+".flatpickr-alt-input"):this.$input}},t.prototype.getCurrentLocale=function(e,t){var r=t||e.params||{};return r.i18n&&r.i18n instanceof i.TranslateService?r.i18n.currentLang:"en"},t.prototype.loadFlatpickrLocale=function(e){var t=this.args&&this.args.grid&&this.args.grid.getOptions();if(t&&t.params&&t.params.flapickrLocale)return t.params.flapickrLocale;if("en"!==e){var i=require("flatpickr/dist/l10n/"+e+".js")["default"];return i&&i[e]?i[e]:"en"}return"en"},t.prototype.destroy=function(){this.hide(),this.$input.remove(),this._$inputWithData&&"function"==typeof this._$inputWithData.remove&&this._$inputWithData.remove()},t.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},t.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},t.prototype.focus=function(){this._$inputWithData&&this._$inputWithData.focus?this._$inputWithData.focus().select():this.$input&&this.$input.focus&&this.$input.focus().select()},t.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.args.grid.getOptions().autoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultDate=e[i||t],this.flatInstance.setDate(e[this.args.column.field]),this.focus())},t.prototype.serializeValue=function(){var t=this.$input.val();if(!t)return"";var i=re(this.args.column.type||e.FieldType.dateIso);return yi(t).format(i)},t.prototype.applyValue=function(t,i){var r=this.columnDef&&this.columnDef.field,n=re(this.args.column.type||e.FieldType.dateIso),o=r.indexOf(".")?r.substring(0,r.indexOf(".")):"",s=i?yi(i,n).toDate():"",a=this.validate(s);t[o||r]=a&&a.valid?s:""},t.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null==this.defaultDate)&&this.$input.val()!==this.defaultDate},t.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&""===i?{valid:!1,msg:r||Re.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t}(),bi=function(){function t(e){this.args=e,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.args&&this.args.grid&&this.args.grid.getOptions&&this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this,i=this.columnDef&&this.columnDef.id,r=this.columnEditor&&this.columnEditor.placeholder||"",n=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="number" role="presentation"  autocomplete="off" class="editor-text editor-'+i+'" placeholder="'+r+'" title="'+n+'" step="'+this.getInputDecimalSteps()+'" />').appendTo(this.args.container).on("keydown.nav",function(i){t._lastInputEvent=i,i.keyCode!==e.KeyCode.LEFT&&i.keyCode!==e.KeyCode.RIGHT||i.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return t.save()}),setTimeout(function(){t.$input.focus().select()},50)},t.prototype.destroy=function(){this.$input.off("keydown.nav focusout").remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor},t.prototype.getDecimalPlaces=function(){var e=this.columnEditor.params&&this.columnEditor.params.hasOwnProperty("decimalPlaces")?this.columnEditor.params.decimalPlaces:undefined;return e===undefined&&(e=0),e||0===e?e:null},t.prototype.getInputDecimalSteps=function(){for(var e=this.getDecimalPlaces(),t="",i=1;i<e;i++)t+="0";return e>0?"0."+t+"1":"1"},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";if(e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))){this.defaultValue=e[i||t];var r=this.getDecimalPlaces();null!==r&&(this.defaultValue||0===this.defaultValue)&&this.defaultValue.toFixed&&(this.defaultValue=this.defaultValue.toFixed(r)),this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()}},t.prototype.serializeValue=function(){var e=this.$input.val();if(""===e||isNaN(e))return e;var t=parseFloat(e),i=this.getDecimalPlaces();return null!==i&&(t||0===t)&&t.toFixed&&(t=parseFloat(t.toFixed(i))),t},t.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},t.prototype.isValueChanged=function(){var t=this.$input.val(),i=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||i!==e.KeyCode.ENTER)||!(""===t&&null===this.defaultValue)&&t!==this.defaultValue},t.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.validate=function(e){var t=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),i=isNaN(t)?null:parseFloat(t),r=this.getDecimalPlaces(),n=this.columnEditor.required,o=this.columnEditor.minValue,s=this.columnEditor.maxValue,a=this.columnEditor.errorMessage,l={"{{minValue}}":o,"{{maxValue}}":s,"{{minDecimal}}":0,"{{maxDecimal}}":r},u=!0,c="";return this.validator?this.validator(t,this.args):(n&&""===t?(u=!1,c=a||Re.VALIDATION_REQUIRED_FIELD):isNaN(t)||0===r&&!/^[-+]?(\d+(\.)?(\d)*)$/.test(t)?(u=!1,c=a||Re.VALIDATION_EDITOR_VALID_NUMBER):o!==undefined&&s!==undefined&&null!==i&&(i<o||i>s)?(u=!1,c=a||Re.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return l[e]})):o!==undefined&&null!==i&&i<=o?(u=!1,c=a||Re.VALIDATION_EDITOR_NUMBER_MIN.replace(/{{minValue}}/gi,function(e){return l[e]})):s!==undefined&&null!==i&&i>=s?(u=!1,c=a||Re.VALIDATION_EDITOR_NUMBER_MAX.replace(/{{maxValue}}/gi,function(e){return l[e]})):r>0&&!new RegExp("^(\\d*(\\.)?(\\d){0,"+r+"})$").test(t)&&(u=!1,c=a||Re.VALIDATION_EDITOR_DECIMAL_BETWEEN.replace(/{{minDecimal}}|{{maxDecimal}}/gi,function(e){return l[e]})),{valid:u,msg:c})},t}(),Si=function(){function t(e){this.args=e,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.args&&this.args.grid&&this.args.grid.getOptions&&this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this,i=this.columnDef&&this.columnDef.id,r=this.columnEditor&&this.columnEditor.placeholder||"",n=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="number" role="presentation"  autocomplete="off" class="editor-text editor-'+i+'" placeholder="'+r+'" title="'+n+'" />').appendTo(this.args.container).on("keydown.nav",function(i){t._lastInputEvent=i,i.keyCode!==e.KeyCode.LEFT&&i.keyCode!==e.KeyCode.RIGHT||i.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return t.save()}),setTimeout(function(){t.$input.focus().select()},50)},t.prototype.destroy=function(){this.$input.off("keydown.nav focusout").remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=e[i||t],this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select())},t.prototype.serializeValue=function(){var e=this.$input.val();return""===e||isNaN(e)?e:isNaN(e)?e:parseInt(e,10)},t.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},t.prototype.isValueChanged=function(){var t=this.$input.val(),i=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||i!==e.KeyCode.ENTER)||!(""===t&&null===this.defaultValue)&&t!==this.defaultValue},t.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.validate=function(e){var t=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),i=isNaN(t)?null:parseInt(t,10),r=this.columnEditor.errorMessage,n=this.columnEditor.required,o=this.columnEditor.minValue,s=this.columnEditor.maxValue,a={"{{minValue}}":o,"{{maxValue}}":s},l=!0,u="";return this.validator?this.validator(t,this.args):(n&&""===t?(l=!1,u=r||Re.VALIDATION_REQUIRED_FIELD):isNaN(t)||!/^[+-]?\d+$/.test(t)?(l=!1,u=r||Re.VALIDATION_EDITOR_VALID_INTEGER):o!==undefined&&s!==undefined&&null!==i&&(i<o||i>s)?(l=!1,u=r||Re.VALIDATION_EDITOR_INTEGER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return a[e]})):o!==undefined&&null!==i&&i<=o?(l=!1,u=r||Re.VALIDATION_EDITOR_INTEGER_MIN.replace(/{{minValue}}/gi,function(e){return a[e]})):s!==undefined&&null!==i&&i>=s&&(l=!1,u=r||Re.VALIDATION_EDITOR_INTEGER_MAX.replace(/{{maxValue}}/gi,function(e){return a[e]})),{valid:l,msg:u})},t}(),Oi=function(){function t(e){this.args=e,this.gridOptions=this.args.grid.getOptions();var t=this.gridOptions||this.args.column.params||{};this._translate=t.i18n,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"",n=this._translate&&this._translate.instant("CANCEL")||Re.TEXT_CANCEL,o=this._translate&&this._translate.instant("SAVE")||Re.TEXT_SAVE,s=$("body");this.$wrapper=$('<div class="slick-large-editor-text editor-'+t+'" />').appendTo(s),this.$textarea=$('<textarea hidefocus rows="5" placeholder="'+i+'" title="'+r+'">').appendTo(this.$wrapper),this.hasAutoCommitEdit&&this.$textarea.on("focusout",function(){return e.save()}),$('<div class="editor-footer">\n          <button class="btn btn-primary btn-xs">'+o+'</button>\n          <button class="btn btn-default btn-xs">'+n+"</button>\n      </div>").appendTo(this.$wrapper),this.$wrapper.find("button:first").on("click",function(){return e.save()}),this.$wrapper.find("button:last").on("click",function(){return e.cancel()}),this.$textarea.on("keydown",this.handleKeyDown.bind(this)),this.position(this.args&&this.args.position),this.$textarea.focus().select()},t.prototype.handleKeyDown=function(t){t.which===e.KeyCode.ENTER&&t.ctrlKey?this.save():t.which===e.KeyCode.ESCAPE?(t.preventDefault(),this.cancel()):t.which===e.KeyCode.TAB&&t.shiftKey?(t.preventDefault(),this.args&&this.args.grid&&this.args.grid.navigatePrev()):t.which===e.KeyCode.TAB&&(t.preventDefault(),this.args&&this.args.grid&&this.args.grid.navigateNext())},t.prototype.cancel=function(){this.$textarea.val(this.defaultValue),this.args&&this.args.cancelChanges&&this.args.cancelChanges()},t.prototype.hide=function(){this.$wrapper.hide()},t.prototype.show=function(){this.$wrapper.show()},t.prototype.position=function(e){this.$wrapper.css("top",(e.top||0)-5).css("left",(e.left||0)-5)},t.prototype.destroy=function(){this.$wrapper.off("keydown focusout").remove()},t.prototype.focus=function(){this.$textarea.focus()},t.prototype.getValue=function(){return this.$textarea.val()},t.prototype.setValue=function(e){this.$textarea.val(e)},t.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=e[i||t],this.$textarea.val(this.defaultValue),this.$textarea.select())},t.prototype.serializeValue=function(){return this.$textarea.val()},t.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},t.prototype.isValueChanged=function(){return!(""===this.$textarea.val()&&null===this.defaultValue)&&this.$textarea.val()!==this.defaultValue},t.prototype.save=function(){var e=this.validate();e&&e.valid&&this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()},t.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$textarea&&this.$textarea.val&&this.$textarea.val(),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&""===i?{valid:!1,msg:r||Re.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t}(),Ei=d,_i=function(){function t(e,t){var i=this;this.args=e,this.isMultipleSelect=t,this._subscriptions=[],this._destroying=!1,this.gridOptions=this.args.grid.getOptions();var r=this.gridOptions||this.args.column.params||{};this._translate=r.i18n;var n=this.columnDef&&this.columnDef.id;this.elementName="editor-"+n;var o={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,name:this.elementName,single:!0,textTemplate:function(e){return i.columnDef&&i.columnDef.internalColumnEditor&&i.columnDef.internalColumnEditor.enableRenderHtml||!1?e.text():e.html()},onBlur:function(){return i.destroy()},onClose:function(){!i._destroying&&i.hasAutoCommitEdit&&e.grid.getEditorLock().commitCurrentEdit()}};t&&(o.single=!1,o.addTitle=!0,o.okButton=!0,o.selectAllDelimiter=["",""],this._translate&&(o.countSelected=this._translate.instant("X_OF_Y_SELECTED"),o.allSelected=this._translate.instant("ALL_SELECTED"),o.selectAllText=this._translate.instant("SELECT_ALL"))),this.defaultOptions=o,this.init()}return Object.defineProperty(t.prototype,"collection",{get:function(){return this.columnDef&&this.columnDef&&this.columnDef.internalColumnEditor.collection||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.collectionOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentValues",{get:function(){var e=this;if(this.collection.every(function(e){return"string"==typeof e}))return this.collection.filter(function(t){return-1!==e.$editorElm.val().indexOf(t.toString())});var t=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",i=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1;return this.collection.filter(function(t){return-1!==e.$editorElm.val().indexOf(t[e.valueName].toString())}).map(function(r){var n=r[e.valueName],o=r[e.labelPrefixName]||"",s=r[e.labelSuffixName]||"",a=e.columnDef&&e.columnDef.field;return(a.indexOf(".")?a.substring(0,a.indexOf(".")):"")&&"object"==typeof r?r:(o=e.enableTranslateLabel&&o&&"string"==typeof o?e._translate.instant(o||" "):o,s=e.enableTranslateLabel&&s&&"string"==typeof s?e._translate.instant(s||" "):s,i?[o,n,s].filter(function(e){return e}).join(t):n)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentValue",{get:function(){var e=this;if(this.collection.every(function(e){return"string"==typeof e}))return Z(this.collection,function(t){return t.toString()===e.$editorElm.val()});var t=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",i=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1,r=Z(this.collection,function(t){return t[e.valueName].toString()===e.$editorElm.val()}),n=this.columnDef&&this.columnDef.field;if((n.indexOf(".")?n.substring(0,n.indexOf(".")):"")&&"object"==typeof r)return r;if(r){var o=r[this.valueName];if(i){var s=r[this.labelPrefixName]||"",a=r[this.labelSuffixName]||"";return[s=this.enableTranslateLabel&&s&&"string"==typeof s?this._translate.instant(s||" "):s,o,a=this.enableTranslateLabel&&a&&"string"==typeof a?this._translate.instant(a||" "):a].filter(function(e){return e}).join(t)}return o}return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),t.prototype.init=function(){if(!this.args)throw new Error('[Angular-SlickGrid] An editor must always have an "init()" with valid arguments.');if(!this.columnDef||!this.columnDef.internalColumnEditor||!this.columnDef.internalColumnEditor.collection&&!this.columnDef.internalColumnEditor.collectionAsync)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") inside Column Definition Editor for the MultipleSelect/SingleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { editor: { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } }");if(this._collectionService=new ke(this._translate),this.enableTranslateLabel=!!this.columnDef.internalColumnEditor.enableTranslateLabel&&this.columnDef.internalColumnEditor.enableTranslateLabel,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this._translate||"function"!=typeof this._translate.instant))throw new Error("[select-editor] The ngx-translate TranslateService is required for the Select Editor to work correctly");this.renderDomElement(this.collection)},t.prototype.applyValue=function(t,i){var r=this.columnDef&&this.columnDef.field,n=this.columnDef&&this.columnDef.type,o=i;n!==e.FieldType.number&&n!==e.FieldType.integer&&n!==e.FieldType.boolean||(o=parseFloat(i)),this.isMultipleSelect&&"string"==typeof i&&i.indexOf(",")>=0&&(o=i.split(","));var s=r.indexOf(".")?r.substring(0,r.indexOf(".")):"",a=this.validate(o);t[s||r]=a&&a.valid?o:""},t.prototype.destroy=function(){if(this._destroying=!0,this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect){this.$editorElm.multipleSelect("destroy"),this.$editorElm.remove();var e=this.elementName.toString().replace(".","\\.");$("[name="+e+"].ms-drop").remove()}else this.$editorElm&&"function"==typeof this.$editorElm.remove&&this.$editorElm.remove();this._subscriptions=pe(this._subscriptions)},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";if(e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))){var r=e[i||t],n=i&&r.hasOwnProperty(this.valueName)?r[this.valueName]:r;this.isMultipleSelect&&Array.isArray(n)?this.loadMultipleValues(n):this.loadSingleValue(n),this.refresh()}},t.prototype.loadMultipleValues=function(e){if(Array.isArray(e)){this.defaultValue=e.map(function(e){return e});var t=e.map(function(e){return e.toString()});this.$editorElm.find("option").each(function(e,i){i.selected=-1!==t.indexOf(i.value)})}},t.prototype.loadSingleValue=function(e){this.defaultValue=e,this.$editorElm.find("option").each(function(t,i){i.selected=e.toString()===i.value})},t.prototype.serializeValue=function(){return this.isMultipleSelect?this.currentValues:this.currentValue},t.prototype.focus=function(){this.$editorElm&&this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("focus")},t.prototype.isValueChanged=function(){return this.isMultipleSelect?!K(this.$editorElm.val(),this.defaultValue):this.$editorElm.val()!==this.defaultValue},t.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$editorElm&&this.$editorElm.val&&this.$editorElm.val(),r=this.columnEditor.errorMessage;if(this.validator){var n=e!==undefined?e:this.isMultipleSelect?this.currentValues:this.currentValue;return this.validator(n,this.args)}return t&&(""===i||Array.isArray(i)&&0===i.length)?{valid:!1,msg:r||Re.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t.prototype.filterCollection=function(e){var t=e;if(this.columnEditor&&this.columnEditor.collectionFilterBy){var i=this.columnEditor.collectionFilterBy,r=this.columnEditor.collectionOptions&&this.columnEditor.collectionOptions.filterResultAfterEachPass||null;t=this._collectionService.filterCollection(t,i,r)}return t},t.prototype.sortCollection=function(e){var t=e;if(this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.collectionSortBy){var i=this.columnDef.internalColumnEditor.collectionSortBy;t=this._collectionService.sortCollection(this.columnDef,t,i,this.enableTranslateLabel)}return t},t.prototype.renderDomElement=function(e){if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=te(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Select Editor is not a valid array');this.collectionOptions&&this.collectionOptions.addBlankEntry&&e.unshift(this.createBlankEntry());var t=e||[];t=this.filterCollection(t),t=this.sortCollection(t);var i=this.buildTemplateHtmlString(t);this.createDomElement(i)},t.prototype.buildTemplateHtmlString=function(e){var t=this,i="",r=this.columnDef&&this.columnDef.id,n=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",o=this.columnDef.internalColumnEditor.enableRenderHtml||!1,s=this.gridOptions&&this.gridOptions.sanitizeHtmlOptions||{};return e.every(function(e){return"string"==typeof e})?e.forEach(function(e){i+='<option value="'+e+'" label="'+e+'">'+e+"</option>"}):e.forEach(function(e){if(!e||e[t.labelName]===undefined&&e.labelKey===undefined)throw new Error("[select-editor] A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example: { collection: [ { value: '1', label: 'One' } ])");var r=e.labelKey||e[t.labelName],a=(e.labelKey||t.enableTranslateLabel)&&r?t._translate.instant(r||" "):r,l=e[t.labelPrefixName]||"",u=e[t.labelSuffixName]||"",c=e[t.optionLabel]||"";c=c.toString().replace(/\"/g,"'"),l=t.enableTranslateLabel&&l&&"string"==typeof l?t._translate.instant(l||" "):l,u=t.enableTranslateLabel&&u&&"string"==typeof u?t._translate.instant(u||" "):u,c=t.enableTranslateLabel&&c&&"string"==typeof c?t._translate.instant(c||" "):c;var d=[l,a,u].filter(function(e){return e}).join(n);o&&(d=q(Ei.sanitize(d,s)));i+='<option value="'+e[t.valueName]+'" label="'+c+'">'+d+"</option>"}),'<select id="'+this.elementName+'" class="ms-filter search-filter editor-'+r+'" '+(this.isMultipleSelect?'multiple="multiple"':"")+">"+i+"</select>"},t.prototype.createBlankEntry=function(){var e,t=((e={})[this.labelName]="",e[this.valueName]="",e);return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t},t.prototype.createDomElement=function(e){var t=this;if(this.$editorElm=$(e),this.$editorElm&&"function"==typeof this.$editorElm.appendTo&&this.$editorElm.appendTo(this.args.container),"function"!=typeof this.$editorElm.multipleSelect)this.$editorElm.addClass("form-control");else{var i=this.columnDef.internalColumnEditor?this.columnDef.internalColumnEditor.elementOptions:{};this.editorElmOptions=k({},this.defaultOptions,i),this.$editorElm=this.$editorElm.multipleSelect(this.editorElmOptions),setTimeout(function(){t.$editorElm&&"function"==typeof t.$editorElm.multipleSelect&&t.$editorElm.multipleSelect("open")})}},t.prototype.refresh=function(){"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("refresh")},t}(),Ti=function(e){function t(t){var i=e.call(this,t,!0)||this;return i.args=t,i}return S(t,e),t}(_i),Ci=function(e){function t(t){var i=e.call(this,t,!1)||this;return i.args=t,i}return S(t,e),t}(_i),wi=function(){function t(e){this.args=e,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorParams",{get:function(){return this.columnEditor.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this,t=this.args&&this.args.container,i=this.args&&this.args.item&&this.args.item.id;this._elementRangeInputId="rangeInput_"+this.columnDef.field+"_"+i,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field+"_"+i;var r=this.buildTemplateHtmlString();this.$editorElm=$(r),this.$input=this.$editorElm.children("input"),this.$sliderNumber=this.$editorElm.children("div.input-group-addon.input-group-append").children(),this.$editorElm.appendTo(t).on("mouseup",function(){return e.save()}),this.editorParams.hideSliderNumber||this.$editorElm.on("input change",function(t){e._lastInputEvent=t,(t&&t.target&&t.target.value||"")&&(document.getElementById(e._elementRangeOutputId).innerHTML=t.target.value)})},t.prototype.destroy=function(){this.$editorElm.off("input change mouseup").remove()},t.prototype.focus=function(){this.$editorElm.focus()},t.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.args.grid.getOptions().autoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.cancel=function(){this.$input.val(this.defaultValue),this.args.cancelChanges()},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=e[i||t],this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$sliderNumber.html(this.defaultValue))},t.prototype.serializeValue=function(){return parseInt(this.$input.val(),10)||0},t.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},t.prototype.isValueChanged=function(){var t=this.$input.val(),i=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||i!==e.KeyCode.ENTER)||!(""===t&&null===this.defaultValue)&&t!==this.defaultValue},t.prototype.validate=function(e){var t=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),i=this.columnEditor.required,r=this.columnEditor.minValue,n=this.columnEditor.maxValue,o=this.columnEditor.errorMessage,s={"{{minValue}}":r,"{{maxValue}}":n};return this.validator?this.validator(t,this.args):i&&""===t?{valid:!1,msg:o||Re.VALIDATION_REQUIRED_FIELD}:r!==undefined&&(t<r||t>n)?{valid:!1,msg:o||Re.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return s[e]})}:{valid:!0,msg:null}},t.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.columnEditor&&this.columnEditor.title||"",i=this.columnEditor.hasOwnProperty("minValue")?this.columnEditor.minValue:0,r=this.columnEditor.hasOwnProperty("maxValue")?this.columnEditor.maxValue:100,n=this.editorParams.hasOwnProperty("sliderStartValue")?this.editorParams.sliderStartValue:i,o=this.columnEditor.hasOwnProperty("valueStep")?this.columnEditor.valueStep:1;return this.editorParams.hideSliderNumber?'\n      <div class="slider-editor">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          title="'+t+'"\n          defaultValue="'+n+'" min="'+i+'" max="'+r+'" step="'+o+'"\n          class="form-control slider-editor-input editor-'+e+' range" />\n      </div>':'\n      <div class="input-group slider-editor">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          title="'+t+'"\n          defaultValue="'+n+'" min="'+i+'" max="'+r+'" step="'+o+'"\n          class="form-control slider-editor-input editor-'+e+' range" />\n        <div class="input-group-addon input-group-append slider-value"><span class="input-group-text" id="'+this._elementRangeOutputId+'">'+n+"</span></div>\n      </div>"},t}(),Di=function(){function t(e){this.args=e,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this,i=this.columnDef&&this.columnDef.id,r=this.columnEditor&&this.columnEditor.placeholder||"",n=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="text" role="presentation"  autocomplete="off" class="editor-text editor-'+i+'" placeholder="'+r+'" title="'+n+'" />').appendTo(this.args.container).on("keydown.nav",function(i){t._lastInputEvent=i,i.keyCode!==e.KeyCode.LEFT&&i.keyCode!==e.KeyCode.RIGHT||i.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return t.save()}),setTimeout(function(){t.$input.focus().select()},50)},t.prototype.destroy=function(){this.$input.off("keydown.nav focusout").remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.getValue=function(){return this.$input.val()},t.prototype.setValue=function(e){this.$input.val(e)},t.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=e[i||t]||"",this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select())},t.prototype.serializeValue=function(){return this.$input.val()},t.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},t.prototype.isValueChanged=function(){var t=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||t!==e.KeyCode.ENTER)||!(""===this.$input.val()&&null===this.defaultValue)&&this.$input.val()!==this.defaultValue},t.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),r=this.columnEditor.errorMessage;if(this.validator){var n=this.$input&&this.$input.val&&this.$input.val();return this.validator(n,this.args)}return t&&""===i?{valid:!1,msg:r||Re.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t}(),xi={autoComplete:mi,checkbox:gi,date:vi,float:bi,integer:Si,longText:Oi,multipleSelect:Ti,singleSelect:Ci,slider:wi,text:Di},Ii=o;function Fi(e,t,i,r){var n=i&&"function"==typeof i.getOptions?i.getOptions():{},o=t&&t.params;return o&&o.hasOwnProperty(e)?o[e]:n.formatterOptions&&n.formatterOptions.hasOwnProperty(e)?n.formatterOptions[e]:r}function Ai(e,t){var i=re(e);return function(e,r,n,o,s,a){var l=a&&"function"==typeof a.getOptions?a.getOptions():{},u=l&&l.formatterOptions&&l.formatterOptions.dateSeparator||t,c=Ii(n,i,!1).isValid(),d=n&&c?Ii(n).format(i):n;if(d&&u!==t){var h=new RegExp(t,"ig");d=d.replace(h,u)}return d}}var Pi=function(e,t,i,r,n){var o=r&&r.params||{},s=o.propertyNames,a=o.dataContextProperty;if(a||(a=r&&r.field&&r.field.split(".")[0]),!s||!Array.isArray(s)||!a)throw new Error('Formatters.arrayObjectToCsv requires you to pass an array of "propertyNames" (declared in "params") that you want to pull the data from.\n      For example, if we have an array of user objects that have the property of firstName & lastName then we need to pass in your column definition:: { params: { propertyNames: [\'firtName\'] }}.\n      Optionally, you can also pass the "dataContextProperty" if you wish to run this on another completely different field of the dataContext object.');if(n[a]&&Array.isArray(n[a])&&Array.isArray(n[a])&&n[a].length>0){var l=[];n[a].forEach(function(e){var t=[];s.forEach(function(i){t.push(e[i])}),l.push(t.join(" "))});var u=l.join(", ");return'<span title="'+u+'">'+u+"</span>"}return i},ki=function(e,t,i,r,n){if(i&&Array.isArray(i)&&i.length>0){var o=i.join(", ");return'<span title="'+o+'">'+o+"</span>"}return i},Ni=function(e,t,i,r,n){return i?"<b>"+i+"</b>":""},Ri=function(e,t,i,r,n){return i?"&#x2611;":""},Vi=function(e,t,i,r,n){return ae(i)?'<i class="fa fa-check checkmark-icon" aria-hidden="true"></i>':""},Mi=function(e,t,i,r,n){if(!(i&&r&&r.params&&r.params.collection&&r.params.collection.length))return i;var o=r.params,s=r.params.collection,a=o.customStructure?o.customStructure.label:"label",l=o.customStructure?o.customStructure.value:"value";return Array.isArray(i)?ki(0,0,i.map(function(e){return Z(s,function(t){return t[l]===e})[a]})):Z(s,function(e){return e[l]===i})[a]||""},$i=function(e,t,i,r,n){if(!(i&&r&&r.internalColumnEditor&&r.internalColumnEditor.collection&&r.internalColumnEditor.collection.length))return i;var o=r.internalColumnEditor,s=r.internalColumnEditor.collection,a=o.customStructure?o.customStructure.label:"label",l=o.customStructure?o.customStructure.value:"value";return Array.isArray(i)?s.every(function(e){return"string"==typeof e})?ki(0,0,i.map(function(e){return Z(s,function(t){return t===e})})):ki(0,0,i.map(function(e){return Z(s,function(t){return t[l]===e})[a]})):Z(s,function(e){return e[l]===i})[a]||""},Hi=function(e,t,i,r,n){if(!r)return"";var o=r.params||{},s=o&&o.complexFieldLabel||r.field;if(!s)throw new Error("For the Formatters.complexObject to work properly, you need to tell it which property of the complex object to use.\n      There are 3 ways to provide it:\n      1- via the generic \"params\" with a \"complexFieldLabel\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', params: { complexFieldLabel: 'user.firstName' } }]\n      2- via the generic \"params\" with a \"complexFieldLabel\" and a \"labelKey\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', labelKey: 'firstName' params: { complexFieldLabel: 'user' } }]\n      3- via the field name that includes a dot notation, example: this.columnDefs = [{ id: 'user', field: 'user.firstName'}] ");return r.labelKey&&n.hasOwnProperty(s)?n[s]&&n[s][r.labelKey]:"string"==typeof s&&s.indexOf(".")>0?s.split(".").reduce(function(e,t){return e&&e.hasOwnProperty(t)?e[t]:i},n):i},ji=function(e,t,i,r,n,o){var s=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),a=r.params||{},l=Fi("minDecimal",r,o,2),u=Fi("maxDecimal",r,o,2),c=Fi("displayNegativeNumberWithParentheses",r,o,!1);return(null!==a.minDecimalPlaces&&a.minDecimalPlaces||null!==a.decimalPlaces&&a.decimalPlaces)&&(l=null!==a.minDecimalPlaces&&a.minDecimalPlaces||null!==a.decimalPlaces&&a.decimalPlaces),null!==a.maxDecimalPlaces&&a.maxDecimalPlaces&&(u=null!==a.maxDecimalPlaces&&a.maxDecimalPlaces),s?ee(i,l,u,c):i},Gi=function(e,t,i,r,n){return'<i class="fa fa-trash pointer delete-icon" aria-hidden="true"></i>'},Li=function(e,t,i,r,n,o){var s=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),a=Fi("minDecimal",r,o,2),l=Fi("maxDecimal",r,o,4),u=Fi("displayNegativeNumberWithParentheses",r,o,!1);return s?'<span style="color:'+(i>=0?"green":"red")+'; font-weight:bold;">'+ee(i,a,l,u,"$")+"</span>":i},Bi=function(e,t,i,r,n,o){var s=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),a=Fi("minDecimal",r,o,2),l=Fi("maxDecimal",r,o,4),u=Fi("displayNegativeNumberWithParentheses",r,o,!1);return s?'<span style="color:'+(i>=0?"green":"red")+'">'+ee(i,a,l,u,"$")+"</span>":i},Ui=function(e,t,i,r,n,o){var s=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),a=Fi("minDecimal",r,o,2),l=Fi("maxDecimal",r,o,4),u=Fi("displayNegativeNumberWithParentheses",r,o,!1);return s?ee(i,a,l,u,"$"):i},zi=function(e,t,i,r,n){return'<i class="fa fa-pencil pointer edit-icon" aria-hidden="true"></i>'},Qi=d,Wi=function(e,t,i,r,n){var o=r&&r.params||{},s=o.hyperlinkText?o.hyperlinkText:i;s=Qi.sanitize(s||"");var a=o.hyperlinkUrl?o.hyperlinkUrl:i,l=(a=Qi.sanitize(a||"")).match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i);return l&&Array.isArray(l)&&l.length>0?'<a href="'+l[0]+'">'+s+"</a>":i},qi=function(e,t,i,r,n){var o=r&&r.params||{},s=o.icon||o.formatterIcon;if(!s)throw new Error('You must provide the "icon" or "formatterIcon" via the generic "params" options (e.g.: { formatter: Formatters.icon, params: { formatterIcon: \'fa fa-search\' }}');return'<i class="'+s+'" aria-hidden="true"></i>'},Yi=function(e,t,i,r,n){return'<i class="fa fa-info-circle pointer info-icon" aria-hidden="true"></i>'},Ki=function(e,t,i,r,n){return i?"<i>"+i+"</i>":""},Xi=function(e,t,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toLowerCase():""},Zi=function(e,t,i,r,n){var o=(r.params||{}).mask;if(!o)throw new Error('You must provide a "mask" via the generic "params" options (e.g.: { formatter: Formatters.mask, params: { mask: \'000-000\' }}');if(i){var s=0,a=i.toString();return o.replace(/[09A]/gi,function(){return a[s++]||""})}return i},Ji=function(e,t,i,r,n,o){var s,a,l=r.params||{};if(!l.formatters||!Array.isArray(l.formatters))throw new Error('The multiple formatter requires the "formatters" to be provided as a column params.\n    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }');var u=l.formatters,c=i;try{for(var d=H(u),h=d.next();!h.done;h=d.next()){c=(0,h.value)(e,t,c,r,n,o)}}catch(p){s={error:p}}finally{try{h&&!h.done&&(a=d["return"])&&a.call(d)}finally{if(s)throw s.error}}return c},er=function(e,t,i,r,n,o){var s=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),a=Fi("minDecimal",r,o),l=Fi("maxDecimal",r,o),u=Fi("displayNegativeNumberWithParentheses",r,o,!1);return s?ee(100*i,a,l,u,"","%"):i},tr=function(e,t,i,r,n){if(!(null!==i&&i!==undefined&&""!==i&&!isNaN(+i)))return"";var o=parseFloat(i);return o>100&&(o=100),'<span class="percent-complete-bar" style="background:'+(o<30?"red":o<70?"silver":"green")+"; width:"+o+'%"></span>'},ir=function(e,t,i,r,n,o){var s=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),a=Fi("minDecimal",r,o),l=Fi("maxDecimal",r,o),u=Fi("displayNegativeNumberWithParentheses",r,o,!1);if(s){var c=i<50?"red":"green",d=ee(i,a,l,u,"","%");return"<span style='color:"+c+"'>"+(i>100?"100%":d)+"</span>"}return i},rr=function(e,t,i,r,n,o){var s=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),a=Fi("minDecimal",r,o),l=Fi("maxDecimal",r,o),u=Fi("displayNegativeNumberWithParentheses",r,o,!1);return s?ee(i,a,l,u,"","%"):i},nr=function(e,t,i,r,n){if(!(null!==i&&i!==undefined&&""!==i&&!isNaN(+i)))return"";var o="",s=parseFloat(i);return s>100&&(s=100),('<div class="progress">\n    <div class="progress-bar progress-bar-'+(o=s<30?"danger":s<70?"warning":"success")+" bg-"+o+'" role="progressbar" aria-valuenow="'+s+'" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: '+s+'%;">\n    '+s+"%\n    </div>\n  </div>").replace(/\s{2,}/g," ").trim()},or=function(e,t,i,r,n,o){var s=(o&&"function"==typeof o.getOptions?o.getOptions():{}).i18n||r&&r.params&&r.params.i18n;if(!s||"function"!=typeof s.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "i18n".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }');return i!==undefined&&null!==i&&"string"!=typeof i&&(i+=""),i?s.instant(i):""},sr=function(e,t,i,r,n,o){var s=(o&&"function"==typeof o.getOptions?o.getOptions():{}).i18n||r&&r.params&&r.params.i18n;if(!s||"function"!=typeof s.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "i18n".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }');return i!==undefined&&null!==i&&"string"!=typeof i&&(i+=""),i?s.instant(i.toUpperCase()):""},ar=function(e,t,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toUpperCase():""},lr=function(e,t,i,r,n){return i?"Yes":"No"},ur={arrayObjectToCsv:Pi,arrayToCsv:ki,bold:Ni,checkbox:Ri,checkmark:Vi,complexObject:Hi,collection:Mi,collectionEditor:$i,dateIso:Ai(e.FieldType.dateIso,"-"),dateTimeIso:Ai(e.FieldType.dateTimeIso,"-"),dateTimeShortIso:Ai(e.FieldType.dateTimeShortIso,"-"),dateTimeIsoAmPm:Ai(e.FieldType.dateTimeIsoAmPm,"-"),dateEuro:Ai(e.FieldType.dateEuro,"/"),dateTimeEuro:Ai(e.FieldType.dateTimeEuro,"/"),dateTimeShortEuro:Ai(e.FieldType.dateTimeShortEuro,"/"),dateTimeEuroAmPm:Ai(e.FieldType.dateTimeEuroAmPm,"/"),dateUs:Ai(e.FieldType.dateUs,"/"),dateTimeUs:Ai(e.FieldType.dateTimeUs,"/"),dateTimeShortUs:Ai(e.FieldType.dateTimeShortUs,"/"),dateTimeUsAmPm:Ai(e.FieldType.dateTimeUsAmPm,"/"),deleteIcon:Gi,decimal:ji,dollar:Ui,dollarColored:Bi,dollarColoredBold:Li,editIcon:zi,hyperlink:Wi,icon:qi,infoIcon:Yi,italic:Ki,lowercase:Xi,mask:Zi,multiple:Ji,percent:er,percentComplete:ir,percentCompleteBar:tr,percentSymbol:rr,progressBar:nr,translate:or,translateBoolean:sr,uppercase:ar,yesNo:lr},cr=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i),u=Fi("maxDecimal",t,i),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);if(null!=n&&!isNaN(+n)){if(n<0){if(n=Math.abs(n),c)return isNaN(l)&&isNaN(u)?s+"("+Math.round(n)+"%)"+a:s+"("+J(n,l,u)+"%)"+a;s+="-"}return isNaN(l)&&isNaN(u)?""+s+Math.round(n)+"%"+a:""+s+J(n,l,u)+"%"+a}return""},dr=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i,2),u=Fi("maxDecimal",t,i,4),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":""+s+ee(n,l,u,c,"$")+a},hr=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i),u=Fi("maxDecimal",t,i),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);if(null!=n&&!isNaN(+n)){if(n<0){if(n=Math.abs(n),c)return isNaN(l)&&isNaN(u)?s+"("+Math.round(n)+")"+a:s+"("+J(n,l,u)+")"+a;s+="-"}return isNaN(l)&&isNaN(u)?""+s+Math.round(n)+a:""+s+J(n,l,u)+a}return""},pr=function(e,t,i){var r=t.field||"",n=e.min&&e.min[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i),u=Fi("maxDecimal",t,i),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":""+s+ee(n,l,u,c)+a},fr=function(e,t,i){var r=t.field||"",n=e.max&&e.max[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i),u=Fi("maxDecimal",t,i),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":""+s+ee(n,l,u,c)+a},mr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i),u=Fi("maxDecimal",t,i),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":'<span style="color:'+(n>=0?"green":"red")+'">'+s+ee(n,l,u,c)+a+"</span>"},gr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i,2),u=Fi("maxDecimal",t,i,4),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":'<span style="color:'+(n>=0?"green":"red")+'; font-weight: bold;">'+s+ee(n,l,u,c,"$")+a+"</span>"},yr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i,2),u=Fi("maxDecimal",t,i,4),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":'<span style="color:'+(n>=0?"green":"red")+'">'+s+ee(n,l,u,c,"$")+a+"</span>"},vr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i,2),u=Fi("maxDecimal",t,i,4),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":"<b>"+s+ee(n,l,u,c,"$")+a+"</b>"},br=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i,2),u=Fi("maxDecimal",t,i,4),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":""+s+ee(n,l,u,c,"$")+a},Sr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i),u=Fi("maxDecimal",t,i),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":""+s+ee(n,l,u,c)+a},Or=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t&&t.params,s=o&&o.groupFormatterPrefix||"",a=o&&o.groupFormatterSuffix||"",l=Fi("minDecimal",t,i),u=Fi("maxDecimal",t,i),c=Fi("displayNegativeNumberWithParentheses",t,i,!1);return null==n||isNaN(+n)?"":"<b>"+s+ee(n,l,u,c)+a+"</b>"},Er={avgTotals:hr,avgTotalsDollar:dr,avgTotalsPercentage:cr,maxTotals:fr,minTotals:pr,sumTotals:Sr,sumTotalsBold:Or,sumTotalsColored:mr,sumTotalsDollar:br,sumTotalsDollarBold:vr,sumTotalsDollarColored:yr,sumTotalsDollarColoredBold:gr},_r=function(){function e(e,i){this.filterService=e,this.gridService=i,this._eventHandler=new Slick.EventHandler,this._isFirstRender=!0,this.onPaginationChanged=new t.EventEmitter,this.dataFrom=1,this.dataTo=1,this.pageCount=0,this.pageNumber=1,this.totalItems=0,this.paginationPageSizes=[25,75,100],this.fromToParams={from:this.dataFrom,to:this.dataTo,totalItems:this.totalItems}}return Object.defineProperty(e.prototype,"gridPaginationOptions",{get:function(){return this._gridPaginationOptions},set:function(e){this._gridPaginationOptions=e,!this._isFirstRender&&e&&e.pagination&&e.pagination.totalItems===this.totalItems||(this.refreshPagination(),this._isFirstRender=!1)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){var e=this;this._gridPaginationOptions=this._gridPaginationOptions,this._gridPaginationOptions&&this._gridPaginationOptions.pagination&&this._gridPaginationOptions.pagination.totalItems===this.totalItems||this.refreshPagination(),this._filterSubcription=this.filterService.onFilterChanged.subscribe(function(){return e.refreshPagination(!0)}),this._filterSubcription=this.filterService.onFilterCleared.subscribe(function(){return e.refreshPagination(!0)}),this.dataView&&(this.gridService.onItemAdded.subscribe(function(t){return e.onItemAddedOrRemoved(t,!0)}),this.gridService.onItemDeleted.subscribe(function(t){return e.onItemAddedOrRemoved(t,!1)}))},e.prototype.ceil=function(e){return Math.ceil(e)},e.prototype.changeToFirstPage=function(e){this.pageNumber=1,this.onPageChanged(e,this.pageNumber)},e.prototype.changeToLastPage=function(e){this.pageNumber=this.pageCount,this.onPageChanged(e,this.pageNumber)},e.prototype.changeToNextPage=function(e){this.pageNumber<this.pageCount&&(this.pageNumber++,this.onPageChanged(e,this.pageNumber))},e.prototype.changeToPreviousPage=function(e){this.pageNumber>0&&(this.pageNumber--,this.onPageChanged(e,this.pageNumber))},e.prototype.changeToCurrentPage=function(e){this.pageNumber=+e.currentTarget.value,this.pageNumber<1?this.pageNumber=1:this.pageNumber>this.pageCount&&(this.pageNumber=this.pageCount),this.onPageChanged(e,this.pageNumber)},e.prototype.dispose=function(){this.onPaginationChanged.unsubscribe(),this._filterSubcription&&this._filterSubcription.unsubscribe(),this._eventHandler.unsubscribeAll()},e.prototype.onChangeItemPerPage=function(e){var t=+e.target.value;this.pageCount=Math.ceil(this.totalItems/t),this.pageNumber=this.totalItems>0?1:0,this.itemsPerPage=t,this.onPageChanged(e,this.pageNumber)},e.prototype.refreshPagination=function(e){void 0===e&&(e=!1);var t=this._gridPaginationOptions.backendServiceApi;if(!t||!t.service||!t.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(this._gridPaginationOptions&&this._gridPaginationOptions.pagination){var i=this._gridPaginationOptions.pagination;this.itemsPerPage||(this.itemsPerPage=+(t&&t.options&&t.options.paginationOptions&&t.options.paginationOptions.first?t.options.paginationOptions.first:this._gridPaginationOptions.pagination.pageSize)),(e||this.totalItems!==i.totalItems)&&(this._isFirstRender&&i.pageNumber&&i.pageNumber>1?this.pageNumber=i.pageNumber||1:this.pageNumber=1,1===this.pageNumber&&t.service.resetPaginationOptions()),this.paginationPageSizes=this._gridPaginationOptions.pagination.pageSizes,this.totalItems=this._gridPaginationOptions.pagination.totalItems,this.recalculateFromToIndexes()}this.pageCount=Math.ceil(this.totalItems/this.itemsPerPage)},e.prototype.onPageChanged=function(e,t){var i=this;this.recalculateFromToIndexes();var n=this._gridPaginationOptions.backendServiceApi;if(!n||!n.service||!n.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(this.dataTo>this.totalItems?this.dataTo=this.totalItems:this.totalItems<this.itemsPerPage&&(this.dataTo=this.totalItems),!n)throw new Error('Pagination with a backend service requires "BackendServiceApi" to be defined in your grid options');try{var o=+this.itemsPerPage,s=new Date;n.preProcess&&n.preProcess();var a=n.service.processOnPaginationChanged(e,{newPage:t,pageSize:o}),l=n.process(a);l instanceof Promise&&l.then?l.then(function(e){return B(s,e,n,i._gridPaginationOptions)}):r.isObservable(l)&&l.subscribe(function(e){return B(s,e,n,i._gridPaginationOptions)},function(e){return U(e,n)})}catch(u){U(u,n)}this.onPaginationChanged.emit({pageNumber:this.pageNumber,pageSizes:this.paginationPageSizes,pageSize:this.itemsPerPage,totalItems:this.totalItems})},e.prototype.recalculateFromToIndexes=function(){0===this.totalItems?(this.dataFrom=0,this.dataTo=0,this.pageNumber=0):(this.dataFrom=this.pageNumber*this.itemsPerPage-this.itemsPerPage+1,this.dataTo=this.totalItems<this.itemsPerPage?this.totalItems:this.pageNumber*this.itemsPerPage)},e.prototype.onItemAddedOrRemoved=function(e,t){if(void 0===t&&(t=!0),null!==e){var i=this.dataTo,r=Array.isArray(e)?e.length:1,n=t?+r:-r;this.totalItems+=n,this.recalculateFromToIndexes(),this.dataTo=i+n}},N([t.Output(),R("design:type",Object)],e.prototype,"onPaginationChanged",void 0),N([t.Input(),R("design:type",Object)],e.prototype,"dataView",void 0),N([t.Input(),R("design:type",Object),R("design:paramtypes",[Object])],e.prototype,"gridPaginationOptions",null),N([t.Input(),R("design:type",Object)],e.prototype,"grid",void 0),e=N([t.Component({selector:"slick-pagination",template:'<div class="slick-pagination">\n    <div class="slick-pagination-nav">\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="(pageNumber === 1 || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-first fa fa-angle-double-left" aria-label="First" (click)="changeToFirstPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="(pageNumber === 1 || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-prev fa fa-angle-left" aria-label="Previous" (click)="changeToPreviousPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n\n        <div class="slick-page-number">\n            <span [translate]="\'PAGE\'"></span>\n            <input type="text" class="form-control" [value]="pageNumber" size="1" [readOnly]="totalItems === 0" (change)="changeToCurrentPage($event)">\n            <span [translate]="\'OF\'"></span><span> {{pageCount}}</span>\n        </div>\n\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-next text-center fa fa-lg fa-angle-right" aria-label="Next" (click)="changeToNextPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-end fa fa-lg fa-angle-double-right" aria-label="Last" (click)="changeToLastPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n    </div>\n    <span class="slick-pagination-settings">\n        <select id="items-per-page-label" [value]="itemsPerPage" (change)="onChangeItemPerPage($event)">\n        <option value="{{pageSize}}" *ngFor="let pageSize of paginationPageSizes;">{{pageSize}}</option>\n        </select>\n        <span [translate]="\'ITEMS_PER_PAGE\'"></span>,\n        <span class="slick-pagination-count">\n            <span [translate]="\'FROM_TO_OF_TOTAL_ITEMS\'" [translateParams]="{ from: dataFrom, to: dataTo, totalItems: totalItems }"></span>\n        </span>\n    </span>\n    </div>\n'}),t.Injectable(),R("design:paramtypes",[$t,ai])],e)}(),Tr=function(){function n(e,i,r,n,o,s,a,l,u,c,d,h,p,f){this.elm=e,this.exportService=i,this.extensionService=r,this.extensionUtility=n,this.filterService=o,this.gridService=s,this.gridEventService=a,this.gridStateService=l,this.groupingAndColspanService=u,this.resizer=c,this.sharedService=d,this.sortService=h,this.translate=p,this.forRootConfig=f,this._eventHandler=new Slick.EventHandler,this._hideHeaderRowAfterPageLoad=!1,this.groupingDefinition={},this.showPagination=!1,this.isGridInitialized=!1,this.subscriptions=[],this.onAngularGridCreated=new t.EventEmitter,this.onDataviewCreated=new t.EventEmitter,this.onGridCreated=new t.EventEmitter,this.onGridInitialized=new t.EventEmitter,this.onBeforeGridCreate=new t.EventEmitter,this.onBeforeGridDestroy=new t.EventEmitter,this.onAfterGridDestroyed=new t.EventEmitter,this.onGridStateChanged=new t.EventEmitter}var o,s;return Object.defineProperty(n.prototype,"gridHeight",{set:function(e){this._fixedHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gridWidth",{set:function(e){this._fixedWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnDefinitions",{get:function(){return this._columnDefinitions},set:function(e){this._columnDefinitions=e,this.isGridInitialized&&this.updateColumnDefinitionsList(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataset",{get:function(){return this.dataView.getItems()},set:function(e){this._dataset=e,this.refreshGridData(e)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.onBeforeGridCreate.emit(!0),this.gridOptions&&!this.gridOptions.enableAutoResize&&(this._fixedHeight||this._fixedWidth)&&(this.gridHeightString=this._fixedHeight+"px",this.gridWidthString=this._fixedWidth+"px")},n.prototype.ngOnDestroy=function(){this.onBeforeGridDestroy.emit(this.grid),this.destroy(),this.onAfterGridDestroyed.emit(!0)},n.prototype.destroy=function(e){void 0===e&&(e=!1);var t=this.gridOptions&&this.gridOptions.gridContainerId;this.dataView=undefined,this.gridOptions={},this.extensionService.dispose(),this.filterService.dispose(),this.gridEventService.dispose(),this.gridStateService.dispose(),this.groupingAndColspanService.dispose(),this.resizer.dispose(),this.sortService.dispose(),this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.grid&&this.grid.destroy&&this.grid.destroy(),e&&$(t).empty(),this.subscriptions=pe(this.subscriptions)},n.prototype.ngAfterViewInit=function(){if(this.initialization(),this.isGridInitialized=!0,!this._fixedHeight&&!this.gridOptions.enableAutoResize)throw new Error('[Angular-Slickgrid] requires a "grid-height" or the "enableAutoResize" grid option to be enabled.\n        Without that the grid will seem empty while in fact it just does not have any height define.')},n.prototype.initialization=function(){if(this._dataset=this._dataset||[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this.createBackendApiInternalPostProcessCallback(this.gridOptions),this.customDataView||(this.gridOptions.draggableGrouping||this.gridOptions.enableGrouping?(this.extensionUtility.loadExtensionDynamically(e.ExtensionName.groupItemMetaProvider),this.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,this.dataView=new Slick.Data.DataView({groupItemMetadataProvider:this.groupItemMetadataProvider})):this.dataView=new Slick.Data.DataView),this._columnDefinitions=this.swapInternalEditorToSlickGridFactoryEditor(this._columnDefinitions),this.sharedService.allColumns=this._columnDefinitions,this.sharedService.visibleColumns=this._columnDefinitions,this.extensionService.createExtensionsBeforeGridCreation(this._columnDefinitions,this.gridOptions),this.grid=new Slick.Grid("#"+this.gridId,this.customDataView||this.dataView,this._columnDefinitions,this.gridOptions),this.sharedService.dataView=this.dataView,this.sharedService.grid=this.grid,this.extensionService.bindDifferentExtensions(),this.attachDifferentHooks(this.grid,this.gridOptions,this.dataView),this.onGridCreated.emit(this.grid),this.grid.init(),!this.customDataView&&this.dataView&&this.dataView.beginUpdate&&this.dataView.setItems&&this.dataView.endUpdate&&(this.onDataviewCreated.emit(this.dataView),this.dataView.beginUpdate(),this.dataView.setItems(this._dataset,this.gridOptions.datasetIdPropertyName),this.dataView.endUpdate(),this.gridOptions&&this.gridOptions.dataView&&this.gridOptions.dataView.hasOwnProperty("syncGridSelection"))){var t=this.gridOptions.dataView.syncGridSelection;"boolean"==typeof t?this.dataView.syncGridSelection(this.grid,this.gridOptions.dataView.syncGridSelection):this.dataView.syncGridSelection(this.grid,t.preserveHidden,t.preserveHiddenOnSelectionChange)}this._hideHeaderRowAfterPageLoad&&this.showHeaderRow(!1),this.executeAfterDataviewCreated(this.grid,this.gridOptions,this.dataView),this.attachResizeHook(this.grid,this.gridOptions),this.gridOptions.createPreHeaderPanel&&!this.gridOptions.enableDraggableGrouping&&this.groupingAndColspanService.init(this.grid,this.dataView),this.gridService.init(this.grid,this.dataView),this.gridOptions.enableTranslate&&this.extensionService.translateColumnHeaders(),this.gridOptions.enableExport&&this.exportService.init(this.grid,this.dataView),this.onGridInitialized.emit(this.grid),this.gridOptions&&this.gridOptions.backendServiceApi&&this.attachBackendCallbackFunctions(this.gridOptions),this.gridStateService.init(this.grid,this.extensionService,this.filterService,this.sortService),this.onAngularGridCreated.emit({dataView:this.dataView,slickGrid:this.grid,destroy:this.destroy.bind(this),backendService:this.gridOptions&&this.gridOptions.backendServiceApi&&this.gridOptions.backendServiceApi.service,exportService:this.exportService,extensionService:this.extensionService,filterService:this.filterService,gridEventService:this.gridEventService,gridStateService:this.gridStateService,gridService:this.gridService,groupingService:this.groupingAndColspanService,resizerService:this.resizer,sortService:this.sortService,pluginService:this.extensionService})},n.prototype.commitEdit=function(e){var t=this;if(this.grid.getOptions().autoCommitEdit){var i=this.grid.getActiveCellNode();setTimeout(function(){i&&i.contains(e)&&t.grid.getEditorLock().isActive()&&t.grid.getEditorLock().commitCurrentEdit()})}},n.prototype.createBackendApiInternalPostProcessCallback=function(e){var t=this;if(e&&e.backendServiceApi){var i=e.backendServiceApi;i&&i.service&&i.service instanceof Xt&&(i.internalPostProcess=function(e){var r=i&&i.service&&"function"==typeof i.service.getDatasetName?i.service.getDatasetName():"";e&&e.data&&e.data[r]?(t._dataset=e.data[r].nodes,t.refreshGridData(t._dataset,e.data[r].totalCount)):t._dataset=[]})}},n.prototype.attachDifferentHooks=function(e,t,i){var r=this;if(this.subscriptions.push(this.translate.onLangChange.subscribe(function(e){t.enableTranslate&&(r.extensionService.translateColumnHeaders(),r.extensionService.translateColumnPicker(),r.extensionService.translateGridMenu(),r.extensionService.translateHeaderMenu())})),t.presets&&Array.isArray(t.presets.columns)&&t.presets.columns.length>0){var n=this.gridStateService.getAssociatedGridColumns(e,t.presets.columns);if(n&&Array.isArray(n)&&n.length>0){if(t.enableCheckboxSelector){var o=Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0?this._columnDefinitions[0]:null;o&&"_checkbox_selector"===o.id&&"_checkbox_selector"!==n[0].id&&n.unshift(o)}e.setColumns(n)}}if(t.enableSorting&&!this.customDataView&&(t.backendServiceApi?this.sortService.attachBackendOnSort(e,i):this.sortService.attachLocalOnSort(e,i)),t.enableFiltering&&!this.customDataView&&(this.filterService.init(e),t.presets&&Array.isArray(t.presets.filters)&&t.presets.filters.length>0&&this.filterService.populateColumnFilterSearchTerms(),t.backendServiceApi?this.filterService.attachBackendOnFilter(e,this.dataView):this.filterService.attachLocalOnFilter(e,this.dataView)),t.backendServiceApi){var s=t.backendServiceApi;s&&s.service&&s.service.init&&s.service.init(s.options,t.pagination,this.grid)}var a=function(t){e.hasOwnProperty(t)&&t.startsWith("on")&&l._eventHandler.subscribe(e[t],function(e,i){return r.dispatchCustomEvent("sg"+ce(t),{eventData:e,args:i})})},l=this;for(var u in e)a(u);var c=function(e){i.hasOwnProperty(e)&&e.startsWith("on")&&d._eventHandler.subscribe(i[e],function(t,i){return r.dispatchCustomEvent("sg"+ce(e),{eventData:t,args:i})})},d=this;for(var u in i)c(u);this.subscriptions.push(this.gridStateService.onGridStateChanged.subscribe(function(e){r.onGridStateChanged.emit(e)})),this.gridEventService.attachOnCellChange(e,i),this.gridEventService.attachOnClick(e,i),i&&e&&(this._eventHandler.subscribe(i.onRowCountChanged,function(t,i){e.invalidate()}),t&&t.enableFiltering&&!t.enableRowDetailView&&this._eventHandler.subscribe(i.onRowsChanged,function(t,i){i&&i.rows&&Array.isArray(i.rows)&&(i.rows.forEach(function(t){return e.updateRow(t)}),e.render())})),t.colspanCallback&&(this.dataView.getItemMetadata=function(e){var i=r.dataView.getItem(e);return t.colspanCallback(i)})},n.prototype.attachBackendCallbackFunctions=function(e){var t=this,i=e.backendServiceApi,n=i&&i.service&&i.service.options?i.service.options:{},o=!!n&&(!n||!n.hasOwnProperty("executeProcessCommandOnInit")||n.executeProcessCommandOnInit);if(i){var s=i.service;if(e&&e.presets)s&&s.updateFilters&&Array.isArray(e.presets.filters)&&e.presets.filters.length>0&&s.updateFilters(e.presets.filters,!0),s&&s.updateSorters&&Array.isArray(e.presets.sorters)&&e.presets.sorters.length>0&&s.updateSorters(undefined,e.presets.sorters),s&&s.updatePagination&&e.presets.pagination&&s.updatePagination(e.presets.pagination.pageNumber,e.presets.pagination.pageSize);else{var a=this.filterService.getColumnFilters();a&&s&&s.updateFilters&&s.updateFilters(a,!1)}}if(i&&i.service&&(i.onInit||o)){var l="function"==typeof i.service.buildQuery?i.service.buildQuery():"",u=o?i.process(l):i.onInit(l);setTimeout(function(){var e=new Date;i.preProcess&&i.preProcess();try{u instanceof Promise&&u.then?u.then(function(r){return B(e,r,i,t.gridOptions)}):r.isObservable(u)&&u.subscribe(function(r){return B(e,r,i,t.gridOptions)},function(e){return U(e,i)})}catch(n){U(n,i)}})}},n.prototype.attachResizeHook=function(e,t){e&&t.autoFitColumnsOnFirstLoad&&t.enableAutoSizeColumns&&(e.autosizeColumns(),this.resizer.compensateHorizontalScroll(this.grid,this.gridOptions)),this._fixedHeight||this._fixedWidth?this.resizer.init(e,{height:this._fixedHeight,width:this._fixedWidth}):this.resizer.init(e),t.enableAutoResize&&(this.resizer.bindAutoResizeDataGrid(),e&&t.autoFitColumnsOnFirstLoad&&t.enableAutoSizeColumns&&e.autosizeColumns())},n.prototype.executeAfterDataviewCreated=function(e,t,i){t.enableSorting&&t.presets&&Array.isArray(t.presets.sorters)&&t.presets.sorters.length>0&&this.sortService.loadLocalPresets(e,i)},n.prototype.mergeGridOptions=function(e){e.gridId=this.gridId,e.gridContainerId="slickGridContainer-"+this.gridId;var t=$.extend(!0,{},Nt,this.forRootConfig,e);return e&&e.backendServiceApi&&e.pagination&&Array.isArray(e.pagination.pageSizes)&&e.pagination.pageSizes.length>0&&(t.pagination.pageSizes=e.pagination.pageSizes),this._hideHeaderRowAfterPageLoad=!1===t.showHeaderRow,t.enableFiltering&&!t.showHeaderRow&&(t.showHeaderRow=t.enableFiltering),t},n.prototype.paginationChanged=function(t){(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this.gridService.setSelectedRows([]),this.gridStateService.onGridStateChanged.next({change:{newValues:t,type:e.GridStateType.pagination},gridState:this.gridStateService.getCurrentGridState()})},n.prototype.refreshGridData=function(e,t){if(Array.isArray(e)&&this.grid&&this.dataView&&"function"==typeof this.dataView.setItems&&(this.dataView.setItems(e,this.gridOptions.datasetIdPropertyName),this.gridOptions.backendServiceApi||this.dataView.reSort(),e&&(this.grid.invalidate(),this.grid.render()),this.gridOptions.backendServiceApi&&(this.showPagination=!(!this.gridOptions.backendServiceApi||this.gridOptions.enablePagination!==undefined)||this.gridOptions.enablePagination||!1,this.gridOptions.pagination||(this.gridOptions.pagination=this.gridOptions.pagination?this.gridOptions.pagination:undefined),this.gridOptions.pagination&&t!==undefined&&(this.gridOptions.pagination.totalItems=t),this.gridOptions.presets&&this.gridOptions.presets.pagination&&this.gridOptions.pagination&&(this.gridOptions.pagination.pageSize=this.gridOptions.presets.pagination.pageSize,this.gridOptions.pagination.pageNumber=this.gridOptions.presets.pagination.pageNumber),this.gridPaginationOptions=this.mergeGridOptions(this.gridOptions)),this.grid&&this.gridOptions.enableAutoResize)){var i=this.gridOptions.autoResize&&this.gridOptions.autoResize.delay;this.resizer.resizeGrid(i||10)}},n.prototype.updateColumnDefinitionsList=function(e){e=this.swapInternalEditorToSlickGridFactoryEditor(e),this.gridOptions.enableTranslate?this.extensionService.translateColumnHeaders(!1,e):this.extensionService.renderColumnHeaders(e),this.gridOptions&&this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns()},n.prototype.showHeaderRow=function(e){return this.grid.setHeaderRowVisibility(e),e},n.prototype.toggleHeaderRow=function(){var e=!this.grid.getOptions().showHeaderRow;return this.grid.setHeaderRowVisibility(e),e},n.prototype.dispatchCustomEvent=function(e,t,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var n={bubbles:i,cancelable:r};return t&&(n.detail=t),this.elm.nativeElement.dispatchEvent(new CustomEvent(e,n))},n.prototype.loadEditorCollectionAsync=function(e){var t=this,i=e&&e.editor&&e.editor.collectionAsync;i instanceof r.Observable&&this.subscriptions.push(i.subscribe(function(i){return t.updateEditorCollection(e,i)}))},n.prototype.swapInternalEditorToSlickGridFactoryEditor=function(e){var t=this;return e.map(function(e){return e.editor&&e.editor.collectionAsync&&t.loadEditorCollectionAsync(e),k({},e,{editor:e.editor&&e.editor.model,internalColumnEditor:k({},e.editor)})})},n.prototype.updateEditorCollection=function(e,t){e.editor.collection=t;var i=this.grid.getColumns();Array.isArray(i)&&(i.find(function(t){return t.id===e.id}).internalColumnEditor=e.editor)},N([t.Output(),R("design:type",Object)],n.prototype,"onAngularGridCreated",void 0),N([t.Output(),R("design:type",Object)],n.prototype,"onDataviewCreated",void 0),N([t.Output(),R("design:type",Object)],n.prototype,"onGridCreated",void 0),N([t.Output(),R("design:type",Object)],n.prototype,"onGridInitialized",void 0),N([t.Output(),R("design:type",Object)],n.prototype,"onBeforeGridCreate",void 0),N([t.Output(),R("design:type",Object)],n.prototype,"onBeforeGridDestroy",void 0),N([t.Output(),R("design:type",Object)],n.prototype,"onAfterGridDestroyed",void 0),N([t.Output(),R("design:type",Object)],n.prototype,"onGridStateChanged",void 0),N([t.Input(),R("design:type",Object)],n.prototype,"customDataView",void 0),N([t.Input(),R("design:type",String)],n.prototype,"gridId",void 0),N([t.Input(),R("design:type",Object)],n.prototype,"gridOptions",void 0),N([t.Input(),R("design:type",Number),R("design:paramtypes",[Number])],n.prototype,"gridHeight",null),N([t.Input(),R("design:type",Number),R("design:paramtypes",[Number])],n.prototype,"gridWidth",null),N([t.Input(),R("design:type",Array),R("design:paramtypes",[Array])],n.prototype,"columnDefinitions",null),N([t.Input(),R("design:type",Array),R("design:paramtypes",[Array])],n.prototype,"dataset",null),n=N([t.Injectable(),t.Component({selector:"angular-slickgrid",template:'<div id="slickGridContainer-{{gridId}}" class="gridPane" [style.width]="gridWidthString">\r\n    <div attr.id=\'{{gridId}}\' class="slickgrid-container" style="width: 100%" [style.height]="gridHeightString">\r\n    </div>\r\n\r\n    <slick-pagination id="slickPagingContainer-{{gridId}}"\r\n        *ngIf="showPagination"\r\n        (onPaginationChanged)="paginationChanged($event)"\r\n        [dataView]="dataView"\r\n        [gridPaginationOptions]="gridPaginationOptions">\r\n    </slick-pagination>\r\n</div>\r\n',providers:[L,$e,He,je,Ge,Le,qt,Ne,Me,Vt,$t,Xt,ii,jt,ai,ri,li,Gt,Lt,Bt,ui,zt,Qt,Wt,Ve,Ht,Rt]}),(o=13,s=t.Inject("config"),function(e,t){s(e,t,o)}),R("design:paramtypes",[t.ElementRef,Ne,qt,Me,$t,ai,ii,ri,li,ui,Ve,Ht,i.TranslateService,Object])],n)}(),Cr=function(){function e(){}var r;return r=e,e.forRoot=function(e){return void 0===e&&(e={}),{ngModule:r,providers:[{provide:"config",useValue:e},L,ke,Vt,Xt,ti]}},e=r=N([t.NgModule({imports:[v.CommonModule,i.TranslateModule],declarations:[Tr,_r],exports:[Tr,_r],entryComponents:[Tr]})],e)}();e.Aggregators=fi,e.AngularSlickgridComponent=Tr,e.AngularSlickgridModule=Cr,e.AngularUtilService=L,e.AutoTooltipExtension=$e,e.CellExternalCopyManagerExtension=He,e.CheckboxSelectorExtension=je,e.CollectionService=ke,e.ColumnPickerExtension=Ge,e.DraggableGroupingExtension=Le,e.Editors=xi,e.ExportService=Ne,e.ExtensionService=qt,e.ExtensionUtility=Me,e.FilterConditions=mt,e.FilterFactory=Vt,e.FilterService=$t,e.Filters=kt,e.Formatters=ur,e.GraphqlService=Xt,e.GridEventService=ii,e.GridMenuExtension=jt,e.GridOdataService=ti,e.GridService=ai,e.GridStateService=ri,e.GroupItemMetaProviderExtension=Gt,e.GroupTotalFormatters=Er,e.GroupingAndColspanService=li,e.HeaderButtonExtension=Lt,e.HeaderMenuExtension=Bt,e.OdataService=Jt,e.ResizerService=ui,e.RowDetailViewExtension=zt,e.RowMoveManagerExtension=Qt,e.RowSelectionExtension=Wt,e.SharedService=Ve,e.SlickPaginationComponent=_r,e.SlickgridConfig=Rt,e.SortService=Ht,e.Sorters=Ae,e.addToArrayWhenNotExists=Q,e.addWhiteSpaces=W,e.castToPromise=X,e.charArraysEqual=K,e.decimalFormatted=J,e.executeBackendProcessesCallback=B,e.findOrDefault=Z,e.formatNumber=ee,e.getDescendantProperty=te,e.getScrollBarWidth=ie,e.htmlDecode=function(e){var t=DOMParser&&new DOMParser;if(t&&t.parseFromString){var i=t.parseFromString("<!doctype html><body>"+e,"text/html");return i&&i.body&&i.body.textContent}return $("<div/>").html(e).text()},e.htmlEncode=q,e.htmlEntityDecode=Y,e.htmlEntityEncode=function(e){for(var t=[],i=e.length-1;i>=0;i--)t.unshift(["&#",e[i].charCodeAt(),";"].join(""));return t.join("")},e.mapFlatpickrDateFormatWithFieldType=ne,e.mapMomentDateFormatWithFieldType=re,e.mapOperatorByFieldType=se,e.mapOperatorType=oe,e.onBackendError=U,e.parseBoolean=ae,e.parseUtcDate=le,e.sanitizeHtmlToText=ue,e.titleCase=ce,e.toCamelCase=de,e.toKebabCase=function(e){return"string"==typeof e?de(e).replace(/([A-Z])/g,"-$1").toLowerCase():e},e.toSnakeCase=function(e){return"string"==typeof e?de(e).replace(/([A-Z])/g,"_$1").toLowerCase():e},e.uniqueArray=he,e.uniqueObjectArray=function(e,t){var i,r;if(void 0===t&&(t="id"),Array.isArray(e)&&e.length>0){var n=[],o=new Map;try{for(var s=H(e),a=s.next();!a.done;a=s.next()){var l=a.value;o.has(l[t])||(o.set(l[t],!0),n.push({id:l[t],name:l.name}))}}catch(u){i={error:u}}finally{try{a&&!a.done&&(r=s["return"])&&r.call(s)}finally{if(i)throw i.error}}return n}return e},e.unsubscribeAllObservables=pe,e.a=ci,e.b=di,e.ba=pt,e.bb=ze,e.bc=gt,e.bd=vt,e.be=bt,e.bf=St,e.bg=Ot,e.bh=Et,e.bi=_t,e.bj=Tt,e.bk=Ct,e.bl=wt,e.bm=It,e.bn=xt,e.bo=Ft,e.bp=At,e.bq=Pt,e.br=Pi,e.bs=ki,e.bt=Ni,e.bu=Ri,e.bv=Vi,e.bw=Hi,e.bx=Mi,e.by=$i,e.bz=Ai,e.c=hi,e.ca=Gi,e.cb=ji,e.cc=Ui,e.cd=Bi,e.ce=Li,e.cf=zi,e.cg=Wi,e.ch=qi,e.ci=Yi,e.cj=Ki,e.ck=Xi,e.cl=Zi,e.cm=Ji,e.cn=er,e.co=ir,e.cp=tr,e.cq=rr,e.cr=nr,e.cs=or,e.ct=sr,e.cu=ar,e.cv=lr,e.cw=hr,e.cx=dr,e.cy=cr,e.cz=fr,e.d=pi,e.da=pr,e.db=Sr,e.dc=Or,e.dd=mr,e.de=br,e.df=vr,e.dg=yr,e.dh=gr,e.di=_e,e.dj=Oe,e.dk=be,e.dl=ye,e.dm=De,e.dn=Ce,e.do=xe,e.dp=Ie,e.dq=Fe,e.e=mi,e.f=gi,e.g=vi,e.h=bi,e.i=Si,e.j=Oi,e.k=Ti,e.l=_i,e.m=Ci,e.n=wi,e.o=Di,e.p=ft,e.q=Ue,e.r=dt,e.s=qe,e.t=Xe,e.u=Je,e.v=it,e.w=ct,e.x=ot,e.y=lt,e.z=ht,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-slickgrid.umd.min.js.map