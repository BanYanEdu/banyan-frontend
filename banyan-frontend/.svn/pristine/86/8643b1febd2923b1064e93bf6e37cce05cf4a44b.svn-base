{"version":3,"file":"inet-core.js","sources":["ng://inet-core/src/loading-indicator.service.ts","ng://inet-core/src/http-url-encoding-codec.ts","ng://inet-core/src/http-client.service.ts","ng://inet-core/src/core.service.ts","ng://inet-core/src/suggestion.service.ts","ng://inet-core/src/error-message.ts","ng://inet-core/src/infinite-scroller.directive.ts","ng://inet-core/src/new-password.ts","ng://inet-core/src/notification.service.ts","ng://inet-core/src/paging.ts","ng://inet-core/src/notify-params.ts","ng://inet-core/src/response-data.ts","ng://inet-core/src/security.service.ts","ng://inet-core/src/role-access.directive.ts","ng://inet-core/src/ssourl.pipe.ts","ng://inet-core/src/user-profile.service.ts","ng://inet-core/src/user-profile.ts","ng://inet-core/src/user-response-data.ts","ng://inet-core/src/accent.service.ts","ng://inet-core/src/cache-storage.service.ts","ng://inet-core/src/autosize.directive.ts","ng://inet-core/src/avatar.directive.ts","ng://inet-core/src/resource-loader.service.ts","ng://inet-core/src/init-app.ts","ng://inet-core/src/core.module.ts","ng://inet-core/src/websocket/websocket-abstract.ts","ng://inet-core/src/websocket/websocket-jboss.ts","ng://inet-core/src/websocket/websocket-vertx.ts","ng://inet-core/src/websocket/websocket-client.ts","ng://inet-core/src/websocket/websocket-client.service.ts","ng://inet-core/src/utils/HtmlUtils.ts"],"sourcesContent":["import {Injectable, OnDestroy} from '@angular/core';\n@Injectable()\nexport class LoadingIndicatorService implements OnDestroy {\n    static instance: LoadingIndicatorService = null;  // Create a singleton service\n    elementId: string =  'loading-indicator';\n    private static loadingIndicator: LoadingIndicator = null;\n\n    constructor() {\n        return LoadingIndicatorService.instance = LoadingIndicatorService.instance || this;\n    }\n    setElementId(elementId: string){\n        this.elementId = elementId;\n    }\n\n    getElementId (): string {\n        return this.elementId;\n    }\n\n    /**\n     * Get DOM of loading indicator\n     */\n    private getIndicator(): LoadingIndicator {\n        if (LoadingIndicatorService.loadingIndicator && LoadingIndicatorService.loadingIndicator.container) {\n            return LoadingIndicatorService.loadingIndicator;\n        }\n        // If Loading indicator not exist\n        const container = document.getElementById(this.getElementId()) as HTMLElement;\n        let loadingElement: HTMLElement;\n        let message: string;\n        if (container) {\n            const elements = container.getElementsByTagName('span');\n            if (elements && elements.length > 0) {\n                loadingElement = container.getElementsByTagName('span')[0] as HTMLElement;\n                if (loadingElement && loadingElement.innerText) {\n                    message = loadingElement.innerText;\n                }\n            }\n        }\n        // cache Loading indicator\n        LoadingIndicatorService.loadingIndicator = new LoadingIndicator(container, loadingElement, message);\n        return LoadingIndicatorService.loadingIndicator;\n    }\n\n    private getLoadingIndicator(): Promise<LoadingIndicator> {\n        return new Promise((resolve, reject) => {\n            setTimeout(() => resolve(this.getIndicator()));\n        });\n    }\n\n    showLoading(message?: string) {\n        this.getLoadingIndicator().then(loadingIndicator => {\n            if (loadingIndicator && loadingIndicator.container) {\n                if (loadingIndicator.element) {\n                    loadingIndicator.element.innerText = message || loadingIndicator.message || loadingIndicator.container.title;\n                }\n                loadingIndicator.container.style.display = 'block';\n            }\n        });\n    }\n\n    hideLoading() {\n        this.getLoadingIndicator().then(loadingIndicator => {\n            if(loadingIndicator && loadingIndicator.container) {\n                loadingIndicator.container.style.display = 'none';\n            }\n        });\n    }\n\n    complete() {\n        this.hideLoading();\n    }\n\n    ngOnDestroy() {\n        this.complete();\n    }\n}\n\nexport class LoadingIndicator {\n    container: HTMLElement;\n    element: HTMLElement;\n    message: string;\n\n    constructor(container: HTMLElement, el: HTMLElement, msg: string = '') {\n        this.container = container;\n        this.element = el;\n        this.message = msg;\n    }\n}\n","/**\n * Copyright (c) 2019 by Vy Nguyen (ntvy@inetcloud.vn)\n *\n * Created by ntvy on 14:21 28/02/2019\n *\n */\nimport {HttpParameterCodec} from \"@angular/common/http\";\nexport class HttpUrlEncodingCodec implements HttpParameterCodec {\n    encodeKey(k: string): string { return standardEncoding(k); }\n    encodeValue(v: string): string { return standardEncoding(v); }\n    decodeKey(k: string): string { return decodeURIComponent(k); }\n    decodeValue(v: string) { return decodeURIComponent(v); }\n}\nfunction standardEncoding(v: string): string {\n    return encodeURIComponent(v);\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHandler, HttpHeaders, HttpParams} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {LoadingIndicatorService} from \"./loading-indicator.service\";\nimport {HttpUrlEncodingCodec} from \"./http-url-encoding-codec\";\n\n@Injectable()\nexport class HttpClientService extends HttpClient {\n    private headers = new HttpHeaders({'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'});\n\n    constructor(handler: HttpHandler, private loadingService: LoadingIndicatorService) {\n        super(handler);\n    }\n\n    convertToHttpParams(obj: any): HttpParams {\n        if (!obj) {\n            return null;\n        }\n        return Object.getOwnPropertyNames(obj).reduce((p, key) => p.set(key, obj[key] == undefined ? '' : obj[key]), new HttpParams({ encoder: new HttpUrlEncodingCodec()}));\n    }\n\n    getJSON(url: string, body?: any | null): Observable<any> {\n        return this.get(url, {params: this.convertToHttpParams(body), headers: this.headers});\n    }\n\n    postJSON(url: string, body?: any | null): Observable<any> {\n        return this.post(url, this.convertToHttpParams(body), {headers: this.headers});\n    }\n\n    putJSON(url: string, body?: any | null): Observable<any> {\n        return this.put(url, this.convertToHttpParams(body), {headers: this.headers});\n    }\n\n    deleteJSON(url: string, body?: any | null): Observable<any> {\n        return this.delete(url, {params: this.convertToHttpParams(body), headers: this.headers});\n    }\n\n    convertToFormData(obj: any): FormData {\n        //console.log('[convertToFormData]', obj);\n        let formData = new FormData();\n        if (!obj) {\n            return formData;\n        }\n        Object.keys(obj).forEach(k => {\n            //console.log('[key]', k , '=', obj[k]==undefined ? '' : obj[k]);\n            formData.append(k, obj[k] == undefined ? '' : obj[k]);\n        });\n        //console.log('[formData]', formData);\n        return formData;\n    }\n\n    downloadFile(url: string, obj?: any) {\n        if (!obj) {\n            return;\n        }\n        let form = document.createElement('form');\n        form.method = 'POST';\n        form.action = url;\n        form.enctype = 'multipart/form-data';\n\n        Object.keys(obj).forEach(k => {\n            //console.log('[key]', k , '=', obj[k]==undefined ? '' : obj[k]);\n            let input = document.createElement(\"input\");\n            input.name = k;\n            input.value = obj[k] == undefined ? '' : obj[k];\n            input.type = 'hidden';\n            form.appendChild(input);\n        });\n        document.body.appendChild(form);\n        form.submit();\n        document.body.removeChild(form);\n    }\n\n    showLoading(message?: string) {\n        this.loadingService.showLoading(message);\n    }\n\n    hideLoading() {\n        this.loadingService.hideLoading()\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpErrorResponse} from '@angular/common/http';\nimport {Observable, of} from 'rxjs';\nimport {HttpClientService} from './http-client.service';\nimport {map, shareReplay, tap} from 'rxjs/operators';\n\ndeclare let iNet: any;\ndeclare let $: any;\n\n@Injectable()\nexport class CoreService {\n    static instance: CoreService = null;  // Create a singleton service\n    private static environment = {production: false};\n    private $appCache: Observable<Object>;\n    private applications: Array<any>;\n\n    constructor(private http: HttpClientService) {\n        return CoreService.instance = CoreService.instance || this;\n    }\n\n    logout() {\n        this.http.post(iNet.getPUrl('system/logout'), {'username': iNet.username}).subscribe(\n            (data: LogoutData) => {\n                const iFrame = document.createElement('iframe');\n                iFrame.setAttribute('src', data.uuid);\n                iFrame.addEventListener('load', function () {\n                    location.reload();\n                });\n                document.body.appendChild(iFrame);\n            }, (err: HttpErrorResponse) => {\n            }\n        );\n    }\n\n    /*\n    * Gets the avatar URL with the username\n    * @deprecated Use UserProfileService.getAvatarUrlByUsername() instead\n    */\n    getAvatar(usercode: string, thumbnail?: number): string {\n        thumbnail = thumbnail || 50;\n        return iNet.getPUrl('system/userprofile/photo') +\n            `?usercode=${usercode}&thumbnail=${thumbnail}`;\n    }\n\n    isExternalUser(): boolean {\n        return (iNet.externalUser == 'true');\n    }\n\n    isCommunity(): boolean {\n        return (this.isExternalUser() || iNet.firmPrefix == 'smartcloud' || iNet.firmPrefix == 'community');\n    }\n\n    getOrg(): Observable<Object> {\n        return this.http.get(iNet.getPUrl('plugin/organization/list'))\n            .pipe(map((res: CustomResponse) => res.elements));\n    }\n\n    searchOrgan(params: any = {}): Observable<Object> {\n        return this.http.postJSON(iNet.getPUrl('plugin/organization/search'), params)\n            .pipe(map((res: CustomResponse) => res.elements));\n    }\n\n    getSystemApplication(): Observable<Object> {\n        if (this.applications) {\n            return of(this.applications);\n        }\n        if (!this.$appCache) {\n            this.$appCache = this.http.postJSON(iNet.getPUrl('system/application/list'))\n                .pipe(tap((res: CustomResponse) => this.applications = res.elements))\n                .pipe(map((res: CustomResponse) => res.elements))\n                .pipe(shareReplay(1));\n        }\n        return this.$appCache;\n    }\n\n    searchFirmAccount(params, callback: Function) {\n        this.http.postJSON(iNet.getPUrl('plugin/firmaccount/list'), params).subscribe(\n            (data) => {\n                callback(data);\n            },\n            (err) => {\n                callback(null, err);\n            }\n        );\n    }\n\n    updateLanguage(lang: string, callback?: Function) {\n        this.http.postJSON(iNet.getPUrl('system/userprofile/languageupdate'), {intl: lang}).subscribe(\n            (data) => {\n                if (callback) {\n                    callback(lang);\n                }\n            }, (err) => {\n                if (callback) {\n                    callback(lang);\n                }\n            }\n        );\n    }\n\n    /**\n     * Get the Image URL for the current app\n     * @param fileName - the file name\n     */\n    getImageUrl(fileName: string): string {\n        if (!fileName) {\n            return '';\n        }\n        if (fileName.indexOf('/') === 0) {\n            return this.getAssetsPath() + fileName;\n        }\n        return `${this.getAssetsPath()}/${fileName}`;\n    }\n\n    /**\n     * Build the file URL for the file server request\n     * @param fileName - the given file name\n     */\n    getFileUrl(fileName: string): string {\n        if (!fileName) {\n            return '';\n        }\n        if (fileName.indexOf('/') === 0) {\n            return this.getFileServerPath() + fileName;\n        }\n        return `${this.getFileServerPath()}/${fileName}`;\n    }\n\n    getSsoRedirect(data: SsoRedirectData): string {\n        return iNet.getPUrl('ssorequest/redirect') + '?' + $.param(data);\n    }\n\n    convergePlugins(): Observable<any> {\n        return this.convergeSearch({converge: 'plugins'});\n    }\n\n    convergeSearch(params): Observable<any> {\n        return this.http.postJSON(iNet.getPUrl('converge/search'), params);\n    }\n\n    setEnvironment(v: any = {production: false}) {\n        CoreService.environment = v;\n    }\n\n    getEnvironment(): any {\n        return CoreService.environment;\n    }\n\n    private getPath(path: string = ''): string {\n        const lastIndex = path.lastIndexOf('/');\n        if (lastIndex === path.length - 1) {\n            return path.substring(0, lastIndex);\n        }\n        return path;\n    }\n\n    /**\n     * Gets File server path\n     */\n    getFileServerPath(): string {\n        return this.getPath(iNet.fileServer);\n    }\n\n    /**\n     * Gets assets path of current app\n     */\n    getAssetsPath(): string {\n        return this.getPath(iNet.imgFolder);\n    }\n}\n\nexport interface LogoutData {\n    uuid: string;\n}\n\ninterface CustomResponse extends Response {\n    elements: any[];\n}\n\nexport interface SsoRedirectData {\n    url: string;\n    application: string;\n    redirect?: boolean;\n}\n\nexport interface PathRedirectData {\n    path: string;\n    application: string;\n    organId?: string;\n    firmPrefix?: string;\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClientService} from './http-client.service';\nimport {Subscription} from 'rxjs';\n\ndeclare let iNet: any;\n\n@Injectable()\nexport class SuggestionService {\n    static instance: SuggestionService = null;  // Create a singleton service\n\n    constructor(private http: HttpClientService) {\n        return SuggestionService.instance = SuggestionService.instance || this;\n    }\n\n    saveSuggestion(params: SuggestionParamData, callback?: Function): Subscription {\n        if (!params.keyword) {\n            return;\n        }\n        return this.http.postJSON(iNet.getPUrl('system/suggestion/update'), params).subscribe(\n            (data) => {\n                if (callback) {\n                    callback(data);\n                }\n            },\n            (err) => {\n                if (callback) {\n                    callback(null, err);\n                }\n            }\n        );\n    }\n\n    loadSuggestion(params: SuggestionParamData, callback: Function): Subscription {\n        return this.http.postJSON(iNet.getPUrl('system/suggestion/hint'), params).subscribe(\n            (data: SuggestionResponse) => {\n                callback(data && data.items || []);\n            },\n            err => {\n                callback([], err);\n            }\n        );\n    }\n}\nexport interface SuggestionParamData {\n    content: string;\n    keyword: string;\n}\n\nexport interface SuggestionResponse {\n    items: SuggestionItem[];\n    total: number;\n}\n\nexport interface SuggestionItem {\n    content: string;\n    keyword: string;\n    ownercode: string;\n    usage: number;\n    uuid: string;\n}\n","export const ErrorMessage = {\n  CLIENT: 'Client-side error occurred',\n  SERVER:'Server-side error occurred',\n  TYPE: 'ERROR'\n};","import { Directive, AfterViewInit, ElementRef, Input } from '@angular/core';\nimport {fromEvent} from \"rxjs\";\n\ninterface ScrollPosition {\n  sH: number;\n  sT: number;\n  cH: number;\n}\n\nconst DEFAULT_SCROLL_POSITION: ScrollPosition = {\n  sH: 0,\n  sT: 0,\n  cH: 0\n};\n\n@Directive({\n  selector: '[appInfiniteScroller]'\n})\nexport class InfiniteScrollerDirective implements AfterViewInit {\n\n  private scrollEvent$;\n  private userScrolledDown$;\n  private requestOnScroll$;\n\n  @Input()\n  scrollCallback;\n\n  @Input()\n  immediateCallback;\n\n  @Input()\n  scrollPercent = 70;\n\n  @Input()\n  isSubmit = false;\n\n  constructor(private elm: ElementRef) { }\n\n  ngAfterViewInit() {\n    this.registerScrollEvent();\n    this.streamScrollEvents();\n    this.requestCallbackOnScroll();\n\n  }\n\n  private registerScrollEvent() {\n\n    this.scrollEvent$ = fromEvent(this.elm.nativeElement, 'scroll');\n\n  }\n\n  private streamScrollEvents() {\n    this.userScrolledDown$ = this.scrollEvent$\n      .map((e: any): ScrollPosition => ({\n        sH: e.target.scrollHeight,\n        sT: e.target.scrollTop,\n        cH: e.target.clientHeight\n      }))\n      .pairwise()\n      .filter(positions => this.isUserScrollingDown(positions) && this.isScrollExpectedPercent(positions[1]))\n  }\n\n  private requestCallbackOnScroll() {\n    this.requestOnScroll$ = this.userScrolledDown$;\n\n    if (this.immediateCallback) {\n      this.requestOnScroll$ = this.requestOnScroll$\n        .startWith([DEFAULT_SCROLL_POSITION, DEFAULT_SCROLL_POSITION]);\n    }\n\n    this.requestOnScroll$\n      .exhaustMap(() => {\n        return this.scrollCallback();\n      })\n      .subscribe((data) => { console.log(data) }, (err) => console.log(err));\n\n  }\n\n  private isUserScrollingDown = (positions) => {\n    return positions[0].sT < positions[1].sT;\n  };\n\n  private isScrollExpectedPercent = (position) => {\n    return ((position.sT + position.cH) / position.sH) > (this.scrollPercent / 100);\n  };\n\n  private isScrollSubmit() {\n    return this.isSubmit;\n  };\n\n}\n","export class NewPassword {\n  oldpass: string;\n  newpass: string;\n  confirmpass: string;\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class NotificationService {\n\n  constructor() { }\n\n  showMessage(msg: string, type?:string, title?: string, config?: any){\n\n  }\n}\n","export class Paging {\n  pageSize: number;\n  pageNumber: number;\n}","import {Paging} from './paging';\n\nexport class NotifyParams extends Paging{\n  notifylist: boolean;\n\n  constructor(\n    pageNumber: number,\n    pageSize: number,\n    notifylist: boolean\n  ) {\n    super();\n    this.pageNumber = pageNumber;\n    this.pageSize = pageSize;\n    this.notifylist= notifylist;\n  };\n}\n","export interface WebResponse {\n\n}\n\nexport class ErrorResponse {\n  errors: any[];\n  type: string;\n}\n\nexport class ResponseData extends ErrorResponse implements WebResponse {\n  total: number;\n  items: any[];\n}\n\nexport class ResponseElementsData extends ErrorResponse implements WebResponse {\n  elements: any[];\n}","import {Injectable} from '@angular/core';\nimport {HttpClientService} from \"./http-client.service\";\nimport {HttpErrorResponse} from \"@angular/common/http\";\n\ndeclare let iNet: any;\n\n@Injectable()\nexport class SecurityService {\n    static instance: SecurityService = null;\n    private roles: Array<string> = [];\n\n    constructor(private http: HttpClientService) {\n        if (!SecurityService.instance) {\n            this.roles = this.parserRoleFrom(iNet.permission || {});\n        }\n        return SecurityService.instance = SecurityService.instance || this;\n    }\n\n    public load(): Promise<any> {\n        return new Promise(resolve => {\n            if(!window['iNet'] || iNet.isEmpty(iNet.prefix) || !iNet.enableLayout) {\n                resolve();\n            } else {\n                this.http.postJSON(iNet.getPUrl('system/userrole/list'))\n                    .subscribe((obj: any) => {\n                        for (let key in obj) {\n                            this.append(obj[key]);\n                        }\n                        resolve(obj);\n                    }, (err: HttpErrorResponse) => {\n                        resolve();\n                    });\n            }\n        });\n    }\n\n    private parserRoleFrom(obj: Object): Array<string> {\n        let roles: Array<string> = [];\n        for (let key in obj) {\n            if (obj[key] === \"true\" || obj[key] === true) {\n                roles.push(key);\n            }\n        }\n        return roles;\n    }\n\n    private uniqueArray(arrArg) {\n        return arrArg.filter(function(elem, pos,arr) {\n            return arr.indexOf(elem) == pos;\n        });\n    };\n\n    private append(v: Array<string>): Array<string> {\n        //console.log('[append]roles', v);\n        this.roles = this.uniqueArray(this.roles.concat(v));\n        return this.roles;\n    }\n\n    hasRole(v: string): boolean {\n        //console.log('[checkRole]=', v);\n        let roles = v.split(',');\n        if (roles.length > 1) {\n            let __items = roles.filter(role => this.roles.indexOf(role) > -1);\n            return (__items.length > 0);\n        }\n        return (this.roles.indexOf(v) > -1);\n    }\n\n    /**\n     * Check session timeout when system is idle\n     */\n    ping() {\n        if(iNet.isEmpty(iNet.username) || !iNet.enableLayout) {\n            return;\n        }\n        let iframe = document.createElement('iframe');\n        iframe.style.display = \"none\";\n        iframe.setAttribute(\"src\", iNet.getPUrl('common/page/ping'));\n        iframe.onload = function () {\n            const __loginUrl = 'cas/login';\n            try {\n                let __path = iframe.contentWindow.location.pathname || '';\n                let __isLogin = (__loginUrl.match(__path) || []).length > 0;\n                if (__isLogin) {\n                    window.location.reload();\n                }\n            } catch (ex) {\n                window.location.reload();\n            }\n            document.body.removeChild(iframe);\n        };\n        document.body.appendChild(iframe);\n    }\n\n}\n","import {Directive, Input, OnInit, TemplateRef, ViewContainerRef} from '@angular/core';\nimport {SecurityService} from './security.service';\n\n@Directive({\n  selector: '[roleAccess]'\n})\nexport class RoleAccessDirective implements OnInit {\n\n  @Input('roleAccess') roleAccess: string;\n\n  constructor(private templateRef: TemplateRef<any>,\n              private viewContainer: ViewContainerRef,\n              private securityService: SecurityService) {\n  }\n\n  ngOnInit(): void {\n    this.applyPermission();\n  }\n\n  private applyPermission(): void {\n    if(this.securityService.hasRole(this.roleAccess)){\n      this.viewContainer.createEmbeddedView(this.templateRef);\n    } else {\n      this.viewContainer.clear();\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\ndeclare let iNet: any;\n@Pipe({\n  name: 'ssoUrl'\n})\nexport class SSOUrlPipe implements PipeTransform {\n\n  transform(url: string): string {\n    return iNet.getSSOUrl(url);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {UserProfile} from './user-profile';\nimport {HttpClientService} from './http-client.service';\nimport {Observable} from 'rxjs';\nimport {UserResponseData} from \"./user-response-data\";\nimport {NewPassword} from \"./new-password\";\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/do';\nimport {shareReplay} from 'rxjs/operators';\nimport {HttpErrorResponse} from \"@angular/common/http\";\nimport {CoreService} from \"./core.service\";\n\ndeclare let iNet: any;\nconst AVATAR_VERSION_KEY =  'avatarVersion';\n@Injectable()\nexport class UserProfileService {\n    static instance: UserProfileService = null;\n    static readonly DEFAULT_AVATAR_URL = 'data:image/jpeg;base64,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';\n    private $cache: Observable<Object>;\n    private profile: UserProfile = null;\n\n    private $systemProfileCache: Observable<Object>;\n    private systemProfile: UserResponseData = null;\n\n    private $profileObservableCache: any = {};\n    private inventory: any = {};\n\n    private url = {\n        get: iNet.getPUrl('gl/contact/load'),\n        view: iNet.getPUrl('system/userprofile/view'),\n        update: iNet.getPUrl('system/userprofile/update'),\n        change_password: iNet.getPUrl('system/account/passsword'),\n        photo: iNet.getPUrl('system/userprofile/photo')\n    };\n\n    constructor(private http: HttpClientService, private coreService: CoreService) {\n        return UserProfileService.instance = UserProfileService.instance || this;\n    }\n\n    /*\n    private loadProfile(): Observable<Object> {\n        return this.http.postJSON(this.url.get)\n            .map((res: UserProfile) => res)\n            .do(profile => this.profile = profile);\n    }\n     */\n\n    private loadSystemProfile(): Observable<Object> {\n        return this.http.postJSON(this.url.view)\n            .map((res: UserResponseData) => res)\n            .do(profile => {\n                this.systemProfile = profile;\n                this.profile = profile.user as UserProfile;\n            });\n    }\n\n    /**\n     * Gets the currently LDAP profile of user logged\n     */\n    getSystemProfile(): Observable<Object> {\n        if (this.systemProfile) {\n            return Observable.of(this.systemProfile);\n        }\n        if (!this.$systemProfileCache) {\n            this.$systemProfileCache = this.loadSystemProfile().pipe(shareReplay(1));\n        }\n        return this.$systemProfileCache;\n    }\n\n    /**\n     * Gets the currently profile of user logged\n     */\n    getProfile(): Observable<Object> {\n        if (this.profile) {\n            return Observable.of(this.profile);\n        }\n        /*\n        if (!this.$cache) {\n            this.$cache = this.loadProfile().pipe(shareReplay(1));\n        }\n        return this.$cache;\n         */\n        return this.getSystemProfile().map((res: UserResponseData) => res.user);\n    }\n\n    update(user: UserProfile): Observable<Object> {\n        this.$cache=null;\n        return this.http.postJSON(this.url.update, user);\n    }\n\n    changePassword(password: NewPassword): Observable<Object> {\n        return this.http.postJSON(this.url.change_password, password);\n    }\n\n    getAvatarUrlByProfile(userProfile: UserProfile): string {\n        let avatarUrl: string;\n        avatarUrl = this.coreService.getFileUrl(userProfile.avatar);\n        if (this.getAvatarVersion() > 0) {\n            avatarUrl = `${avatarUrl}?version=${this.getAvatarVersion()}`;\n        }\n        return avatarUrl;\n    }\n\n    getAvatarUrl(): Promise<string> {\n        return new Promise(resolve => {\n            resolve(this.url.photo);\n            /*\n            this.getProfile().subscribe((obj: UserProfile) => {\n                // resolve(this.getAvatarUrlByProfile(obj));\n            }, (err: HttpErrorResponse) => {\n                resolve();\n            });\n\n             */\n        });\n    }\n\n    getFullName(): Promise<string> {\n        return new Promise(resolve => {\n            if(!window['iNet'] || iNet.isEmpty(iNet.prefix) || !iNet.enableLayout) {\n                resolve(window['iNet'] ? iNet.displayName: '');\n            } else {\n                this.getProfile().subscribe((profile: UserProfile) => {\n                    let fullName: string = '';\n                    if (profile.lastName) {\n                        fullName += profile.lastName;\n                    }\n                    if (profile.middleName) {\n                        fullName += ' ' + profile.middleName;\n                    }\n                    if (profile.firstName) {\n                        fullName += ' ' + profile.firstName;\n                    }\n                    profile.name = fullName || iNet.displayName || iNet.username;\n                    resolve(profile.name.trim());\n                }, (err: HttpErrorResponse) => {\n                    resolve();\n                });\n            }\n        });\n    }\n\n    getSignPictureId(): Promise<string> {\n        return new Promise(resolve => {\n            this.getSystemProfile().subscribe((data: UserResponseData) => {\n                let signPictureId: string = '';\n                if(data.user && data.user.signPictureID) {\n                    signPictureId = data.user.signPictureID;\n                }\n                resolve(signPictureId);\n            }, (err: HttpErrorResponse) => {\n                resolve();\n            });\n        });\n    }\n\n    getSignVerifyNumber(): Promise<string> {\n        return new Promise(resolve => {\n            this.getSystemProfile().subscribe((data: UserResponseData) => {\n                let signVerify: string = '';\n                if(data.user && data.user.signVerify) {\n                    signVerify = data.user.signVerify;\n                }\n                resolve(signVerify);\n            }, (err: HttpErrorResponse) => {\n                resolve();\n            });\n        });\n    }\n\n    increaseAvatarVersion() {\n        localStorage.setItem(AVATAR_VERSION_KEY, (this.getAvatarVersion() + 1).toString());\n    }\n\n    getAvatarVersion(): number {\n        return Number(localStorage.getItem(AVATAR_VERSION_KEY));\n    }\n    /**\n     * Returns the profile associated with the username.\n     * @param username - {string} The username variable\n     */\n    getProfileByUsername(username: string): Observable<any> {\n        //console.log('[getProfileByUsername]--username, inventory', username, this.inventory);\n        if (this.inventory.hasOwnProperty(username)) {\n            return Observable.of(this.inventory[username]);\n        }\n        if (!this.$profileObservableCache[username]) {\n            this.$profileObservableCache[username] = this.http.getJSON(this.url.get, {username: username})\n                .do((res) => this.inventory[username]= res)\n                .pipe(shareReplay(1));\n        }\n        return this.$profileObservableCache[username];\n    }\n\n    /**\n     * Returns the avatar URL  with the username.\n     * @param username - {string} The username variable\n     */\n    getAvatarUrlByUsername(username: string): Promise<string> {\n        return new Promise(resolve => {\n            this.getProfileByUsername(username).subscribe((obj: UserProfile) => {\n                if(obj.avatar) {\n                    resolve(this.coreService.getFileUrl(obj.avatar));\n                } else {\n                    resolve();\n                }\n            }, (err: HttpErrorResponse) => {\n                resolve();\n            });\n        });\n    }\n\n    getDefaultAvatarUrl(): string {\n        return UserProfileService.DEFAULT_AVATAR_URL;\n    }\n}\n","export class UserProfile {\n    uuid: string;\n    code: string;\n    usercode: string;\n    username: string;\n    password: string;\n    fname: string;\n    mname: string;\n    lname: string;\n    firstName: string;\n    lastName: string;\n    middleName: string;\n    name: string; //Middle name and Last name together.\n    email: string;\n    mobile: string;\n    phone: string;\n    birthday: number;\n    address: string;\n    state: string;\n    city: string;\n    country: string;\n    timezone: string;\n    postalCode: string;\n    language: string;\n    department: string;\n    position: string;\n    emailToAccount: boolean;\n    signPictureID: string;\n    signVerify: string;\n    secureTicket: string;\n    attributes: any;\n    avatar: string;\n}\n","import {UserProfile} from \"./user-profile\";\nimport {UserAttribute} from \"./user-attribute\";\nexport class UserResponseData {\n  user: UserProfile;\n  attributes: UserAttribute[];\n  glcontactprofileload: UserProfile;\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class AccentService {\n\n  private _vi_accents = [\n    \"Ã \",\"Ã¡\",\"áº¡\",\"áº£\",\"Ã£\",\"Ã¢\",\"áº§\",\"áº¥\",\"áº­\",\"áº©\",\"áº«\",\"Ä\",\n    \"áº±\",\"áº¯\",\"áº·\",\"áº³\",\"áºµ\",\"Ã¨\",\"Ã©\",\"áº¹\",\"áº»\",\"áº½\",\"Ãª\",\"á»\",\n    \"áº¿\",\"á»\",\"á»\",\"á»\",\n    \"Ã¬\",\"Ã­\",\"á»\",\"á»\",\"Ä©\",\n    \"Ã²\",\"Ã³\",\"á»\",\"á»\",\"Ãµ\",\"Ã´\",\"á»\",\"á»\",\"á»\",\"á»\",\"á»\",\"Æ¡\",\n    \"á»\",\"á»\",\"á»£\",\"á»\",\"á»¡\",\n    \"Ã¹\",\"Ãº\",\"á»¥\",\"á»§\",\"Å©\",\"Æ°\",\"á»«\",\"á»©\",\"á»±\",\"á»­\",\"á»¯\",\n    \"á»³\",\"Ã½\",\"á»µ\",\"á»·\",\"á»¹\",\n    \"Ä\",\n    \"Ã\",\"Ã\",\"áº \",\"áº¢\",\"Ã\",\"Ã\",\"áº¦\",\"áº¤\",\"áº¬\",\"áº¨\",\"áºª\",\"Ä\",\n    \"áº°\",\"áº®\",\"áº¶\",\"áº²\",\"áº´\",\n    \"Ã\",\"Ã\",\"áº¸\",\"áºº\",\"áº¼\",\"Ã\",\"á»\",\"áº¾\",\"á»\",\"á»\",\"á»\",\n    \"Ã\",\"Ã\",\"á»\",\"á»\",\"Ä¨\",\n    \"Ã\",\"Ã\",\"á»\",\"á»\",\"Ã\",\"Ã\",\"á»\",\"á»\",\"á»\",\"á»\",\"á»\",\"Æ \",\n    \"á»\",\"á»\",\"á»¢\",\"á»\",\"á» \",\n    \"Ã\",\"Ã\",\"á»¤\",\"á»¦\",\"Å¨\",\"Æ¯\",\"á»ª\",\"á»¨\",\"á»°\",\"á»¬\",\"á»®\",\n    \"á»²\",\"Ã\",\"á»´\",\"á»¶\",\"á»¸\",\n    \"Ä\"\n  ];\n\n  private _en_accents = [\n    \"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\n    \"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\n    \"e\",\"e\",\"e\",\"e\",\"e\",\"e\",\"e\",\"e\",\"e\",\"e\",\"e\",\n    \"i\",\"i\",\"i\",\"i\",\"i\",\n    \"o\",\"o\",\"o\",\"o\",\"o\",\"o\",\"o\",\"o\",\"o\",\"o\",\"o\",\"o\",\n    \"o\",\"o\",\"o\",\"o\",\"o\",\n    \"u\",\"u\",\"u\",\"u\",\"u\",\"u\",\"u\",\"u\",\"u\",\"u\",\"u\",\n    \"y\",\"y\",\"y\",\"y\",\"y\",\n    \"d\",\n    \"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\n    \"A\",\"A\",\"A\",\"A\",\"A\",\n    \"E\",\"E\",\"E\",\"E\",\"E\",\"E\",\"E\",\"E\",\"E\",\"E\",\"E\",\n    \"I\",\"I\",\"I\",\"I\",\"I\",\n    \"O\",\"O\",\"O\",\"O\",\"O\",\"O\",\"O\",\"O\",\"O\",\"O\",\"O\",\"O\",\n    \"O\",\"O\",\"O\",\"O\",\"O\",\n    \"U\",\"U\",\"U\",\"U\",\"U\",\"U\",\"U\",\"U\",\"U\",\"U\",\"U\",\n    \"Y\",\"Y\",\"Y\",\"Y\",\"Y\",\n    \"D\"\n  ];\n\n  constructor() { }\n\n  viToEn(str: string) {\n    return str.replace(/[^\\u0000-\\u007E]/g, (a) => {\n      var index = this._vi_accents.indexOf(a);\n      return index < 0 ? a : this._en_accents[index];\n    });\n  }\n}","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CacheStorageService {\n\n  // Time cache data. Default 5 minutes.\n  timeCache: number = 5 * 60 * 1000;\n\n  private __storage = {};\n  private __queue = {};\n\n  constructor() { }\n\n  promiseQueue(name: string, promise: Function, resovle: Function) {\n    if (this.__queue[name]) {\n      this.__queue[name].push(resovle);\n    } else {\n      this.__queue[name] = [resovle];\n      promise(name);\n    }\n  }\n\n  resolveQueue(name: string, context: any, args?: any[]) {\n    if (this.__queue[name]) {\n      this.__queue[name].forEach(fn => {\n        try {\n          fn.apply(context, args);\n        } catch (e) {\n\n        }\n      });\n      delete this.__queue[name];\n    }\n  }\n\n  getData(key: string) {\n    const data: CacheStorageItem = this.__storage[key];\n    // Check data expired\n    if (data && new Date().getTime() - data.time <= data.timeCache) {\n      return data.value;\n    }\n  }\n\n  setData(key: string, data: any, options?: CacheStorageOptions) {\n    const timeCache = options && options.timeCache || this.timeCache;\n    this.__storage[key] = <CacheStorageItem>{\n      time: new Date().getTime(),\n      timeCache: timeCache,\n      value: data\n    };\n  }\n\n  removeData(key: string) {\n    delete this.__storage[key];\n  }\n\n  clearData() {\n    this.__storage = {};\n  }\n\n}\n\nexport interface CacheStorageOptions {\n  timeCache?: number;\n  resolveData?: boolean;\n}\n\nexport interface CacheStorageItem {\n  time: number;\n  timeCache: number;\n  value: any;\n}\n","/**\n * Inspired from: https://stevepapa.com/ng-autosize/\n */\nimport { Input, AfterViewInit, ElementRef, HostListener, Directive} from '@angular/core';\n\n@Directive({\n  selector: 'textarea[appAutoSize]',\n  exportAs: 'appAutoSize'\n})\n\nexport class AutoSizeDirective implements AfterViewInit {\n\n  private el: HTMLElement;\n  private _minHeight: string;\n  private _maxHeight: string;\n  private _lastHeight: number;\n  private _clientWidth: number;\n\n  @Input('minHeight')\n  get minHeight() {\n    return this._minHeight;\n  }\n  set minHeight(val: string) {\n    this._minHeight = val;\n    this.updateMinHeight();\n  }\n\n  @Input('maxHeight')\n  get maxHeight() {\n    return this._maxHeight;\n  }\n  set maxHeight(val: string) {\n    this._maxHeight = val;\n    this.updateMaxHeight();\n  }\n\n  @HostListener('window:resize')\n  onResize() {\n    //Only apply adjustment if element width had changed.\n    if (this.el.clientWidth === this._clientWidth) return;\n    this._clientWidth = this.element.nativeElement.clientWidth;\n    this.adjust();\n  }\n\n  @HostListener('input')\n  onInput(): void {\n    this.adjust();\n  }\n\n  constructor(public element: ElementRef){\n    this.el = element.nativeElement;\n    this._clientWidth = this.el.clientWidth;\n  }\n\n  ngAfterViewInit(): void{\n    // set element resize allowed manually by user\n    const style = window.getComputedStyle(this.el, null);\n    if (style.resize === 'both') {\n      this.el.style.resize = 'horizontal';\n    }\n    else if (style.resize === 'vertical') {\n      this.el.style.resize = 'none';\n    }\n    // run first adjust\n    this.adjust();\n  }\n\n  adjust(): void{\n    // perform height adjustments after input changes, if height is different\n    // if (this.el.style.height == this.element.nativeElement.scrollHeight + \"px\") return;\n    this.el.style.overflow = 'hidden';\n    this.el.style.height = 'auto';\n    this.el.style.height = this.el.scrollHeight + \"px\";\n  }\n\n  updateMinHeight(): void{\n    // Set textarea min height if input defined\n    this.el.style.minHeight = this._minHeight + 'px';\n  }\n\n  updateMaxHeight(): void{\n    // Set textarea max height if input defined\n    this.el.style.maxHeight = this._maxHeight + 'px';\n  }\n\n}","import {Directive, ElementRef, Input, OnChanges, OnInit} from '@angular/core';\nimport {UserProfileService} from \"./user-profile.service\";\n\ndeclare let iNet: any;\n\n@Directive({\n    selector: 'img[userAvatar]'\n})\nexport class AvatarDirective implements OnInit, OnChanges {\n    @Input() usercode: string = iNet.username;\n\n    constructor(private _el: ElementRef) {}\n\n    ngOnInit() {\n        this._el.nativeElement.addEventListener('error', this._loadAvatarError.bind(this));\n        this._setAvatar();\n    }\n\n    ngOnChanges() {\n        this._setAvatar();\n    }\n\n    private _setAvatar() {\n        if (!this.usercode) {\n            this._loadAvatarError();\n            return;\n        }\n        this._el.nativeElement.src = iNet.getUrl('system/userprofile/photo') + '?usercode=' + encodeURIComponent(this.usercode);\n    }\n\n    private _loadAvatarError() {\n        this._el.nativeElement.src = UserProfileService.DEFAULT_AVATAR_URL;\n    }\n}\n","import {Injectable} from '@angular/core';\n\ndeclare let iNet: any;\ndeclare let $: any;\n\n@Injectable()\nexport class ResourceLoaderService {\n\n    private _loaded = [];\n    private _version: string = '';\n\n    constructor() {\n        // this._initScriptVersion();\n    }\n\n    load(resources: Resource[], callback: Function) {\n        if (resources.length < 1) {\n            return callback();\n        }\n        this._loadResources(resources, callback);\n    }\n\n    loadJS(url: string, callback: Function) {\n        this._loadWithTagName('script', {\n            type: 'text/javascript',\n            src: this.getFullUrlJS(url)\n        }, callback);\n    }\n\n    loadCSS(url: string, callback: Function) {\n        this._loadWithTagName('link', {\n            type: 'text/css',\n            rel: 'stylesheet',\n            href: url\n        }, callback);\n    }\n\n    getFullUrlJS(url: string) {\n        if (url.indexOf('//') < 0 && iNet.fileServer) {\n            if (url.startsWith('/')) {\n                url = url.substr(1, url.length);\n            }\n            return iNet.fileServer + url;\n        }\n        return url;\n    }\n\n    isLoaded(url: string) {\n        return this._loaded.indexOf(url) > -1;\n    }\n\n    private _loadResources(resources: Resource[], callback: Function) {\n        let splitGroups = this._groupResources(resources);\n        let fn = () => {\n            if (splitGroups.length < 1) {\n                return callback();\n            }\n            this._loadGroups(splitGroups.splice(0, 1)[0], fn);\n        };\n        fn();\n    }\n\n    //  Split group resources by sync/async\n    private _groupResources(resources: Resource[]) {\n        let splitGroups = [];\n        let groups;\n\n        //  Split group resources by sync/async\n        for (let i = 0; i < resources.length; i++) {\n            if (!groups) {\n                groups = [];\n                splitGroups.push(groups);\n            }\n\n            groups.push(resources[i]);\n\n            if (resources[i].sync) {\n                groups = null;\n            }\n        }\n        return splitGroups;\n    }\n\n    private _loadGroups(resources: Resource[], callback: Function) {\n        let promises = [];\n        resources.forEach(item => promises.push(this._load(item)));\n        Promise.all(promises).then(() => {\n            callback();\n        });\n    }\n\n    private _load(resource: Resource): Promise<any> {\n        return new Promise((resolve) => {\n            if (resource.type === 'css') {\n                this.loadCSS(resource.url, resolve);\n            } else {\n                this.loadJS(resource.url, resolve);\n            }\n        });\n    }\n\n    private _loadWithTagName(tagName: string, properties, callback: Function) {\n        let url = properties.src || properties.href;\n        // Loaded\n        if (this.isLoaded(url)) {\n            return callback();\n        }\n\n\n        let tagEl = document.createElement(tagName);\n        for (let k in properties) {\n            tagEl[k] = properties[k];\n        }\n\n        tagEl.onload = () => {\n            this._loaded.push(url);\n            callback();\n        };\n        tagEl.onerror = (e) => {\n            console.warn(\"Load resource error: \" + url);\n            console.warn(e);\n            this._loaded.push(url);\n            callback();\n        };\n\n        document.head.appendChild(tagEl);\n    }\n\n    private _initScriptVersion() {\n        let $script = $('script');\n        for (let i = 0; i < $script.length; i++) {\n            let src = $script[i]['src'],\n                index = src.indexOf('?version=');\n            if (index > -1) {\n                this._version = src.substr(index + 1, src.length);\n                break;\n            }\n        }\n    }\n}\n\nexport interface Resource {\n    url: string;\n    sync?: boolean;\n    loaded?: boolean;\n    type?: string;\n}\n","import {SecurityService} from \"./security.service\";\n\nexport function initApp(config: SecurityService){\n    return () => {\n        return config.load();\n    }\n}","import {NgModule, APP_INITIALIZER} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {HttpClientModule} from '@angular/common/http';\nimport {CoreService} from \"./core.service\";\nimport {HttpClientService} from \"./http-client.service\";\nimport {NotificationService} from \"./notification.service\";\nimport {AccentService} from \"./accent.service\";\nimport {UserProfileService} from \"./user-profile.service\";\nimport {CacheStorageService} from \"./cache-storage.service\";\nimport {RoleAccessDirective} from \"./role-access.directive\";\nimport {InfiniteScrollerDirective} from \"./infinite-scroller.directive\";\nimport {AutoSizeDirective} from \"./autosize.directive\";\nimport {AvatarDirective} from \"./avatar.directive\";\nimport {SecurityService} from \"./security.service\";\nimport {SSOUrlPipe} from \"./ssourl.pipe\";\nimport {ResourceLoaderService} from \"./resource-loader.service\";\nimport {initApp} from \"./init-app\";\nimport {LoadingIndicatorService} from \"./loading-indicator.service\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        HttpClientModule\n    ],\n    declarations: [\n        RoleAccessDirective,\n        InfiniteScrollerDirective,\n        AutoSizeDirective,\n        AvatarDirective,\n        SSOUrlPipe\n    ],\n    exports: [\n        RoleAccessDirective,\n        InfiniteScrollerDirective,\n        AutoSizeDirective,\n        AvatarDirective,\n        SSOUrlPipe\n    ],\n    providers: [\n        CoreService,\n        HttpClientService,\n        NotificationService,\n        AccentService,\n        UserProfileService,\n        CacheStorageService,\n        ResourceLoaderService,\n        {\n            'provide': APP_INITIALIZER,\n            'useFactory': initApp,\n            'multi': true,\n            'deps': [SecurityService]\n        },\n        SecurityService,\n        LoadingIndicatorService\n    ]\n})\nexport class CoreModule {\n}\n","import { Subject } from 'rxjs';\n\nexport abstract class WebSocketAbstract {\n    // receive message from socket server\n    onMessage: Subject<EnvelopBody> = new Subject();\n    onStateChange: Subject<number> = new Subject();\n    \n    // update readyState\n    stateChange () {\n        this.onStateChange.next(this.readyState);  \n    } \n\n    constructor(options: any, username: string) {\n        this.connect(options, username);\n    }\n\n    // WebSocket readyState\n    abstract readyState: number;\n\n    // connect to socket server\n    abstract connect(options: any, username: string): any;\n    \n    // close socket server\n    abstract close(): any;\n\n    // send message to socket server\n    abstract send(envelop: WebSocketEnvelop): Promise<boolean>;\n}\n\nexport enum WebSocketType {\n    \n    // send to the first address\n    SEND = 'send',\n\n    // publish to the all address\n    PUBLISH = 'publish',\n}\n\nexport class WebSocketEnvelop {\n    type: WebSocketType | string = WebSocketType.PUBLISH;\n    address: string;\n    body: EnvelopBody;\n}\n\nexport class EnvelopBody {\n    uuid: string;\n    application: string;\n    message: EnvelopMessage;\n    sender: string;\n    alias: string[]; // receivers\n    sent: number;\n}\n\nexport class EnvelopMessage {\n    sender: string;\n    alert: string;\n    content: string;\n    joins: string;\n    duration: string\n// , joins?: string, duration?: string\n    constructor(sender: string, content: string, joins?: string, duration?: string) {\n        this.content = this.alert = content;\n        this.sender = sender;\n        if(!!joins ){\n            this.joins = joins || sender;\n        }\n        this.duration = duration || \"0\";\n    }\n}\n","import {EnvelopBody, WebSocketAbstract, WebSocketEnvelop} from './websocket-abstract';\n\nexport class WebSocketJboss extends WebSocketAbstract {\n    private _socket: WebSocket;\n\n    get readyState(): number {\n        return this._socket ? this._socket.readyState : null;\n    }\n\n    stateChange() {\n        if (this.readyState === WebSocket.OPEN) {\n            this._ping();\n        }\n        super.stateChange();\n    }\n\n    connect(options: string, username: string) {\n        this._socket = new WebSocket(options);\n        this._socket.onmessage = (event) => {\n            // const envelop: WebSocketEnvelop = JSON.parse(event.data);\n            // if (envelop.body) {\n            //     this.onMessage.next(envelop.body);\n            // }\n            const envelopBody: EnvelopBody = JSON.parse(event.data);\n            if (envelopBody.sender) {\n                this.onMessage.next(envelopBody);\n            }\n        };\n        this._socket.onopen = () => this.stateChange();\n        this._socket.onerror = () => this.stateChange();\n        this._socket.onclose = () => this.stateChange();\n    }\n\n    close() {\n        this._socket.close();\n    }\n\n    send(envelop: WebSocketEnvelop): Promise<boolean> {\n        return new Promise(resolve => {\n            try {\n                this._socket.send(JSON.stringify(envelop));\n                resolve(true);\n            } catch(e) {\n                resolve(false);\n                console.warn('Send message failed', e);\n            }\n        });\n    }\n\n    private _ping() {\n        if (this.readyState === WebSocket.OPEN) {\n            this._socket.send(JSON.stringify({type: 'ping'}));\n            setTimeout(() => this._ping(), 10000);\n        }\n    }\n}\n","import { WebSocketAbstract, WebSocketEnvelop } from './websocket-abstract';\nimport * as EventBus from 'vertx3-eventbus-client';\n\nexport class WebSocketVertx extends WebSocketAbstract {\n    private _eventbus: EventBus;\n\n    get readyState(): number {\n        return this._eventbus ? this._eventbus.state : null;\n    };\n\n    connect(options: any, username: string) {\n        if (options && options.length === 2) {\n            var url = options[0];\n            var headers = {\n                keyapi: options[1]\n            };\n            this._connect(url, headers, username);\n        }\n    }\n\n    private _connect(url: string, headers: any, username: string) {\n        this._eventbus = new EventBus(url, {\n            transports: 'websocket'\n        });\n        this._eventbus.onopen = () => {\n            // Channel receive chat message\n            this._eventbus.registerHandler(username, headers, (err: any, msg: any) => {\n                if (msg) {\n                    this.onMessage.next(msg.body);\n                }\n            });\n            // Channel receive online message\n            // this._eventbus.registerHandler('news-feed', headers, (err: any, msg: any) => {\n            //     if (msg) {\n            //         this.onMessage.next(msg);\n            //     }\n            // });\n            this.stateChange();\n        };\n        this._eventbus.onclose = () => this.stateChange();\n        this._eventbus.onerror = () => this.stateChange();\n    }\n\n    close() {\n        this._eventbus.close();\n    }\n\n    send(envelop: WebSocketEnvelop): Promise<boolean> {\n        return new Promise(resolve => {\n            try {\n                this._eventbus.publish(envelop.address, envelop.body);\n                resolve(true);\n            } catch(e) {\n                resolve(false);\n                console.warn('Send message failed', e);\n            }\n        });\n    }\n}","import { WebSocketAbstract, WebSocketEnvelop, EnvelopBody, EnvelopMessage } from './websocket-abstract';\nimport { WebSocketJboss } from './websocket-jboss';\nimport { WebSocketVertx } from './websocket-vertx';\nimport { Subject } from 'rxjs';\n\ndeclare let iNet: any;\ndeclare let $: any;\n\nexport class WebSocketClient {\n    static instance: WebSocketClient = null;\n    socket: WebSocketAbstract;\n    // message from socket server\n    onMessage: Subject<EnvelopBody> = new Subject();\n    // socket state change\n    onStateChange: Subject<any> = new Subject();\n    // envelop send will be timeout after 30s\n    sendTimeout: number = 30000;\n    private _username: string;\n    private _autoconnect: boolean;\n    private _autoconnectAfter: number = 5000; // 5s\n    private _autoconnectRepeat: number = 4; // 5 times\n    private _autoconnectRetryAfter: number = 30000; // 30s\n    private _autoconectCount: number;\n    private _autoconectTimer: any;\n    private _envelopQueue = [];\n\n    get readyState(): number {\n        return this.socket ? this.socket.readyState : null;\n    }\n\n    get connecting(): boolean {\n        return this.readyState === WebSocket.CONNECTING || this.readyState === null;\n    }\n\n    get connected(): boolean {\n        return this.readyState === WebSocket.OPEN;\n    }\n\n    get closing(): boolean {\n        return this.readyState === WebSocket.CLOSING;\n    }\n\n    get closed(): boolean {\n        return this.readyState === WebSocket.CLOSED;\n    }\n\n    get autoconnect(): boolean {\n        return this._autoconnect;\n    }\n\n    constructor() {\n        if (!WebSocketClient.instance) {\n            this._getAccountInfo(() => this._register());\n        }\n        return WebSocketClient.instance = WebSocketClient.instance || this;\n\n\n    }\n\n    // close websocket client\n    close() {\n        this.socket.close();\n    }\n\n    send(address: string, message: string, application: string = ''): Promise<boolean> {\n        return this.sendEnvelop(this.buildEnvelop(address, message, application));\n    }\n\n    sendEnvelop(envelop: WebSocketEnvelop): Promise<boolean> {\n        if (this.connected) {\n            return this.socket.send(envelop);\n        } else {\n            return new Promise((resolve) => {\n                // Add to queue and waiting socket connected to send\n                let data: any = {\n                    e: envelop,\n                    f: resolve\n                };\n                data.timer = setTimeout(() => this._completeEnvelopQueue(data, false), this.sendTimeout);\n                this._envelopQueue.push(data);\n            });\n        }\n    }\n\n    buildEnvelop(address: string, message: string, application: string = '', join?: string): WebSocketEnvelop {\n        let envelop = new WebSocketEnvelop();\n        envelop.address = address;\n        envelop.body = new EnvelopBody();\n        envelop.body.application = application;\n        envelop.body.sender = this._username;\n        envelop.body.alias = [address];\n        envelop.body.message = new EnvelopMessage(this._username, message, join || '');\n        return envelop;\n    }\n\n    private _sendEnvelopQueue() {\n        this._envelopQueue.forEach((data) => {\n            this.sendEnvelop(data.e).then((status) => this._completeEnvelopQueue(data, status));\n        });\n    }\n\n    private _completeEnvelopQueue(data: any, status: boolean) {\n        const index = this._envelopQueue.indexOf(data);\n        if (index >= 0) {\n            this._envelopQueue.splice(index, 1);\n        }\n        data.f(status);\n    }\n\n    private _register(callback?: Function) {\n        $.ajax({\n            url: iNet.getPUrl('account/register'),\n            success: (data: string | string[]) => {\n                if (typeof data === 'string') {\n                    this.socket = new WebSocketJboss(data, this._username);\n                } else {\n                    this.socket = new WebSocketVertx(data, this._username);\n                }\n                this.socket.onStateChange.subscribe(() => this._stateChange());\n                this.socket.onMessage.subscribe((body: EnvelopBody) => {\n                    this.onMessage.next(body);\n                });\n                callback && callback();\n            },\n            error: () => {\n                callback && callback();\n                throw new Error(\"Account register error\");\n            }\n        });\n    }\n\n    private _getAccountInfo(callback: Function) {\n        if (this._username) {\n            return callback(this._username);\n        }\n        $.ajax({\n            url: iNet.getPUrl('system/userprofile/view'),\n            success: (data: any) => {\n                this._username = data && data.user && (data.user.usercode || data.user.username) || '';\n                callback(this._username);\n            },\n            error: () => callback(null)\n        });\n    }\n\n    private _stateChange() {\n        if (this.closed && !this.autoconnect) {\n            this._runAutoConnect();\n        }\n        if (this._autoconnect) {\n            return;\n        }\n        if (this.connected) {\n            this._sendEnvelopQueue();\n        }\n        this._cancelAutoConnect();\n        this.onStateChange.next();\n    }\n\n    private _runAutoConnect() {\n        this._autoconnect = true;\n        this._autoconectTimer = setTimeout(() => {\n            if (this.connected) {\n                this._cancelAutoConnect();\n                return;\n            }\n            if (this._autoconectCount >= this._autoconnectRepeat) {\n                this._cancelAutoConnect();\n                // Sleep and retry connect after 30s\n                setTimeout(() => this._runAutoConnect(), this._autoconnectRetryAfter);\n                return;\n            }\n\n\n            this._register(() => {\n                this._autoconectCount++;\n                if (!this.connected) {\n                    this._runAutoConnect();\n                }\n            });\n        }, this._autoconnectAfter);\n    }\n\n    private _cancelAutoConnect() {\n        this._autoconnect = false;\n        this._autoconectCount = 0;\n        clearTimeout(this._autoconectTimer);\n    }\n}","import { Injectable } from '@angular/core';\nimport { WebSocketClient } from './websocket-client';\n\n@Injectable()\nexport class WebSocketClientService extends WebSocketClient {\n    \n}","export class HtmlUtils {\n\n    static formatPattern: RegExp = new RegExp('(\\\\n)|(\\\\\\\\n)|(\\\\\\\\\\\\\\\\n)|âµ', 'g');\n\n    // Escape html to display\n    static formatHtmlDisplay(html: string): string {\n        return html.replace(HtmlUtils.formatPattern, '<br>');\n    }\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,MAEa,uBAAuB;IAKhC;;QAHA,cAAS,GAAY,mBAAmB,CAAC;QAIrC,OAAO,uBAAuB,CAAC,QAAQ,GAAG,uBAAuB,CAAC,QAAQ,IAAI,IAAI,CAAC;KACtF;;;;;IACD,YAAY,CAAC,SAAiB;QAC1B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;;;;IAED,YAAY;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;;;;;;IAKO,YAAY;QAChB,IAAI,uBAAuB,CAAC,gBAAgB,IAAI,uBAAuB,CAAC,gBAAgB,CAAC,SAAS,EAAE;YAChG,OAAO,uBAAuB,CAAC,gBAAgB,CAAC;SACnD;;;cAEK,SAAS,sBAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,EAAe;;YACzE,cAA2B;;YAC3B,OAAe;QACnB,IAAI,SAAS,EAAE;;kBACL,QAAQ,GAAG,SAAS,CAAC,oBAAoB,CAAC,MAAM,CAAC;YACvD,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjC,cAAc,sBAAG,SAAS,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAe,CAAC;gBAC1E,IAAI,cAAc,IAAI,cAAc,CAAC,SAAS,EAAE;oBAC5C,OAAO,GAAG,cAAc,CAAC,SAAS,CAAC;iBACtC;aACJ;SACJ;;QAED,uBAAuB,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,SAAS,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC;QACpG,OAAO,uBAAuB,CAAC,gBAAgB,CAAC;KACnD;;;;;IAEO,mBAAmB;QACvB,OAAO,IAAI,OAAO;;;;;QAAC,CAAC,OAAO,EAAE,MAAM;YAC/B,UAAU;;;YAAC,MAAM,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,EAAC,CAAC;SAClD,EAAC,CAAC;KACN;;;;;IAED,WAAW,CAAC,OAAgB;QACxB,IAAI,CAAC,mBAAmB,EAAE,CAAC,IAAI;;;;QAAC,gBAAgB;YAC5C,IAAI,gBAAgB,IAAI,gBAAgB,CAAC,SAAS,EAAE;gBAChD,IAAI,gBAAgB,CAAC,OAAO,EAAE;oBAC1B,gBAAgB,CAAC,OAAO,CAAC,SAAS,GAAG,OAAO,IAAI,gBAAgB,CAAC,OAAO,IAAI,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC;iBAChH;gBACD,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;aACtD;SACJ,EAAC,CAAC;KACN;;;;IAED,WAAW;QACP,IAAI,CAAC,mBAAmB,EAAE,CAAC,IAAI;;;;QAAC,gBAAgB;YAC5C,IAAG,gBAAgB,IAAI,gBAAgB,CAAC,SAAS,EAAE;gBAC/C,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aACrD;SACJ,EAAC,CAAC;KACN;;;;IAED,QAAQ;QACJ,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;;;;IAED,WAAW;QACP,IAAI,CAAC,QAAQ,EAAE,CAAC;KACnB;;AAvEM,gCAAQ,GAA4B,IAAI,CAAC;AAEjC,wCAAgB,GAAqB,IAAI,CAAC;;YAJ5D,UAAU;;;;;;IAEP,iCAAgD;;;;;IAEhD,yCAAyD;;IADzD,4CAAyC;;AAyE7C,MAAa,gBAAgB;;;;;;IAKzB,YAAY,SAAsB,EAAE,EAAe,EAAE,MAAc,EAAE;QACjE,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;KACtB;CACJ;;;IATG,qCAAuB;;IACvB,mCAAqB;;IACrB,mCAAgB;;;;;;;ACzEpB,MAAa,oBAAoB;;;;;IAC7B,SAAS,CAAC,CAAS,IAAY,OAAO,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE;;;;;IAC5D,WAAW,CAAC,CAAS,IAAY,OAAO,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE;;;;;IAC9D,SAAS,CAAC,CAAS,IAAY,OAAO,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE;;;;;IAC9D,WAAW,CAAC,CAAS,IAAI,OAAO,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE;CAC3D;;;;;AACD,SAAS,gBAAgB,CAAC,CAAS;IAC/B,OAAO,kBAAkB,CAAC,CAAC,CAAC,CAAC;CAChC;;;;;;ACfD,MAOa,iBAAkB,SAAQ,UAAU;;;;;IAG7C,YAAY,OAAoB,EAAU,cAAuC;QAC7E,KAAK,CAAC,OAAO,CAAC,CAAC;QADuB,mBAAc,GAAd,cAAc,CAAyB;QAFzE,YAAO,GAAG,IAAI,WAAW,CAAC,EAAC,cAAc,EAAE,kDAAkD,EAAC,CAAC,CAAC;KAIvG;;;;;IAED,mBAAmB,CAAC,GAAQ;QACxB,IAAI,CAAC,GAAG,EAAE;YACN,OAAO,IAAI,CAAC;SACf;QACD,OAAO,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,MAAM;;;;;QAAC,CAAC,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,SAAS,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAE,IAAI,UAAU,CAAC,EAAE,OAAO,EAAE,IAAI,oBAAoB,EAAE,EAAC,CAAC,CAAC,CAAC;KACxK;;;;;;IAED,OAAO,CAAC,GAAW,EAAE,IAAiB;QAClC,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC,CAAC;KACzF;;;;;;IAED,QAAQ,CAAC,GAAW,EAAE,IAAiB;QACnC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC,CAAC;KAClF;;;;;;IAED,OAAO,CAAC,GAAW,EAAE,IAAiB;QAClC,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC,CAAC;KACjF;;;;;;IAED,UAAU,CAAC,GAAW,EAAE,IAAiB;QACrC,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC,CAAC;KAC5F;;;;;IAED,iBAAiB,CAAC,GAAQ;;;YAElB,QAAQ,GAAG,IAAI,QAAQ,EAAE;QAC7B,IAAI,CAAC,GAAG,EAAE;YACN,OAAO,QAAQ,CAAC;SACnB;QACD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO;;;;QAAC,CAAC;;YAEtB,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,SAAS,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SACzD,EAAC,CAAC;;QAEH,OAAO,QAAQ,CAAC;KACnB;;;;;;IAED,YAAY,CAAC,GAAW,EAAE,GAAS;QAC/B,IAAI,CAAC,GAAG,EAAE;YACN,OAAO;SACV;;YACG,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;QACzC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC;QAErC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO;;;;QAAC,CAAC;;;gBAElB,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;YAC3C,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;YACf,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,SAAS,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YAChD,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAC3B,EAAC,CAAC;QACH,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACnC;;;;;IAED,WAAW,CAAC,OAAgB;QACxB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;KAC5C;;;;IAED,WAAW;QACP,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAA;KACpC;;;YAzEJ,UAAU;;;;YALS,WAAW;YAEvB,uBAAuB;;;;;;;IAK3B,oCAAwG;;;;;IAEtE,2CAA+C;;;;;;;ACVrF,MAUa,WAAW;;;;IAMpB,YAAoB,IAAuB;QAAvB,SAAI,GAAJ,IAAI,CAAmB;QACvC,OAAO,WAAW,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC;KAC9D;;;;IAED,MAAM;QACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,EAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAC,CAAC,CAAC,SAAS;;;;QAChF,CAAC,IAAgB;;kBACP,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;YAC/C,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACtC,MAAM,CAAC,gBAAgB,CAAC,MAAM;;;YAAE;gBAC5B,QAAQ,CAAC,MAAM,EAAE,CAAC;aACrB,EAAC,CAAC;YACH,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SACrC;;;;QAAE,CAAC,GAAsB;SACzB,EACJ,CAAC;KACL;;;;;;;;;;IAMD,SAAS,CAAC,QAAgB,EAAE,SAAkB;QAC1C,SAAS,GAAG,SAAS,IAAI,EAAE,CAAC;QAC5B,OAAO,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC;YAC3C,aAAa,QAAQ,cAAc,SAAS,EAAE,CAAC;KACtD;;;;IAED,cAAc;QACV,QAAQ,IAAI,CAAC,YAAY,IAAI,MAAM,EAAE;KACxC;;;;IAED,WAAW;QACP,QAAQ,IAAI,CAAC,cAAc,EAAE,IAAI,IAAI,CAAC,UAAU,IAAI,YAAY,IAAI,IAAI,CAAC,UAAU,IAAI,WAAW,EAAE;KACvG;;;;IAED,MAAM;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC;aACzD,IAAI,CAAC,GAAG;;;;QAAC,CAAC,GAAmB,KAAK,GAAG,CAAC,QAAQ,EAAC,CAAC,CAAC;KACzD;;;;;IAED,WAAW,CAAC,SAAc,EAAE;QACxB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,4BAA4B,CAAC,EAAE,MAAM,CAAC;aACxE,IAAI,CAAC,GAAG;;;;QAAC,CAAC,GAAmB,KAAK,GAAG,CAAC,QAAQ,EAAC,CAAC,CAAC;KACzD;;;;IAED,oBAAoB;QAChB,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,OAAO,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAChC;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC;iBACvE,IAAI,CAAC,GAAG;;;;YAAC,CAAC,GAAmB,KAAK,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,EAAC,CAAC;iBACpE,IAAI,CAAC,GAAG;;;;YAAC,CAAC,GAAmB,KAAK,GAAG,CAAC,QAAQ,EAAC,CAAC;iBAChD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7B;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;;;;;;IAED,iBAAiB,CAAC,MAAM,EAAE,QAAkB;QACxC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS;;;;QACzE,CAAC,IAAI;YACD,QAAQ,CAAC,IAAI,CAAC,CAAC;SAClB;;;;QACD,CAAC,GAAG;YACA,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EACJ,CAAC;KACL;;;;;;IAED,cAAc,CAAC,IAAY,EAAE,QAAmB;QAC5C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC,SAAS;;;;QACzF,CAAC,IAAI;YACD,IAAI,QAAQ,EAAE;gBACV,QAAQ,CAAC,IAAI,CAAC,CAAC;aAClB;SACJ;;;;QAAE,CAAC,GAAG;YACH,IAAI,QAAQ,EAAE;gBACV,QAAQ,CAAC,IAAI,CAAC,CAAC;aAClB;SACJ,EACJ,CAAC;KACL;;;;;;IAMD,WAAW,CAAC,QAAgB;QACxB,IAAI,CAAC,QAAQ,EAAE;YACX,OAAO,EAAE,CAAC;SACb;QACD,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YAC7B,OAAO,IAAI,CAAC,aAAa,EAAE,GAAG,QAAQ,CAAC;SAC1C;QACD,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,IAAI,QAAQ,EAAE,CAAC;KAChD;;;;;;IAMD,UAAU,CAAC,QAAgB;QACvB,IAAI,CAAC,QAAQ,EAAE;YACX,OAAO,EAAE,CAAC;SACb;QACD,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YAC7B,OAAO,IAAI,CAAC,iBAAiB,EAAE,GAAG,QAAQ,CAAC;SAC9C;QACD,OAAO,GAAG,IAAI,CAAC,iBAAiB,EAAE,IAAI,QAAQ,EAAE,CAAC;KACpD;;;;;IAED,cAAc,CAAC,IAAqB;QAChC,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;KACpE;;;;IAED,eAAe;QACX,OAAO,IAAI,CAAC,cAAc,CAAC,EAAC,QAAQ,EAAE,SAAS,EAAC,CAAC,CAAC;KACrD;;;;;IAED,cAAc,CAAC,MAAM;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE,MAAM,CAAC,CAAC;KACtE;;;;;IAED,cAAc,CAAC,IAAS,EAAC,UAAU,EAAE,KAAK,EAAC;QACvC,WAAW,CAAC,WAAW,GAAG,CAAC,CAAC;KAC/B;;;;IAED,cAAc;QACV,OAAO,WAAW,CAAC,WAAW,CAAC;KAClC;;;;;;IAEO,OAAO,CAAC,OAAe,EAAE;;cACvB,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;QACvC,IAAI,SAAS,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;SACvC;QACD,OAAO,IAAI,CAAC;KACf;;;;;IAKD,iBAAiB;QACb,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KACxC;;;;;IAKD,aAAa;QACT,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACvC;;AA7JM,oBAAQ,GAAgB,IAAI,CAAC;;AACrB,uBAAW,GAAG,EAAC,UAAU,EAAE,KAAK,EAAC,CAAC;;YAHpD,UAAU;;;;YANH,iBAAiB;;;;IAQrB,qBAAoC;;;;;IACpC,wBAAiD;;;;;IACjD,gCAAsC;;;;;IACtC,mCAAiC;;;;;IAErB,2BAA+B;;;;;AA2J/C,yBAEC;;;IADG,0BAAa;;;;;AAGjB,6BAEC;;;IADG,kCAAgB;;;;;AAGpB,8BAIC;;;IAHG,8BAAY;;IACZ,sCAAoB;;IACpB,mCAAmB;;;;;AAGvB,+BAKC;;;IAJG,gCAAa;;IACb,uCAAoB;;IACpB,mCAAiB;;IACjB,sCAAoB;;;;;;;AC7LxB,MAOa,iBAAiB;;;;;IAG1B,YAAoB,IAAuB;QAAvB,SAAI,GAAJ,IAAI,CAAmB;QACvC,OAAO,iBAAiB,CAAC,QAAQ,GAAG,iBAAiB,CAAC,QAAQ,IAAI,IAAI,CAAC;KAC1E;;;;;;IAED,cAAc,CAAC,MAA2B,EAAE,QAAmB;QAC3D,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACjB,OAAO;SACV;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS;;;;QACjF,CAAC,IAAI;YACD,IAAI,QAAQ,EAAE;gBACV,QAAQ,CAAC,IAAI,CAAC,CAAC;aAClB;SACJ;;;;QACD,CAAC,GAAG;YACA,IAAI,QAAQ,EAAE;gBACV,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;aACvB;SACJ,EACJ,CAAC;KACL;;;;;;IAED,cAAc,CAAC,MAA2B,EAAE,QAAkB;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS;;;;QAC/E,CAAC,IAAwB;YACrB,QAAQ,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;SACtC;;;;QACD,GAAG;YACC,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;SACrB,EACJ,CAAC;KACL;;AAjCM,0BAAQ,GAAsB,IAAI,CAAC;;YAF7C,UAAU;;;;YALH,iBAAiB;;;;IAOrB,2BAA0C;;;;;IAE9B,iCAA+B;;;;;AAiC/C,kCAGC;;;IAFG,sCAAgB;;IAChB,sCAAgB;;;;;AAGpB,iCAGC;;;IAFG,mCAAwB;;IACxB,mCAAc;;;;;AAGlB,6BAMC;;;IALG,iCAAgB;;IAChB,iCAAgB;;IAChB,mCAAkB;;IAClB,+BAAc;;IACd,8BAAa;;;;;;;;AC1DjB,MAAa,YAAY,GAAG;IAC1B,MAAM,EAAE,4BAA4B;IACpC,MAAM,EAAC,4BAA4B;IACnC,IAAI,EAAE,OAAO;CACd;;;;;;ACJD;;;AAGA,6BAIC;;;IAHC,4BAAW;;IACX,4BAAW;;IACX,4BAAW;;;MAGP,uBAAuB,GAAmB;IAC9C,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;CACN;AAKD,MAAa,yBAAyB;;;;IAkBpC,YAAoB,GAAe;QAAf,QAAG,GAAH,GAAG,CAAY;QALnC,kBAAa,GAAG,EAAE,CAAC;QAGnB,aAAQ,GAAG,KAAK,CAAC;QA4CT,wBAAmB;;;;QAAG,CAAC,SAAS;YACtC,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;SAC1C,EAAC;QAEM,4BAAuB;;;;QAAG,CAAC,QAAQ;YACzC,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE,IAAI,QAAQ,CAAC,EAAE,KAAK,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,CAAC;SACjF,EAAC;KAhDsC;;;;IAExC,eAAe;QACb,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,uBAAuB,EAAE,CAAC;KAEhC;;;;;IAEO,mBAAmB;QAEzB,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;KAEjE;;;;;IAEO,kBAAkB;QACxB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY;aACvC,GAAG;;;;QAAC,CAAC,CAAM,MAAsB;YAChC,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY;YACzB,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS;YACtB,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY;SAC1B,CAAC,EAAC;aACF,QAAQ,EAAE;aACV,MAAM;;;;QAAC,SAAS,IAAI,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAC,CAAA;KAC1G;;;;;IAEO,uBAAuB;QAC7B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAE/C,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB;iBAC1C,SAAS,CAAC,CAAC,uBAAuB,EAAE,uBAAuB,CAAC,CAAC,CAAC;SAClE;QAED,IAAI,CAAC,gBAAgB;aAClB,UAAU;;;QAAC;YACV,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;SAC9B,EAAC;aACD,SAAS;;;;QAAC,CAAC,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA,EAAE;;;;QAAE,CAAC,GAAG,KAAK,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAC,CAAC;KAE1E;;;;;IAUO,cAAc;QACpB,OAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;;;;YAzEF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;aAClC;;;;YAjBkC,UAAU;;;6BAwB1C,KAAK;gCAGL,KAAK;4BAGL,KAAK;uBAGL,KAAK;;;;;;;IAbN,iDAAqB;;;;;IACrB,sDAA0B;;;;;IAC1B,qDAAyB;;IAEzB,mDACe;;IAEf,sDACkB;;IAElB,kDACmB;;IAEnB,6CACiB;;;;;IA4CjB,wDAEE;;;;;IAEF,4DAEE;;;;;IAhDU,wCAAuB;;;;;;;;ACpCrC,MAAa,WAAW;CAIvB;;;IAHC,8BAAgB;;IAChB,8BAAgB;;IAChB,kCAAoB;;;;;;;ACHtB,MAGa,mBAAmB;IAE9B,iBAAiB;;;;;;;;IAEjB,WAAW,CAAC,GAAW,EAAE,IAAY,EAAE,KAAc,EAAE,MAAY;KAElE;;;YAPF,UAAU;;;;;;;;;ACFX,MAAa,MAAM;CAGlB;;;IAFC,0BAAiB;;IACjB,4BAAmB;;;;;;;ACFrB,MAEa,YAAa,SAAQ,MAAM;;;;;;IAGtC,YACE,UAAkB,EAClB,QAAgB,EAChB,UAAmB;QAEnB,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,UAAU,GAAE,UAAU,CAAC;KAC7B;;CACF;;;IAZC,kCAAoB;;;;;;;;;;;ACHtB,0BAEC;AAED,MAAa,aAAa;CAGzB;;;IAFC,+BAAc;;IACd,6BAAa;;AAGf,MAAa,YAAa,SAAQ,aAAa;CAG9C;;;IAFC,6BAAc;;IACd,6BAAa;;AAGf,MAAa,oBAAqB,SAAQ,aAAa;CAEtD;;;IADC,wCAAgB;;;;;;;ACflB,MAOa,eAAe;;;;IAIxB,YAAoB,IAAuB;QAAvB,SAAI,GAAJ,IAAI,CAAmB;QAFnC,UAAK,GAAkB,EAAE,CAAC;QAG9B,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;YAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC;SAC3D;QACD,OAAO,eAAe,CAAC,QAAQ,GAAG,eAAe,CAAC,QAAQ,IAAI,IAAI,CAAC;KACtE;;;;IAEM,IAAI;QACP,OAAO,IAAI,OAAO;;;;QAAC,OAAO;YACtB,IAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBACnE,OAAO,EAAE,CAAC;aACb;iBAAM;gBACH,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;qBACnD,SAAS;;;;gBAAC,CAAC,GAAQ;oBAChB,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;wBACjB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;qBACzB;oBACD,OAAO,CAAC,GAAG,CAAC,CAAC;iBAChB;;;;gBAAE,CAAC,GAAsB;oBACtB,OAAO,EAAE,CAAC;iBACb,EAAC,CAAC;aACV;SACJ,EAAC,CAAC;KACN;;;;;;IAEO,cAAc,CAAC,GAAW;;YAC1B,KAAK,GAAkB,EAAE;QAC7B,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;YACjB,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,MAAM,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;gBAC1C,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACnB;SACJ;QACD,OAAO,KAAK,CAAC;KAChB;;;;;;IAEO,WAAW,CAAC,MAAM;QACtB,OAAO,MAAM,CAAC,MAAM;;;;;;QAAC,UAAS,IAAI,EAAE,GAAG,EAAC,GAAG;YACvC,OAAO,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC;SACnC,EAAC,CAAC;KACN;;;;;;;IAEO,MAAM,CAAC,CAAgB;;QAE3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB;;;;;IAED,OAAO,CAAC,CAAS;;;YAET,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;QACxB,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;;gBACd,OAAO,GAAG,KAAK,CAAC,MAAM;;;;YAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC;YACjE,QAAQ,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;SAC/B;QACD,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;KACvC;;;;;IAKD,IAAI;QACA,IAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YAClD,OAAO;SACV;;YACG,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC7C,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC9B,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAC7D,MAAM,CAAC,MAAM;;;QAAG;;kBACN,UAAU,GAAG,WAAW;YAC9B,IAAI;;oBACI,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,IAAI,EAAE;;oBACrD,SAAS,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,MAAM,GAAG,CAAC;gBAC3D,IAAI,SAAS,EAAE;oBACX,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;iBAC5B;aACJ;YAAC,OAAO,EAAE,EAAE;gBACT,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;aAC5B;YACD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SACrC,CAAA,CAAC;QACF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;KACrC;;AApFM,wBAAQ,GAAoB,IAAI,CAAC;;YAF3C,UAAU;;;;YALH,iBAAiB;;;;IAOrB,yBAAwC;;;;;IACxC,gCAAkC;;;;;IAEtB,+BAA+B;;;;;;;;ACX/C,MAMa,mBAAmB;;;;;;IAI9B,YAAoB,WAA6B,EAC7B,aAA+B,EAC/B,eAAgC;QAFhC,gBAAW,GAAX,WAAW,CAAkB;QAC7B,kBAAa,GAAb,aAAa,CAAkB;QAC/B,oBAAe,GAAf,eAAe,CAAiB;KACnD;;;;IAED,QAAQ;QACN,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;;;;;IAEO,eAAe;QACrB,IAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAC;YAC/C,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACzD;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAC5B;KACF;;;YAtBF,SAAS,SAAC;gBACT,QAAQ,EAAE,cAAc;aACzB;;;;YALiC,WAAW;YAAE,gBAAgB;YACvD,eAAe;;;yBAOpB,KAAK,SAAC,YAAY;;;;IAAnB,yCAAwC;;;;;IAE5B,0CAAqC;;;;;IACrC,4CAAuC;;;;;IACvC,8CAAwC;;;;;;;ACZtD,MAKa,UAAU;;;;;IAErB,SAAS,CAAC,GAAW;QACnB,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;KAC5B;;;YAPF,IAAI,SAAC;gBACJ,IAAI,EAAE,QAAQ;aACf;;;;;;;ACJD;MAcM,kBAAkB,GAAI,eAAe;AAE3C,MAAa,kBAAkB;;;;;IAoB3B,YAAoB,IAAuB,EAAU,WAAwB;QAAzD,SAAI,GAAJ,IAAI,CAAmB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAhBrE,YAAO,GAAgB,IAAI,CAAC;QAG5B,kBAAa,GAAqB,IAAI,CAAC;QAEvC,4BAAuB,GAAQ,EAAE,CAAC;QAClC,cAAS,GAAQ,EAAE,CAAC;QAEpB,QAAG,GAAG;YACV,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;YACpC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC;YAC7C,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC;YACjD,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC;YACzD,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC;SAClD,CAAC;QAGE,OAAO,kBAAkB,CAAC,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,IAAI,IAAI,CAAC;KAC5E;;;;;;;;;;;;IAUO,iBAAiB;QACrB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;aACnC,GAAG;;;;QAAC,CAAC,GAAqB,KAAK,GAAG,EAAC;aACnC,EAAE;;;;QAAC,OAAO;YACP,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;YAC7B,IAAI,CAAC,OAAO,sBAAG,OAAO,CAAC,IAAI,EAAe,CAAC;SAC9C,EAAC,CAAC;KACV;;;;;IAKD,gBAAgB;QACZ,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,OAAO,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC5C;QACD,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC3B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5E;QACD,OAAO,IAAI,CAAC,mBAAmB,CAAC;KACnC;;;;;IAKD,UAAU;QACN,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAO,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC;;;;;;;QAOD,OAAO,IAAI,CAAC,gBAAgB,EAAE,CAAC,GAAG;;;;QAAC,CAAC,GAAqB,KAAK,GAAG,CAAC,IAAI,EAAC,CAAC;KAC3E;;;;;IAED,MAAM,CAAC,IAAiB;QACpB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;KACpD;;;;;IAED,cAAc,CAAC,QAAqB;QAChC,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;KACjE;;;;;IAED,qBAAqB,CAAC,WAAwB;;YACtC,SAAiB;QACrB,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC5D,IAAI,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,EAAE;YAC7B,SAAS,GAAG,GAAG,SAAS,YAAY,IAAI,CAAC,gBAAgB,EAAE,EAAE,CAAC;SACjE;QACD,OAAO,SAAS,CAAC;KACpB;;;;IAED,YAAY;QACR,OAAO,IAAI,OAAO;;;;QAAC,OAAO;YACtB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;;;;;;;;SAS3B,EAAC,CAAC;KACN;;;;IAED,WAAW;QACP,OAAO,IAAI,OAAO;;;;QAAC,OAAO;YACtB,IAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBACnE,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,GAAE,EAAE,CAAC,CAAC;aAClD;iBAAM;gBACH,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS;;;;gBAAC,CAAC,OAAoB;;wBACzC,QAAQ,GAAW,EAAE;oBACzB,IAAI,OAAO,CAAC,QAAQ,EAAE;wBAClB,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC;qBAChC;oBACD,IAAI,OAAO,CAAC,UAAU,EAAE;wBACpB,QAAQ,IAAI,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC;qBACxC;oBACD,IAAI,OAAO,CAAC,SAAS,EAAE;wBACnB,QAAQ,IAAI,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC;qBACvC;oBACD,OAAO,CAAC,IAAI,GAAG,QAAQ,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC;oBAC7D,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;iBAChC;;;;gBAAE,CAAC,GAAsB;oBACtB,OAAO,EAAE,CAAC;iBACb,EAAC,CAAC;aACN;SACJ,EAAC,CAAC;KACN;;;;IAED,gBAAgB;QACZ,OAAO,IAAI,OAAO;;;;QAAC,OAAO;YACtB,IAAI,CAAC,gBAAgB,EAAE,CAAC,SAAS;;;;YAAC,CAAC,IAAsB;;oBACjD,aAAa,GAAW,EAAE;gBAC9B,IAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;oBACrC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;iBAC3C;gBACD,OAAO,CAAC,aAAa,CAAC,CAAC;aAC1B;;;;YAAE,CAAC,GAAsB;gBACtB,OAAO,EAAE,CAAC;aACb,EAAC,CAAC;SACN,EAAC,CAAC;KACN;;;;IAED,mBAAmB;QACf,OAAO,IAAI,OAAO;;;;QAAC,OAAO;YACtB,IAAI,CAAC,gBAAgB,EAAE,CAAC,SAAS;;;;YAAC,CAAC,IAAsB;;oBACjD,UAAU,GAAW,EAAE;gBAC3B,IAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;oBAClC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;iBACrC;gBACD,OAAO,CAAC,UAAU,CAAC,CAAC;aACvB;;;;YAAE,CAAC,GAAsB;gBACtB,OAAO,EAAE,CAAC;aACb,EAAC,CAAC;SACN,EAAC,CAAC;KACN;;;;IAED,qBAAqB;QACjB,YAAY,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;KACtF;;;;IAED,gBAAgB;QACZ,OAAO,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC;KAC3D;;;;;;IAKD,oBAAoB,CAAC,QAAgB;;QAEjC,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;YACzC,OAAO,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;SAClD;QACD,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,EAAE;YACzC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAC,CAAC;iBACzF,EAAE;;;;YAAC,CAAC,GAAG,KAAK,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAE,GAAG,EAAC;iBAC1C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7B;QACD,OAAO,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC;KACjD;;;;;;IAMD,sBAAsB,CAAC,QAAgB;QACnC,OAAO,IAAI,OAAO;;;;QAAC,OAAO;YACtB,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,SAAS;;;;YAAC,CAAC,GAAgB;gBAC3D,IAAG,GAAG,CAAC,MAAM,EAAE;oBACX,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;iBACpD;qBAAM;oBACH,OAAO,EAAE,CAAC;iBACb;aACJ;;;;YAAE,CAAC,GAAsB;gBACtB,OAAO,EAAE,CAAC;aACb,EAAC,CAAC;SACN,EAAC,CAAC;KACN;;;;IAED,mBAAmB;QACf,OAAO,kBAAkB,CAAC,kBAAkB,CAAC;KAChD;;AAtMM,2BAAQ,GAAuB,IAAI,CAAC;AAC3B,qCAAkB,GAAG,y/EAAy/E,CAAC;;YAHliF,UAAU;;;;YAbH,iBAAiB;YASjB,WAAW;;;;IAMf,4BAA2C;;IAC3C,sCAA+hF;;;;;IAC/hF,oCAAmC;;;;;IACnC,qCAAoC;;;;;IAEpC,iDAAgD;;;;;IAChD,2CAA+C;;;;;IAE/C,qDAA0C;;;;;IAC1C,uCAA4B;;;;;IAE5B,iCAME;;;;;IAEU,kCAA+B;;;;;IAAE,yCAAgC;;;;;;;ACpCjF,MAAa,WAAW;CAgCvB;;;IA/BG,2BAAa;;IACb,2BAAa;;IACb,+BAAiB;;IACjB,+BAAiB;;IACjB,+BAAiB;;IACjB,4BAAc;;IACd,4BAAc;;IACd,4BAAc;;IACd,gCAAkB;;IAClB,+BAAiB;;IACjB,iCAAmB;;IACnB,2BAAa;;IACb,4BAAc;;IACd,6BAAe;;IACf,4BAAc;;IACd,+BAAiB;;IACjB,8BAAgB;;IAChB,4BAAc;;IACd,2BAAa;;IACb,8BAAgB;;IAChB,+BAAiB;;IACjB,iCAAmB;;IACnB,+BAAiB;;IACjB,iCAAmB;;IACnB,+BAAiB;;IACjB,qCAAwB;;IACxB,oCAAsB;;IACtB,iCAAmB;;IACnB,mCAAqB;;IACrB,iCAAgB;;IAChB,6BAAe;;;;;;;AC7BnB,MAAa,gBAAgB;CAI5B;;;IAHC,gCAAkB;;IAClB,sCAA4B;;IAC5B,gDAAkC;;;;;;;ACLpC,MAGa,aAAa;IA4CxB;QA1CQ,gBAAW,GAAG;YACpB,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC/C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC/C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACf,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACnB,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC/C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACnB,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC3C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACnB,GAAG;YACH,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC/C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACnB,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC3C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACnB,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC/C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACnB,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YAC3C,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG;YACnB,GAAG;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"}