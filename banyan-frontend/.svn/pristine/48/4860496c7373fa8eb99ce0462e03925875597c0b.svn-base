{"version":3,"file":"inet-social.js","sources":["ng://inet-social/src/model/Config.ts","ng://inet-social/src/social.service.ts","ng://inet-social/src/wall/social.component.ts","ng://inet-social/src/model/Activity.ts","ng://inet-social/src/share-member/share-member.component.ts","ng://inet-social/src/progress/progress.component.ts","ng://inet-social/src/activity-post/activity-post.component.ts","ng://inet-social/src/embed/social-embed.component.ts","ng://inet-social/src/activity/activity.component.ts","ng://inet-social/src/model/Comment.ts","ng://inet-social/src/comment/comment.component.ts","ng://inet-social/src/modal-view/modal-view.component.ts","ng://inet-social/src/activity-view/activity-view.component.ts","ng://inet-social/src/message-body/message-body.component.ts","ng://inet-social/src/localnews/localnews.component.ts","ng://inet-social/src/activity-action-more/activity-action-more.component.ts","ng://inet-social/src/social-friend/browse/friend-browse.component.ts","ng://inet-social/src/social-friend/invitation/friend-invitation.component.ts","ng://inet-social/src/social-friend/list-user/list-user.component.ts","ng://inet-social/src/social-friend/group-member/group-member.component.ts","ng://inet-social/src/social-friend/group-create/group-create.component.ts","ng://inet-social/src/social-friend/group/group.component.ts","ng://inet-social/src/comment-post/comment-post.component.ts","ng://inet-social/src/comment-list/comment-list.component.ts","ng://inet-social/src/activity-list/activity-list.component.ts","ng://inet-social/src/attachment-list/attachment-list.component.ts","ng://inet-social/src/widget/social-latest.component.ts","ng://inet-social/src/filelist/file-format.service.ts","ng://inet-social/src/filelist/file-ext.pipe.ts","ng://inet-social/src/filelist/file-icon.pipe.ts","ng://inet-social/src/filelist/list/file-list.component.ts","ng://inet-social/src/filelist/file-list.module.ts","ng://inet-social/src/social.module.ts","ng://inet-social/src/routing/home/social-home.component.ts","ng://inet-social/src/routing/activity-view/social-activity-view.component.ts","ng://inet-social/src/routing/social-routing.module.ts","ng://inet-social/src/routing/friend/social-friend.component.ts","ng://inet-social/src/routing/right-layout/social-right-layout.component.ts","ng://inet-social/src/routing/social-app.module.ts"],"sourcesContent":["declare let iNet: any;\n\nexport enum SocialTag {\n  OpenGraph = 'open-graph',\n  LocalNews = 'localnews'\n}\n\nexport enum Policy {\n  Friend = 'FRIEND',\n  Company = 'COMPANY',\n  Individual = 'INDIVIDUAL',\n}\n\nexport const PolicyValueAll = 'EVERYONE';\n\nexport enum PolicyDisplay {\n  Friend = 'Báº¡n bÃ¨',\n  Company = 'CÃ´ng ty',\n  Publish = 'CÃ´ng khai',\n  CompanyFriend = 'CÃ´ng ty vÃ  báº¡n bÃ¨',\n  OnlyMe = 'MÃ¬nh tÃ´i'\n}\n\nexport enum PolicyIcon {\n  Friend = 'fa-user',\n  Company = 'fa-cube',\n  Publish = 'fa-globe',\n  category = 'fa-users',\n  OnlyMe = 'fa-lock'\n}\n\nexport interface PolicyItem {\n  policy: Policy;\n  display: string;\n  member: string;\n}\n\nexport const POLICY_COMPANY: PolicyItem = {\n  policy: Policy.Company,\n  display: PolicyDisplay.Company,\n  member: PolicyValueAll\n};\nexport const POLICY_FRIEND = {\n  policy: Policy.Friend,\n  display: PolicyDisplay.Friend,\n  member: PolicyValueAll\n};\nexport const POLICY_ME = {\n  policy: Policy.Individual,\n  display: PolicyDisplay.OnlyMe,\n  member: iNet.username\n};\n\nexport const SHARE_PUBLISH = {\n  category: true,\n  id: 0,\n  icon: PolicyIcon.Publish,\n  display: PolicyDisplay.Publish,\n  value: []\n};\nexport const SHARE_COMPANY_FRIEND = {\n  category: true,\n  id: 1,\n  icon: PolicyIcon.category,\n  display: PolicyDisplay.CompanyFriend,\n  value: [\n    POLICY_COMPANY,\n    POLICY_FRIEND\n  ]\n};\nexport const SHARE_COMPANY = {\n  category: true,\n  id: 2,\n  icon: PolicyIcon.Company,\n  display: PolicyDisplay.Company,\n  value: [\n    POLICY_COMPANY\n  ]\n};\nexport const SHARE_FRIEND = {\n  category: true,\n  id: 3,\n  icon: PolicyIcon.Friend,\n  display: PolicyDisplay.Friend,\n  value: [\n    POLICY_FRIEND\n  ]\n};\nexport const SHARE_ME = {\n  category: true,\n  id: 4,\n  icon: PolicyIcon.OnlyMe,\n  display: PolicyDisplay.OnlyMe,\n  value: [\n    POLICY_ME\n  ]\n};\n\nexport interface SocialMember {\n  id: any\n  display: string\n  value: PolicyItem[]\n  icon: string\n  username?: boolean\n  category?: boolean\n  group?: boolean\n  selected?: boolean\n  active?: boolean\n  _index?: string\n}\n\nexport const LOCALNEWS = 'LOCALNEWS';\nexport const TASKNOTIFY = 'TASKNOTIFY';\nexport const PINNEWS = 'PINNEWS';\nexport const APP_ACTIVITY = 'iSocial-Activity';\nexport const APP_COMMENT = 'iSocial-Comment';\n","import {Injectable, OnDestroy} from '@angular/core';\nimport {SocialActivity} from './model/Activity';\nimport {ActivityParams} from './model/ActivityParams';\nimport {Attachment} from './model/Attachment';\nimport {LikeParams} from './model/LikeParams';\nimport {\n    APP_ACTIVITY, APP_COMMENT,\n    PINNEWS,\n    Policy, PolicyIcon, PolicyValueAll, SHARE_COMPANY, SHARE_FRIEND, SHARE_ME,\n    SHARE_PUBLISH, SocialTag\n} from './model/Config';\nimport {InvitationParams} from './model/InvitationParams';\nimport {SocialComment} from './model/Comment';\nimport {CoreService, HtmlUtils, HttpClientService, WebSocketClientService, EnvelopBody} from 'inet-core';\nimport {Subject, Subscription} from \"rxjs\";\nimport {FrontViewService, Photo, PhotoSwipe, FileFormatService} from \"inet-ui\";\n\ndeclare let iNet: any;\ndeclare let $: any;\n\n@Injectable()\nexport class SocialService implements OnDestroy {\n\n    viewDate: string = 'dd/MM/yyyy HH:mm';\n\n    activityChange = new Subject<string>();\n    commentChange = new Subject<string>();\n\n    private _removeTags = [\n        'link',\n        'meta',\n        'script',\n        'style',\n        'open-graph'\n    ];\n\n    private _socket: Subscription;\n\n    constructor(\n        private httpClient: HttpClientService,\n        private coreService: CoreService,\n        private photoSwipe: PhotoSwipe,\n        private socketService: WebSocketClientService,\n        private fileFormatService: FileFormatService,\n        private frontViewService: FrontViewService\n    ) {\n        // Receive activity notify real time\n        this._socket = this.socketService.onMessage.subscribe((message: EnvelopBody) => {\n            const app = message.application;\n            const activityID = message.message && message.message['msgID'];\n            if (app === APP_ACTIVITY) {\n                this.activityChange.next(activityID);\n            } else if (app === APP_COMMENT) {\n                this.commentChange.next(activityID);\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        this._socket.unsubscribe();\n    }\n\n\n    listGroups(callback: any) {\n        return this.getJSON('social/member/category', null, (data, err) => {\n            callback(data && data.elements || [], err);\n        });\n    }\n\n    invitationReceiveList(params, callback) {\n        return this.getJSON('social/invitation', params, callback);\n    }\n\n    invitationSendList(params, callback) {\n        return this.getJSON('social/invitation/mylist', params, callback);\n    }\n\n    invitationRejectList(params, callback) {\n        return this.getJSON('social/invitation/rejectedlist', params, callback);\n    }\n\n    invitationCreate(params: InvitationParams, callback) {\n        return this.postJSON('social/invitation/create', params, callback);\n    }\n\n    invitationDelete(params: InvitationParams, callback) {\n        return this.postJSON('social/invitation/delete', params, callback);\n    }\n\n    invitationReject(params: InvitationParams, callback) {\n        return this.postJSON('social/invitation/rejected', params, callback);\n    }\n\n    invitationAccept(params: InvitationParams, callback) {\n        return this.postJSON('social/invitation/accepted', params, callback);\n    }\n\n    invitationSearch(params, callback) {\n        return this.postJSON('social/member/search', params, callback);\n    }\n\n    listFriends(params, callback) {\n        return this.getJSON('social/member/list', params, (data, err) => {\n            let members = data && data['items'] || [];\n            members.total = data && data.total || 0;\n            callback(members, err);\n        });\n    }\n\n    groupMemberCreate(params, callback) {\n        return this.postJSON('social/member/create', params, (data, err) => {\n            callback(data, err);\n        });\n    }\n\n    groupMemberDelete(params, callback) {\n        return this.postJSON('social/member/delete', params, (data, err) => {\n            callback(data, err);\n        });\n    }\n\n    searchMember(params, callback) {\n        this.coreService.searchFirmAccount(params, (data, err) => {\n            let members = data && data['items'] || [];\n            members.total = data && data.total || 0;\n            callback(members, err);\n        });\n    }\n\n    favoriteList(params, callback) {\n        return this.postJSON('social/activity/favorite', params, (data, err) => {\n            if (data && data['items']) {\n                data['items'].forEach((item) => {\n                    item._favorite = true;\n                    this.indexActivity(item);\n                });\n            }\n            callback(data, err);\n        });\n    }\n\n    activityWall(params: ActivityParams, callback) {\n        return this.getJSON('social/activity/wall', params,\n            (data, err) => {\n                if (data) {\n                    if (data['items']) {\n                        data['items'].forEach(this.indexActivity.bind(this));\n                    }\n                }\n                callback(data, err);\n            });\n    }\n\n    activityLoad(params, callback) {\n        return this.getJSON('social/activity/load', params, (data: SocialActivity, error) => {\n            if (data) {\n                this.indexActivity(data);\n            }\n            callback(data, error);\n        });\n    }\n\n    activityPost(params, callback) {\n        return this.postForm('social/activity/post', params, (data, err) => {\n            if (data) {\n                this.indexActivity(data);\n            }\n            callback(data, err);\n        });\n    }\n\n    activityUpdate(params, callback) {\n        return this.postForm('social/activity/update', params, (data, err) => {\n            if (data) {\n                this.indexActivity(data);\n            }\n            callback(data, err);\n        });\n    }\n\n    /**\n     *\n     * @param params\n     * {\n     *    application: string\n     *    contextID: string\n     *    element: [{\n     *      member: string\n     *      display: string\n     *      policy: \"FRIEND\"\n     *    }]\n     * }\n     * @param callback\n     *\n     */\n    activityUpdateScope(params, callback) {\n        return this.postForm('social/activity/scope', params, callback);\n    }\n\n    activityRemove(params, callback) {\n        return this.getJSON('social/activity/delete', params, callback);\n    }\n\n    activityRemoveFile(params, callback) {\n        return this.getJSON('social/activity/binaryremove', params, callback);\n    }\n\n    activityLikeList(params, callback) {\n        return this.getJSON('social/activity/likelist', params, callback);\n    }\n\n    activityLike(params: LikeParams, callback) {\n        return this.getJSON('social/activity/like', params, callback);\n    }\n\n    activityUnLike(params: LikeParams, callback) {\n        return this.getJSON('social/activity/unlike', params, callback);\n    }\n\n    pollLoad(params, callback) {\n        return this.getJSON('social/poll/load', params, callback);\n    }\n\n    pollResult(params, callback) {\n        return this.getJSON('social/poll/result', params, callback);\n    }\n\n    pollVote(params, callback) {\n        return this.getJSON('social/poll/vote', params, callback);\n    }\n\n    pollPost(params, callback) {\n        return this.postForm('social/activity/pollpost', params, callback);\n    }\n\n    pollUpdate(params, callback) {\n        return this.postForm('social/poll/update', params, callback);\n    }\n\n    commentWall(params, callback) {\n        return this.getJSON('social/comment/wall', params, (data, err) => {\n            if (data && data['items']) {\n                data['items'].forEach(item => this.indexActivity(item));\n            }\n            callback(data, err);\n        });\n    }\n\n    commentPost(params, callback) {\n        return this.postForm('social/comment/post', params, (data, err) => {\n            if (data) {\n                this.indexActivity(data);\n            }\n            callback(data, err);\n        });\n    }\n\n    commentUpdate(params, callback) {\n        return this.postForm('social/comment/update', params, (data, err) => {\n            if (data) {\n                this.indexActivity(data);\n            }\n            callback(data, err);\n        });\n    }\n\n    commentRemove(params, callback) {\n        return this.getJSON('social/comment/delete', params, callback);\n    }\n\n    commentLike(params: LikeParams, callback) {\n        return this.getJSON('social/comment/like', params, callback);\n    }\n\n    commentUnLike(params: LikeParams, callback) {\n        return this.getJSON('social/comment/unlike', params, callback);\n    }\n\n\n    // Download / View file\n\n    activityDownLoadUrl(params: BinaryParams): string {\n        return iNet.getPUrl('social/activity/download') + '?' + $.param(params);\n    }\n\n    activityViewUrl(params: BinaryParams): string {\n        return iNet.getPUrl('social/activity/inlineview') + '?' + $.param(params);\n    }\n\n    activityViewOnlineUrl(params: BinaryParams): string {\n        return iNet.getPUrl('unicorn/page/social/activity-viewer') + '?' + $.param(params);\n    }\n\n    commentDownLoadUrl(params: BinaryParams): string {\n        return iNet.getPUrl('social/comment/download') + '?' + $.param(params);\n    }\n\n    commentViewUrl(params: BinaryParams): string {\n        return iNet.getPUrl('social/comment/inlineview') + '?' + $.param(params);\n    }\n\n    commentViewOnlineUrl(params: BinaryParams): string {\n        return iNet.getPUrl('unicorn/page/social/comment-viewer') + '?' + $.param(params);\n    }\n\n    isCommentApp(application: string) {\n        return application === APP_COMMENT;\n    }\n\n    isActivityApp(application: string) {\n        return application === APP_ACTIVITY;\n    }\n\n    viewAttachment(attachment: Attachment) {\n        if ((iNet.hasOnlineEditor && attachment.pathViewOnline) || attachment.pathViewPdf) {\n            this.frontViewService.viewInline(attachment.pathViewOnline || attachment.pathViewPdf);\n        } else {\n            window.open(attachment.pathDownLoad, '_blank');\n        }\n    }\n\n    viewImages(images: Photo[], options?: any) {\n        this.photoSwipe.open(images, options);\n    }\n\n\n    attachmentToFiles(attachments: Attachment[]) {\n        const files = [];\n        attachments.forEach(item => {\n            files.push({\n                name: item.file,\n                type: item.mimetype,\n                size: item.size,\n                url: item.pathView,\n                id: item.gridfsUUID,\n                image: this.isImage(item.mimetype)\n            });\n        });\n        return files;\n    }\n\n    private getJSON(url: string, params: any, callback: any): Subscription {\n        return this.httpClient.getJSON(iNet.getPUrl(url), params).subscribe(\n            callback,\n            err => {\n                callback(null, err);\n            }\n        );\n    }\n\n    private postJSON(url: string, params: any, callback: any): Subscription {\n        return this.httpClient.postJSON(iNet.getPUrl(url), params).subscribe(\n            callback,\n            err => {\n                callback(null, err);\n            }\n        );\n    }\n\n    private postForm(url: string, params: any, callback: any) {\n        return this.httpClient.post(iNet.getPUrl(url), this.buildFormData(params)).subscribe(\n            callback,\n            err => {\n                callback(null, err);\n            }\n        );\n    }\n\n    private buildFormData(data) {\n        if (!data) {\n            return;\n        }\n\n        const form = new FormData();\n\n        Object.keys(data).forEach(k => {\n            if (k === 'openGraph') {\n                return;\n            }\n            if (k === 'message') {\n                let message = this.secureMessageHtml(data[k]);\n\n                // append open graph data on message\n                if (data.openGraph) {\n                    message += this.createOpenGraphMessage(data.openGraph);\n                }\n\n                form.append(k, message);\n\n            } else {\n                form.append(k, data[k]);\n            }\n        });\n\n        return form;\n    }\n\n    private indexActivity(activity: SocialActivity | SocialComment) {\n\n        if (!activity || !activity.uuid) {\n            return;\n        }\n\n        // Get full path\n        if (activity.path) {\n            activity.path = this.coreService.getSsoRedirect({\n                url: activity.path,\n                application: activity.application\n            });\n        }\n        if (activity.mpath) {\n            activity.mpath = this.coreService.getSsoRedirect({\n                url: activity.mpath,\n                application: activity.application\n            });\n        }\n\n        activity.isCreator = activity.creator === iNet.username;\n        activity._editable = activity.isCreator && !activity.path;\n        activity._localNewsPin = activity.type === PINNEWS;\n\n        this.formatMessageDisplay(activity);\n        this._indexAttachments(activity);\n        this.indexPolicies(activity);\n    }\n\n    private _indexAttachments(activity) {\n        activity.images = [];\n        activity.files = [];\n        activity.attachments.forEach((item: Attachment) => {\n            let params: any = {\n                binary: item.uuid\n            };\n            let isComment = activity.hasOwnProperty('activityID');\n            if (isComment) {\n                params.activity = activity.activityID;\n                params.comment = activity.uuid;\n                item.pathView = this.commentViewUrl(params);\n                item.pathDownLoad = this.commentDownLoadUrl(params);\n            } else {\n                params.activity = activity.uuid;\n                item.pathView = this.activityViewUrl(params);\n                item.pathDownLoad = this.activityDownLoadUrl(params);\n            }\n\n            if (this.isImage(item.mimetype)) {\n                activity.images.push(item);\n            } else {\n\n                if (this._isSupportViewOnline(item.file)) {\n                    if (isComment) {\n                        item.pathViewOnline = this.commentViewOnlineUrl(params);\n                    } else {\n                        item.pathViewOnline = this.activityViewOnlineUrl(params);\n                    }\n                }\n\n                if (this._isPdf(item.file)) {\n                    item.pathViewPdf = item.pathView;\n                }\n\n                activity.files.push(item);\n            }\n\n        });\n    }\n\n    private _isSupportViewOnline(filename: string) {\n        return this.fileFormatService.getEditFormats().indexOf(this._getExt(filename)) > -1;\n    }\n\n    private _isPdf(filename: string) {\n        return this._getExt(filename) === 'pdf';\n    }\n\n    private _getExt(name: string): string {\n        let temp = name.split('.');\n        if (temp.length > 1) {\n            return temp[temp.length - 1].toLowerCase();\n        } else {\n            return '';\n        }\n    }\n\n    private indexPolicies(activity) {\n        activity._policies = [];\n\n        if (activity.published) {\n            // Publish\n            activity._policies.push(SHARE_PUBLISH);\n        } else {\n\n            activity.policies.forEach(item => {\n                if (item.inherit) {\n                    return;\n                }\n                let policy = {\n                    member: item.category,\n                    display: item.display || item.category,\n                    policy: item.policy\n                };\n                activity._policies.push(policy);\n            });\n\n            activity._policies = this.splitPolicies(activity._policies);\n\n            // Add icon\n            activity._policies.forEach((item, index) => {\n                if (!item.hasOwnProperty('icon')) {\n                    activity._policies[index] = {\n                        id: item.member,\n                        display: item.display,\n                        icon: this.getIconByType(item.policy),\n                        value: [item]\n                    };\n                }\n            });\n        }\n\n        // Policies display\n        if (activity._policies.length <= 4) {\n            activity._policiesStr = '';\n            activity._policies.forEach(item => {\n                if (item === SHARE_ME) {\n                    return;\n                }\n                activity._policiesStr += item.display + ', ';\n            });\n            activity._policiesStr = activity._policiesStr.slice(0, -2);\n        } else {\n            activity._policiesStr = activity._policies[0].display;\n            activity._policiesStr += ' vÃ  ' + (activity._policies.length - 2) + ' ngÆ°á»i khÃ¡c';\n        }\n    }\n\n    getIconByType(policy: string) {\n        switch (policy) {\n            case Policy.Company:\n                return PolicyIcon.Company;\n            case Policy.Friend:\n                return PolicyIcon.Friend;\n            default:\n                return '';\n        }\n    }\n\n    private splitPolicies(policies) {\n        if (policies.length > 0) {\n            let allCompany, allFriend;\n\n            for (let i = 0; i < policies.length; i++) {\n                let item = policies[i];\n                if (this.isAllFriend(item)) {\n                    allFriend = item;\n                } else if (this.isAllCompany(item)) {\n                    allCompany = item;\n                } else if (this.isOnlyMe(item)) {\n                    policies[i] = SHARE_ME;\n                }\n            }\n\n            if (allFriend) {\n                policies[policies.indexOf(allFriend)] = SHARE_FRIEND;\n            } else if (allCompany) {\n                policies[policies.indexOf(allCompany)] = SHARE_COMPANY;\n            }\n        }\n        return policies;\n    }\n\n    private isAllCompany(policy): boolean {\n        return policy.display === Policy.Company &&\n            policy.policy === Policy.Company;\n    }\n\n    private isAllFriend(policy): boolean {\n        return policy.member === PolicyValueAll &&\n            policy.policy === Policy.Friend;\n    }\n\n    private isOnlyMe(policy): boolean {\n\n        return policy.member === iNet.username &&\n            policy.policy === Policy.Individual;\n    }\n\n    private isImage(mimeType: string): boolean {\n        return mimeType.indexOf('image') > -1;\n    }\n\n    /**\n     * Remove html tag on message\n     */\n    private secureMessageHtml(message: string) {\n        const $el = $('<div>').html(message);\n        $el.find(this._removeTags.join(',')).remove();\n        return $el.text();\n    }\n\n    /**\n     * Format message and open graph data to display\n     */\n    private formatMessageDisplay(activity: SocialActivity) {\n\n        // Get social data message\n        let dataSocial = this.parseSocialDataMessage(activity);\n\n        // Only get first item\n        if (dataSocial[SocialTag.OpenGraph].length > 0) {\n            activity._openGraph = dataSocial[SocialTag.OpenGraph][0];\n        }\n        if (dataSocial[SocialTag.LocalNews].length > 0) {\n            activity._localNews = dataSocial[SocialTag.LocalNews][0];\n            activity._localNews.url = activity.path;\n        }\n\n        // remove script and style\n        let message = activity.message = this.secureMessageHtml(activity.message);\n\n        // Beak line\n        message = HtmlUtils.formatHtmlDisplay(message);\n\n        // link\n        message = message.replace(/(https?:\\/\\/[^\\s]+)/g, function (url) {\n            return '<a href=\"' + url + '\" target=\"_blank\" rel=\"nofollow noopener\">' + url + '</a>';\n        });\n\n        activity._displayMessage = message;\n    }\n\n    createOpenGraphMessage(openGraph: Object): string {\n        let value = this.encodeBase64(JSON.stringify(this.convertLinks(openGraph)))\n        return 'uri_message:link_preview:' + value;\n    }\n\n    convertLinks(data) {\n        let param = {};\n        param['title'] = data['title'];\n        param['image'] = data['image'];\n        param['description'] = data['description'];\n        param['url'] = data['url'];\n        param['finalUrl'] = data['site_name'].toUpperCase();\n        return param;\n    }\n\n    encodeBase64(str: string) {\n        return window.btoa(unescape(encodeURIComponent(str)));\n    }\n\n\n    createLocalNewsMessage(localNews: Object): string {\n        return this._createTagMessage(SocialTag.LocalNews, localNews);\n    }\n\n    // parseSocialDataMessage(activity: SocialActivity | SocialComment): Object {\n    //     let data = {};\n    //     let $el = $('<div>').html(activity.message);\n    //\n    //     for (let tag in SocialTag) {\n    //         let tagName = SocialTag[tag];\n    //         data[tagName] = [];\n    //         $el.find(tagName).each(function () {\n    //             try {\n    //                 data[tagName].push(JSON.parse(this.innerHTML));\n    //             } catch (e) {\n    //             }\n    //\n    //             // Remove tag after extract data\n    //             this.remove();\n    //         });\n    //     }\n    //\n    //     // Apply message after extract data\n    //     activity.message = $el.html();\n    //\n    //     return data;\n    // }\n    parseSocialDataMessage(activity: SocialActivity | SocialComment): Object {\n        let data = {};\n        for (let tag in SocialTag) {\n            let tagName = SocialTag[tag];\n            data[tagName] = [];\n        }\n\n        let message = activity.message;\n        let index = message.indexOf(\"uri_message\");\n        if(index > -1){\n            message = message.substring(index);\n            let typeMessages = message.split(\":\");\n            if(typeMessages.length === 3){\n                if (typeMessages[0] === 'uri_message' && typeMessages[1] === 'link_preview') {\n                    try {\n                        let __messageLink = JSON.parse(this.decodeBase64(typeMessages[2]));\n                        data[SocialTag.OpenGraph].push(__messageLink );\n                    } catch (e) {\n\n                    }\n                }\n            }\n            // Apply message after extract data\n            activity.message = activity.message.substring(0,index);\n        }\n        return data;\n    }\n    decodeBase64(str: string) {\n        return decodeURIComponent(escape(window.atob(str)));\n    }\n    private _createTagMessage(tagName: string, data: Object): string {\n        let tag = document.createElement(tagName);\n        tag.innerText = JSON.stringify(data);\n        tag.style.display = 'none';\n        tag.hidden = true;\n        return tag.outerHTML;\n    }\n}\n\nexport interface FavoriteParams {\n    activity: string;\n    remove?: boolean;\n}\n\nexport interface BinaryParams {\n    binary: string;\n    activity?: string;\n    comment?: string;\n}\n","import {Component} from '@angular/core';\n@Component({\n  selector: 'social-wall',\n  template: '<div socialActivityList></div>'\n})\nexport class SocialComponent {}\n","import {Member} from './Member';\nimport {Attachment} from './Attachment';\nimport {SocialMember} from './Config';\n\nexport class SocialActivity {\n  activityID?: string;\n  alias?: string;\n\n  application?: string;\n\n  contextID?: string;\n\n  mpath?: string;\n\n  path?: string;\n\n  attachments?: Attachment[];\n\n  avataUrl?: string;\n\n  count?: number;\n\n  fullname?: string;\n\n  creator?: string;\n\n  // Available for external user\n  external?: boolean;\n\n  firmContext?: string;\n\n  likeCount?: number;\n\n  likeStatus?: boolean;\n\n  message?: string;\n\n  organId?: string;\n\n  policies?: Member[];\n\n  // Have poll attached\n  pollAttached?: boolean;\n\n  posted?: number;\n\n  lastUpdate?: number;\n\n  published?: boolean;\n\n  type?: string;\n\n  uuid?: string;\n\n  comments?: any[];\n  images?: any[];\n  files?: any[];\n  editing?: boolean;\n  isCreator?: boolean;\n  _policies?: SocialMember[];\n  _policiesStr?: string;\n  _displayMessage?: string;\n  _openGraph?: any;\n  _localNews?: any;\n  _editable?: boolean;\n  _localNewsPin?: boolean;\n}\n","import {\n    Component,\n    ElementRef,\n    ViewChild,\n    AfterViewInit,\n    OnDestroy,\n    OnInit,\n    Input\n} from '@angular/core';\nimport {SocialService} from '../social.service';\nimport {\n    Policy, SHARE_COMPANY, SHARE_FRIEND, SHARE_ME,\n    SHARE_PUBLISH, SocialMember\n} from '../model/Config';\nimport {AccentService} from 'inet-core';\nimport {SocialActivity} from \"../model/Activity\";\nimport {SocialComment} from \"../model/Comment\";\n\n@Component({\n    selector: '[socialShareMember]',\n    templateUrl: './share-member.component.html',\n    styleUrls: [\n        '../styles/user-styles.css',\n        './share-member.component.css'\n    ]\n})\nexport class ShareMemberComponent implements OnInit, OnDestroy, AfterViewInit {\n    @ViewChild('shareModal') shareModal;\n    @ViewChild('searchInput') inputMember: ElementRef;\n    @ViewChild('contactList') contactList: ElementRef;\n\n    @Input() companyMode: boolean = true;\n    @Input() activity: SocialActivity | SocialComment;\n\n    categories: SocialMember[];\n\n    companyCategories: SocialMember[] = [\n        SHARE_COMPANY,\n        SHARE_ME\n    ];\n\n    communityCategories: SocialMember[] = [\n        SHARE_PUBLISH,\n        SHARE_FRIEND,\n        SHARE_ME\n    ];\n\n    groups: SocialMember[] = [];\n\n    // All groups, members\n    contacts: SocialMember[] = [];\n\n    // Groups, members active\n    members: SocialMember[] = [];\n\n    friends: SocialMember[] = [];\n\n    // Search data\n    searchContacts: SocialMember[] = [];\n    selectContacts: SocialMember[] = [];\n\n    showMenu: boolean = false;\n\n    displayIcon: string;\n    display: string;\n    policies: Policy[] = [];\n\n    customActive: boolean = false;\n\n    private _matchContacts: SocialMember[] = [];\n    private _params = {\n        pageSize: 10,\n        pageNumber: 0,\n        loading: false\n    };\n    private _modalShowObserver;\n\n    constructor(\n        private socialService: SocialService,\n        private accentService: AccentService\n    ) { }\n\n    ngOnInit() {\n        document.body.appendChild(this.shareModal._element.nativeElement);\n\n        this.onCloseMenu = this.onCloseMenu.bind(this);\n        document.addEventListener('click', this.onCloseMenu);\n\n        this.init();\n\n        setTimeout(() => {\n            if (this.activity) {\n                this.setPolicies(this.activity._policies);\n            } else {\n                this.setPolicies();\n            }\n        }, 100);\n    }\n\n    ngOnDestroy() {\n        document.removeEventListener('click', this.onCloseMenu);\n        this._modalShowObserver.unsubscribe();\n    }\n\n    ngAfterViewInit() {\n        this._modalShowObserver = this.shareModal.onShown.subscribe(() => {\n            this._focusInputMember();\n            this.searchMember();\n        });\n    }\n\n    init() {\n\n        if (this.companyMode) {\n            this.categories = this.companyCategories;\n\n            // Load all users company\n            let userAdded = [];\n            this.socialService.searchMember({pageSize: -1}, (members) => {\n                members.forEach(member => {\n                    let user = <SocialMember>this._createSocialMember({\n                        member: member.username,\n                        display: member.fullname,\n                        policy: Policy.Individual\n                    });\n                    user.username = member.username;\n                    this.contacts.push(user);\n                });\n\n                this._sortMembers(this.contacts);\n\n            });\n\n        } else {\n            this.categories = this.communityCategories;\n\n            // Load all groups\n            this.socialService.listGroups((groups) => {\n                groups.forEach(group => {\n                    let member = this._createSocialMember({\n                        display: group,\n                        member: group,\n                        policy: Policy.Friend\n                    });\n                    member.group = true;\n                    this.groups.push(member);\n                    this.contacts.push(member);\n                });\n\n                this._sortMembers(this.groups);\n                this._sortMembers(this.contacts);\n            });\n\n            // Load all friends\n            this.socialService.listFriends({pageSize: -1}, (members) => {\n                members.forEach(member => {\n                    let user = this._createSocialMember({\n                        member: member.usercode,\n                        display: member.fullname,\n                        policy: Policy.Individual\n                    });\n                    user.username = member.usercode;\n                    this.friends.push(user);\n                    this.contacts.push(user);\n                });\n\n                this._sortMembers(this.friends);\n                this._sortMembers(this.contacts);\n\n            });\n        }\n\n        this.categories.forEach(category => category._index = this._indexKeyToSearch(category.display));\n        this.contacts = this.categories.slice();\n\n    }\n\n    setDefault() {\n        this._resetActive();\n        this._resetModal();\n        this.closeMenu();\n    }\n\n    setPolicies(members?: SocialMember[]) {\n\n        this.setDefault();\n\n        if (!members || members.length < 1) {\n            members = [this.categories[0]];\n        }\n\n        // Set active category or group\n        if (members.length === 1 && (members[0].category || members[0].group)) {\n            members[0].active = true;\n        } else {\n            this.customActive = true;\n        }\n\n        let displays = [], policies = [];\n        for (let i = 0; i < members.length; i++) {\n            let member = members[i];\n            displays.push(member.display);\n            policies = policies.concat(member.value);\n        }\n\n        this.policies = policies;\n        this.display = displays.join(', ');\n        this.displayIcon = members[0].icon;\n        this.members = members;\n\n    }\n\n    injectPolicies(params: any) {\n        if (this.policies.length < 1) {\n            params.published = true;\n            // params.element = JSON.stringify('[]');\n        } else {\n            params.element = JSON.stringify(this.policies);\n        }\n        return params;\n    }\n\n    selectMember(member: SocialMember) {\n        this.setPolicies([member]);\n        this.closeMenu();\n    }\n\n    onCloseMenu() {\n        if (!this.isOpening()) {\n            this.showMenu = false;\n        }\n    }\n\n    openSelectCustom() {\n        this.selectContacts = this.members.slice();\n        this.shareModal.show();\n        this._updateSelectContacts();\n    }\n\n    closeMenu() {\n        this.showMenu = false;\n    }\n\n    openMenu() {\n        this.showMenu = true;\n    }\n\n    searchMember() {\n        let value = this._indexKeyToSearch(this._getSearchKeyword());\n        if (value) {\n            this._matchContacts = this.contacts.filter(member => {\n                return member._index.indexOf(value) > -1 ||\n                    (typeof member.id === 'string' && member.id.indexOf(value) > -1);\n            });\n        } else {\n            this._matchContacts = this.contacts;\n        }\n        this._loadContacts(true);\n    }\n\n    addMember(member: SocialMember) {\n        member.selected = !member.selected;\n        if (member.selected) {\n            if (!this.hasSelectedMember(member)) {\n                this.selectContacts.push(member);\n            }\n        } else {\n            this.removeMember(member);\n        }\n    }\n\n    removeMember(member: SocialMember) {\n        let index = this.getIndexMemberSelected(member);\n        if (index > -1) {\n            member.selected = false;\n            this.selectContacts.splice(index, 1);\n        }\n    }\n\n    hasSelectedMember(member: SocialMember): boolean {\n        return this.getIndexMemberSelected(member) > -1;\n    }\n\n    getIndexMemberSelected(member: SocialMember) {\n        for (let i = 0; i < this.selectContacts.length; i++) {\n            if (this.selectContacts[i].id === member.id) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    isOpening() {\n        return this.shareModal.isShown;\n    }\n\n    cancelChanges(e) {\n        e.stopPropagation();\n        this.shareModal.hide();\n    }\n\n    saveChanges(e) {\n        e.stopPropagation();\n        this.setPolicies(this.selectContacts);\n        this.shareModal.hide();\n        this.closeMenu();\n    }\n\n    onScrollContact(e) {\n        let node = e.target;\n        if (!this._params.loading && node.scrollHeight - (node.scrollTop + node.clientHeight) <= 40) {\n            this._loadContacts();\n        }\n    }\n\n    private _scrollTopModal() {\n        this.contactList.nativeElement.scrollTop = 0;\n    }\n\n    private _updateSelectContacts() {\n        this.contacts.forEach(member => member.selected = this.hasSelectedMember(member));\n    }\n\n    private _resetActive() {\n        this.categories.forEach(cat => cat.active = false);\n        this.groups.forEach(group => group.active = false);\n        this.customActive = false;\n    }\n\n    private _resetModal() {\n        this._params.loading = false;\n        this._params.pageNumber = 0;\n        this._matchContacts = [];\n        this.selectContacts = [];\n        this.searchContacts = [];\n        this._setSearchKeyword('');\n    }\n\n    private _loadContacts(init?: boolean) {\n        this._params.loading = true;\n        if (init) {\n            this._scrollTopModal();\n            this._params.pageNumber = 0;\n            this.searchContacts = [];\n        }\n        this.searchContacts = this.searchContacts.concat(this._matchContacts.slice(\n            this._params.pageNumber * this._params.pageSize,\n            (this._params.pageNumber + 1) * this._params.pageSize));\n\n        this._params.pageNumber += 1;\n        this._params.loading = !this._hasContacts();\n    }\n\n    private _hasContacts() {\n        return this._matchContacts.length > this._params.pageNumber * this._params.pageSize;\n    }\n\n    private _sortMembers(members: SocialMember[]) {\n        members.sort((a, b) => a.display.localeCompare(b.display));\n    }\n\n    private _indexKeyToSearch(str: string): string {\n        return this.accentService.viToEn(str).toLowerCase();\n    }\n\n    private _createSocialMember(policyItem): SocialMember {\n        return {\n            id: policyItem.member,\n            display: policyItem.display,\n            icon: this.socialService.getIconByType(policyItem.policy),\n            value: [policyItem],\n            _index: this._indexKeyToSearch(policyItem.display)\n        };\n    }\n\n    private _focusInputMember() {\n        this.inputMember.nativeElement.focus();\n    }\n\n    private _setSearchKeyword(value: string) {\n        this.inputMember.nativeElement.value = value;\n    }\n\n    private _getSearchKeyword() {\n        return this.inputMember.nativeElement.value;\n    }\n}\n","import {Component, ElementRef} from \"@angular/core\";\n\n@Component({\n    selector: 'progress-indicator',\n    templateUrl: './progress.component.html',\n    styleUrls: ['./progress.component.css']\n})\nexport class ProgressComponent {\n\n    constructor(private el: ElementRef) {\n        this.hide();\n    }\n\n    show() {\n        this.el.nativeElement.hidden = false;\n    }\n\n    hide() {\n        this.el.nativeElement.hidden = true;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Output,\n    Input,\n    ViewChild,\n    ElementRef,\n    OnInit,\n    OnDestroy\n} from '@angular/core';\nimport {SocialActivity} from '../model/Activity';\nimport {SocialComment} from '../model/Comment';\nimport {ShareMemberComponent} from '../share-member/share-member.component';\nimport {AutoSizeDirective} from 'inet-core';\nimport {SocialService} from \"../social.service\";\nimport {ProgressComponent} from \"../progress/progress.component\";\nimport {LinkPreviewComponent, FileListItem} from \"inet-ui\";\ndeclare let $: any;\n\n@Component({\n    selector: '[activityPost]',\n    templateUrl: './activity-post.component.html',\n    styleUrls: ['./activity-post.component.css']\n})\n\nexport class ActivityPostComponent implements OnInit, OnDestroy {\n    @Input() activity: SocialActivity;\n    @Input() shareMemberEnable: boolean = false;\n    @Input() linkPreviewEnable: boolean = false;\n    @Input() enterPost: boolean = false;\n    @Input() showWithAnimation: boolean = false;\n    @Input() placeHolder: string = 'Ná»i dung chia sáº»...';\n    @Input() companyMode: boolean = true;\n\n    @Output() onCancel = new EventEmitter<any>();\n    @Output() onPost = new EventEmitter<any>();\n\n    @ViewChild('postElement') postElement: ElementRef;\n    @ViewChild('messageEl') messageEl: ElementRef;\n    @ViewChild(ShareMemberComponent) shareMember: ShareMemberComponent;\n    @ViewChild(AutoSizeDirective) messageAutoSize: AutoSizeDirective;\n    @ViewChild(LinkPreviewComponent) linkPreview: LinkPreviewComponent;\n    @ViewChild(ProgressComponent) indicator: ProgressComponent;\n\n    message: string = '';\n    files: FileListItem[] = [];\n    removeFiles: FileListItem[] = [];\n\n    // Detect link with space at end \"http://innetcloud.vn \"\n    private linkRegex = /(https?:\\/\\/[^\\s]+)/;\n    private postEl;\n    private _clickOut: boolean = false;\n\n    constructor(private socialService: SocialService) { }\n\n    ngOnInit() {\n        this.postEl = this.postElement.nativeElement;\n\n        // on paste detect link\n        this.messageEl.nativeElement.addEventListener('paste', () => {\n            setTimeout(() => {\n                this.detectLink();\n            }, 0);\n        });\n\n        this.focusOutHideForm = this.focusOutHideForm.bind(this);\n        document.addEventListener('click', this.focusOutHideForm);\n\n        if (this.activity) {\n            this.editActivity(this.activity);\n        }\n    }\n\n    ngOnDestroy() {\n        document.removeEventListener('click', this.focusOutHideForm);\n    }\n\n    focusOutHideForm(e) {\n        // Click inside\n        if (e.target.isSameNode(this.postEl) || this.postEl.contains(e.target)) {\n            return;\n        }\n        if (this._clickOut) {\n            return;\n        }\n\n        this._clickOut = true;\n        if (!this.isFocusForm() && !this.hasData() && !this.isShareMemberOpening()) {\n            this.closeForm();\n        }\n        setTimeout(() => {\n            this._clickOut = false;\n        }, 500);\n    }\n\n    isFocusForm() {\n        return $(this.postEl).find(':focus').length > 0;\n    }\n\n    enterPostForm(e) {\n        if (this.enterPost) {\n            e.preventDefault();\n            this.postActivity();\n        }\n    }\n\n    postActivity() {\n        const params = this.getData();\n        if (!params.message) {\n            this.focusMessage();\n            return;\n        }\n        this.onPost.emit(params);\n        this.indicator.show();\n    }\n\n    getData() {\n        let params: any = {\n            message: this.message\n        };\n\n        // File upload\n        for (let i = 0; i < this.files.length; i++) {\n            if (!this.files[i].id) {\n                params['file-' + i] = this.files[i];\n            }\n        }\n\n        // File removed\n        const fileRemoved = this.getUuidFileRemoved();\n        if (fileRemoved) {\n            params.gridfsUUID = fileRemoved;\n        }\n\n        if (this.activity) {\n            params.activity = this.activity.uuid;\n        }\n\n        if (this.shareMember) {\n            this.shareMember.injectPolicies(params);\n        }\n\n        if (this.linkPreview && this.linkPreview.getData()) {\n            params.openGraph = this.linkPreview.getData();\n        }\n\n        return params;\n    }\n\n    hasData() {\n        return this.message || this.files.length;\n    }\n\n    editActivity(activity: SocialActivity | SocialComment) {\n        this.resetForm();\n\n        this.activity = activity;\n\n        this.message = activity.message;\n\n        this.files = this.socialService.attachmentToFiles(activity.attachments);\n\n        this.focusMessage();\n\n        // if (this.shareMember) {\n        //     this.shareMember.setPolicies(activity._policies);\n        // }\n\n        if (activity._openGraph && this.linkPreview) {\n            this.linkPreview.setData(activity._openGraph);\n        }\n\n        this.showForm(true);\n\n        // Trigger input to adjust size\n        this.resizeInput();\n\n    }\n\n    resetForm() {\n\n        // Clear data\n        this.message = '';\n        this.files.length = 0;\n        this.removeFiles.length = 0;\n\n        if (this.linkPreview) {\n            this.linkPreview.clearData();\n        }\n\n        if (this.indicator) {\n            this.indicator.hide();\n        }\n\n        this.resizeInput();\n    }\n\n    typeMessage() {\n        if (this.message.trim() && this.message.slice(-1) === ' ') {\n            this.detectLink();\n        }\n    }\n\n    closeForm() {\n        this.resetForm();\n        this.hideForm(true);\n\n        if (this.activity) {\n            this.onCancel.emit(this.activity);\n            this.activity = null;\n        }\n    }\n\n    showForm(noTransition?: boolean) {\n        if (this.postEl.isShow) {\n            return;\n        }\n\n        if (!this.showWithAnimation && !noTransition) {\n            noTransition = true;\n        }\n\n        if (noTransition) {\n            this.setFormHeight('auto');\n            this.postEl.style.overflow = 'visible';\n        } else {\n            this.setPostHeight();\n            setTimeout(() => {\n                this.setFormHeight('auto');\n                this.postEl.style.overflow = 'visible';\n            }, 400);\n        }\n        this.focusMessage();\n        this.postEl.isShow = true;\n    }\n\n    hideForm(noTransition?: boolean) {\n        if (!this.postEl.isShow) {\n            return;\n        }\n\n        if (!this.showWithAnimation && !noTransition) {\n            noTransition = true;\n        }\n\n        if (noTransition) {\n            this.setFormHeight('');\n        } else {\n            this.setPostHeight();\n            setTimeout(() => {\n                this.setFormHeight('');\n            }, 0);\n        }\n        this.postEl.style.overflow = 'hidden';\n        this.postEl.isShow = false;\n    }\n\n    isShareMemberOpening() {\n        return this.shareMember && this.shareMember.isOpening();\n    }\n\n    focusMessage() {\n        this.messageEl.nativeElement.focus();\n    }\n\n    resizeInput() {\n        setTimeout(() => {\n            this.messageAutoSize.adjust();\n        }, 0);\n    }\n\n    private detectLink() {\n        if (!this.linkPreviewEnable || !this.linkPreview) {\n            return;\n        }\n\n        // Only one link preview\n        if (this.linkPreview.isPreview()) {\n            return;\n        }\n\n        let links = this.linkRegex.exec(this.message);\n        if (links && links.length > 0) {\n            this.linkPreview.setLink(links[0]);\n        }\n    }\n\n    private setPostHeight() {\n        this.setFormHeight(this.postEl.scrollHeight + 'px');\n    }\n\n    private setFormHeight(height: string) {\n        this.postEl.style.height = height;\n    }\n\n    private getUuidFileRemoved(): string {\n        return this.removeFiles.filter(file => file.id).map(file => file.id).join(',');\n    }\n}\n","import {Component, Input, OnInit, Output, EventEmitter} from '@angular/core';\nimport {SocialActivity} from \"../model/Activity\";\nimport {SocialService} from \"../social.service\";\n\n@Component({\n    selector: 'social-discussion',\n    templateUrl: './social-embed.component.html',\n    styleUrls: [\n        './social-embed.component.css'\n    ]\n})\nexport class SocialEmbedComponent implements OnInit {\n    @Input() activityID: string;\n    @Input() contextID: string;\n    @Input() application: string;\n    @Input() activity: SocialActivity;\n\n    @Input() allowComment: boolean = true;\n\n    @Output() onLoad = new EventEmitter<any>();\n    @Output() onError = new EventEmitter<any>();\n\n    totalComments: number = 0;\n\n    constructor(\n        private socialService: SocialService\n    ) {}\n\n    ngOnInit() {\n        if (this.activity) {\n            this._loaded();\n        } else {\n            this._loadActivity();\n        }\n    }\n\n    private _loadActivity() {\n        let params: any;\n        if (this.activityID) {\n            params = {\n                activity: this.activityID\n            };\n        } else if (this.contextID && this.application) {\n            params = {\n                contextID: this.contextID,\n                application: this.application\n            };\n        }\n\n        if (params) {\n            this.socialService.activityLoad(params, (activity, err) => {\n                if (err) {\n                    this.onError.emit(err);\n                } else {\n                    if (activity.errors) {\n                        this.onError.emit(activity);\n                    } else {\n                        this.activity = activity;\n                        this._loaded();\n                    }\n                }\n            });\n        } else {\n            this.onError.emit({\n                message: 'NOT_FOUND'\n            });\n        }\n    }\n\n    private _loaded() {\n        this.onLoad.emit(this.activity);\n    }\n}\n","import {\n    AfterViewInit, Component, ElementRef, EventEmitter, Input, OnDestroy, Output, TemplateRef,\n    ViewChild\n} from '@angular/core';\nimport {SocialService} from '../social.service';\nimport {SocialActivity} from '../model/Activity';\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\ndeclare let $: any;\n\n@Component({\n    selector: '[socialActivity]',\n    templateUrl: './activity.component.html',\n    styleUrls: ['./activity.component.css']\n})\nexport class ActivityComponent implements AfterViewInit, OnDestroy {\n    @Input() activity: SocialActivity;\n\n    @Output() onUpdated = new EventEmitter<any>();\n    @Output() onDeleted = new EventEmitter<any>();\n\n    @ViewChild('policiesDisplay') policiesDisplay: ElementRef;\n    @ViewChild('tmpConfirmDelete') tmpConfirmDelete: TemplateRef<any>;\n\n    viewDate: string;\n    editing: boolean = false;\n\n    private _modalRef: BsModalRef;\n\n    constructor(\n        private socialService: SocialService,\n        private modalService: BsModalService\n    ) {\n        this.viewDate = this.socialService.viewDate;\n    }\n\n    ngAfterViewInit() {\n        if (this.policiesDisplay) {\n            let title = [];\n            let maxDisplay = 8;\n            for (let i = 0; i < this.activity._policies.length; i++) {\n                title.push(this.activity._policies[i].display);\n                if (title.length >= maxDisplay) {\n                    title.push('vÃ  ' + (this.activity._policies.length - maxDisplay) + ' ngÆ°á»i khÃ¡c...');\n                    break;\n                }\n            }\n            $(this.policiesDisplay.nativeElement)['tooltip']({\n                title: title.join('<br>'),\n                html: true\n            });\n        }\n    }\n\n    ngOnDestroy() {\n        this.declineDelete();\n    }\n\n    activityEdit() {\n        this.editing = true;\n    }\n\n    activityCancelEdit() {\n        this.editing = false;\n    }\n\n    activityDelete() {\n        this._modalRef = this.modalService.show(this.tmpConfirmDelete, {class: 'modal-sm'});\n    }\n\n    confirmDelete() {\n        this.socialService.activityRemove({activity: this.activity.uuid}, (activity: SocialActivity) => {\n            if (activity && activity.uuid) {\n                this.onDeleted.emit(activity);\n            }\n        });\n    }\n\n    declineDelete() {\n        if (this._modalRef) {\n            this._modalRef.hide();\n            this._modalRef = null;\n        }\n    }\n\n    activityLike() {\n        const params = {\n            activity: this.activity.uuid\n        };\n        this.activity.likeStatus = !this.activity.likeStatus;\n        if (this.activity.likeStatus) {\n            this.activity.likeCount++;\n            this.socialService.activityLike(params, data => {\n            });\n        } else {\n            this.activity.likeCount--;\n            this.socialService.activityUnLike(params, data => {\n            });\n        }\n    }\n\n    activityUpdate(data) {\n        this.socialService.activityUpdate(data, (activity: SocialActivity) => {\n            if (activity && activity.uuid) {\n                this.onUpdated.emit(activity);\n                this.editing = false;\n            }\n        });\n    }\n}\n","import {SocialActivity} from \"./Activity\";\n\nexport class SocialComment extends SocialActivity {\n  activityID?: string;\n  policyInherit?: boolean;\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {SocialComment} from '../model/Comment';\nimport {SocialService} from '../social.service';\n\n@Component({\n    selector: '[socialComment]',\n    templateUrl: './comment.component.html',\n    styleUrls: ['./comment.component.css']\n})\nexport class CommentComponent {\n    @Input() comment: SocialComment;\n    @Input() editable: boolean = true;\n\n    @Output() onUpdated = new EventEmitter<SocialComment>();\n    @Output() onDeleted = new EventEmitter<SocialComment>();\n\n    viewDate: string;\n    editing: boolean;\n\n    constructor(\n        private socialService: SocialService\n    ) {\n        this.viewDate = this.socialService.viewDate;\n    }\n\n    commentCancelEdit() {\n        this.editing = false;\n    }\n\n    commentEdit() {\n        this.editing = true;\n    }\n\n    commentUpdate(params) {\n        this.socialService.commentUpdate(params, (comment: SocialComment) => {\n            if (comment && comment.uuid) {\n                this.commentCancelEdit();\n                this.onUpdated.emit(comment);\n            }\n        });\n    }\n\n    commentDelete() {\n        this.socialService.commentRemove({\n            comment: this.comment.uuid,\n            activity: this.comment.activityID\n        }, (comment: SocialComment) => {\n            if (comment && comment.uuid) {\n                this.onDeleted.emit(comment);\n            }\n        });\n    }\n\n    commentLike() {\n        const params = {\n            activity: this.comment.activityID,\n            comment: this.comment.uuid,\n        };\n        this.comment.likeStatus = !this.comment.likeStatus;\n        if (this.comment.likeStatus) {\n            this.comment.likeCount++;\n            this.socialService.commentLike(params, data => {});\n        } else {\n            this.comment.likeCount--;\n            this.socialService.commentUnLike(params, data => {});\n        }\n    }\n}\n","import {AfterViewInit, Component, ElementRef, OnDestroy, ViewChild} from '@angular/core';\nimport {SocialActivity} from '../model/Activity';\ndeclare let $: any;\n\n@Component({\n  selector: 'app-social-modal-view',\n  templateUrl: './modal-view.component.html',\n  styleUrls: ['./modal-view.component.css']\n})\nexport class SocialModalViewComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('viewModal') viewModal: ElementRef;\n  activity: SocialActivity;\n  $modal: any;\n\n  constructor() { }\n\n  ngAfterViewInit() {\n    this.$modal = $(this.viewModal.nativeElement);\n\n    this.$modal.on('hidden.bs.modal', (e) => {\n      delete this.activity;\n    });\n\n    $(document.body).append(this.$modal);\n  }\n\n  ngOnDestroy() {\n    this.$modal.remove();\n  }\n\n  viewActivity(activity: SocialActivity) {\n    this.activity = activity;\n    setTimeout(() => {\n      this.$modal.modal('show');\n    }, 100);\n  }\n}\n","import {Component, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {SocialService} from '../social.service';\nimport {SocialActivity} from '../model/Activity';\n\n@Component({\n  selector: 'social-activity-view',\n  templateUrl: './activity-view.component.html',\n  styleUrls: ['./activity-view.component.css']\n})\nexport class ActivityViewComponent implements OnChanges {\n  @Input() activityId: string;\n\n  activity: SocialActivity;\n  notFound: boolean;\n  constructor(\n    private socialService: SocialService\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activityId.currentValue !== changes.activityId.previousValue) {\n      this._load();\n    }\n  }\n\n  activityUpdated(activity: SocialActivity) {\n    this.activity = activity;\n  }\n\n  private _load() {\n    this.notFound = false;\n    this.socialService.activityLoad({\n      activity: this.activityId\n    }, (activity: SocialActivity) => {\n      if (activity && activity.uuid) {\n        this.activity = activity;\n      } else {\n        this.notFound = true;\n      }\n    });\n  }\n}\n","import {Component, Input} from '@angular/core';\nimport {SocialActivity} from '../model/Activity';\nimport {SocialComment} from '../model/Comment';\n\n@Component({\n    selector: '[messageBody]',\n    templateUrl: './message-body.component.html',\n    styleUrls: [\n        './message-body.component.css'\n    ]\n})\nexport class MessageBodyComponent {\n    @Input() feed: SocialActivity | SocialComment = {};\n}\n","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector: '[localNews]',\n  templateUrl: './localnews.component.html',\n  styleUrls: ['./localnews.component.css']\n})\nexport class LocalNews {\n  @Input() data: LocalNewsData;\n}\n\nexport interface LocalNewsData {\n  image: string\n  title: string\n  description: string\n  url?: string\n}","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {SocialActivity} from '../model/Activity';\nimport {SocialComment} from '../model/Comment';\n\n@Component({\n    selector: '[actionMore]',\n    templateUrl: './activity-action-more.component.html',\n    styleUrls: ['./activity-action-more.component.css']\n})\nexport class ActivityActionMoreComponent implements OnInit {\n    @Input() data: SocialActivity | SocialComment;\n    @Output() onEdit = new EventEmitter<any>();\n    @Output() onDelete = new EventEmitter<any>();\n\n    hasAction: boolean;\n    isActivity: boolean;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n        if (!this.data) {\n            return;\n        }\n        this.isActivity = !this.data.activityID;\n        this.hasAction = this.isActivity && this.data._editable;\n    }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {SocialFriend} from '../../model/SocialFriend';\nimport {SocialService} from '../../social.service';\nimport {FriendTab} from '../FriendTab';\n\n@Component({\n    templateUrl: './friend-browse.component.html',\n    styleUrls: [\n        '../style.css',\n        './friend-browse.component.css'\n    ]\n})\nexport class FriendBrowseComponent implements OnInit, FriendTab {\n    category: string = 'All friends';\n    members: SocialFriend[] = [];\n\n    params: any = {\n        pageSize: 20,\n        pageNumber: 0\n    };\n\n    private _timer;\n\n    constructor(\n        private socialService: SocialService\n    ) {\n    }\n\n    placeholder: string = 'TÃ¬m kiáº¿m báº¡n bÃ¨...';\n\n    clearSearchValue(): void {\n    }\n\n    onSearch(value: string): void {\n        this._searchMember(value);\n    }\n\n    ngOnInit() {\n        this._searchMember('');\n    }\n\n    inviteFriend(friend) {\n        friend.added = true;\n        this.socialService.invitationCreate({\n            member: friend.username,\n            memberName: friend.fullname,\n            type: 'FRIEND',\n            category: this.category\n        }, (response, error) => {\n        });\n    }\n\n    private _searchMember(keyword: string) {\n        if (this.params.keyword === keyword) {\n            return;\n        }\n        this.params.keyword = keyword;\n        this.params.pageNumber = 0;\n\n        clearTimeout(this._timer);\n        this._timer = setTimeout(() => {\n            this.socialService.invitationSearch(this.params, (respone, error) => {\n                if (this.params.keyword != keyword) {\n                    return;\n                }\n                const members = respone || [];\n                const userCodes = [];\n                this.members = [];\n                members.forEach(item => {\n                    if (userCodes.indexOf(item.username) < 0) {\n                        userCodes.push(item.username);\n                        if (!item.fullname) {\n                            item.fullname = item.username;\n                        }\n                        this.members.push(item);\n                    }\n                });\n            });\n        }, 500);\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {SocialFriend} from '../../model/SocialFriend';\nimport {SocialService} from '../../social.service';\n\n@Component({\n    templateUrl: './friend-invitation.component.html',\n    styleUrls: [\n        '../style.css',\n        './friend-invitation.component.css'\n    ]\n})\nexport class FriendInvitationComponent implements OnInit {\n\n    // Default group\n    category: string = 'Friends';\n\n    invitations: SocialFriend[];\n    noInvitation: boolean;\n\n    invitationsSend: SocialFriend[];\n    noInvitationSend: boolean;\n\n    constructor(\n        private socialService: SocialService\n    ) {\n    }\n\n    ngOnInit() {\n        this._loadReceiveInvite();\n        this._loadSendInvite();\n    }\n\n    acceptInvite(member) {\n        this.socialService.invitationAccept({\n            member: member.inviter,\n            category: member.category\n        }, (response, error) => {\n\n        });\n        this.invitations.splice(this.invitations.indexOf(member), 1);\n        this.noInvitation = this.invitations.length < 1;\n    }\n\n    rejectInvite(member) {\n        this.socialService.invitationReject({\n            member: member.inviter,\n            category: member.category\n        }, (response, error) => {\n\n        });\n        this.invitations.splice(this.invitations.indexOf(member), 1);\n        this.noInvitation = this.invitations.length < 1;\n    }\n\n    removeInvite(member) {\n        this.socialService.invitationDelete({\n            member: member.usercode,\n            category: member.category\n        }, (response, error) => {\n\n        });\n        this.invitationsSend.splice(this.invitationsSend.indexOf(member), 1);\n        this.noInvitationSend = this.invitationsSend.length < 1;\n    }\n\n    private _loadReceiveInvite() {\n        this.socialService.invitationReceiveList({pageSize: -1}, (respone, error) => {\n            this.invitations = respone && respone.items || [];\n            this.noInvitation = this.invitations.length < 1;\n        });\n    }\n\n    private _loadSendInvite() {\n        this.socialService.invitationSendList({pageSize: -1}, (respone, error) => {\n            this.invitationsSend = respone && respone.items || [];\n            this.noInvitationSend = this.invitationsSend.length < 1;\n        });\n    }\n}\n","import {Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {SocialService} from '../../social.service';\nimport {AccentService, CacheStorageService} from 'inet-core';\n\n@Component({\n    selector: '[socialListUser]',\n    templateUrl: './list-user.component.html',\n    styleUrls: [\n        '../../styles/user-styles.css'\n    ]\n})\nexport class ListUserComponent implements OnInit {\n    @Input() placeholder: string = 'TÃ¬m kiáº¿m...';\n    @Input() height: string = '240px';\n\n    @ViewChild('search') search: ElementRef;\n\n    members: any[] = [];\n    selectMembers: any = [];\n    showMembers: any = [];\n    matchMembers: any = [];\n\n    private _search: HTMLInputElement;\n    private _allEmployees = 'social_employees';\n    private _allFriends = 'social_friends';\n\n    constructor(\n        private socialService: SocialService,\n        private accentService: AccentService,\n        private cacheStorage: CacheStorageService\n    ) {\n\n        const employees = this.cacheStorage.getData(this._allEmployees);\n        // Cache employees on 5 minutes\n        if (employees) {\n            this._initMembers(JSON.parse(employees));\n        } else {\n            this.cacheStorage.promiseQueue(this._allEmployees,\n                (key) => {\n                    this.socialService.searchMember({pageSize: -1}, (users) => {\n                        if (users && users.length > 0) {\n                            this.cacheStorage.setData(key, JSON.stringify(users));\n                        }\n                        this.cacheStorage.resolveQueue(key, this, [users]);\n                    });\n                },\n                (users) => this._initMembers(users));\n        }\n\n        this.cacheStorage.promiseQueue(this._allFriends,\n            (key) => {\n                this.socialService.listFriends({pageSize: -1}, (users) => {\n                    this.cacheStorage.resolveQueue(key, this, [users]);\n                });\n            },\n            (users) => this._initMembers(users));\n    }\n\n    ngOnInit() {\n        this._search = this.search.nativeElement;\n    }\n\n    resetData() {\n        this.selectMembers = [];\n        this.showMembers = [];\n        this.matchMembers = [];\n        this._search.value = '';\n        this.members.forEach(item => delete item.selected);\n    }\n\n    focusInput() {\n        this._search.focus();\n    }\n\n    onSearch() {\n        let value = this._search.value.trim();\n        if (value) {\n            value = this.accentService.viToEn(value.toLowerCase());\n            this.matchMembers = this.members.filter(item => item._index.indexOf(value) > -1);\n        } else {\n            this.matchMembers = this.members;\n        }\n\n        this.showMembers = this.matchMembers;\n    }\n\n    onScroll() {\n\n    }\n\n    addMember(member) {\n        member.selected = !member.selected;\n        if (member.selected) {\n            this.selectMembers.push(member);\n        } else {\n            this.removeMember(member);\n        }\n    }\n\n    removeMember(member) {\n        this.selectMembers.splice(this.selectMembers.indexOf(member), 1);\n    }\n\n    private _initMembers(users: any[]) {\n        users.forEach(item => this._addMember(item));\n        this._sortMembers();\n    }\n\n    private _addMember(member) {\n        member.username = member.username || member.usercode;\n        if (this._hasMember(member)) {\n            return;\n        }\n        member._index = this.accentService.viToEn(member.fullname.toLowerCase()) + ' ' + member.username;\n        this.members.push(member);\n    }\n\n    private _sortMembers() {\n        this.members.sort((a, b) => a.fullname.localeCompare(b.fullname));\n    }\n\n    private _hasMember(member) {\n        for (let i = 0; i < this.members.length; i++) {\n            if (this.members[i].username === member.username) {\n                return true;\n            }\n        }\n    }\n}\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {ListUserComponent} from '../list-user/list-user.component';\n\n@Component({\n    selector: '[socialGroupMember]',\n    templateUrl: './group-member.component.html',\n    styleUrls: ['./group-member.component.css']\n})\nexport class GroupMemberComponent implements OnInit, OnDestroy {\n    @Input() title: string = 'ThÃªm thÃ nh viÃªn';\n    @Output() onSelect = new EventEmitter<any>();\n\n    @ViewChild('modal') modal;\n    @ViewChild('listUser') listUser: ListUserComponent;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n        document.body.appendChild(this.modal._element.nativeElement);\n    }\n\n    ngOnDestroy() {\n        this.modal._element.nativeElement.remove();\n    }\n\n    open() {\n        this.listUser.resetData();\n        this.modal.show();\n    }\n\n    onShown() {\n        this.listUser.focusInput();\n        this.listUser.onSearch();\n    }\n\n    onSave() {\n        this.onSelect.emit(this.listUser.selectMembers);\n        this.modal.hide();\n    }\n\n    onCancel() {\n        this.modal.hide();\n    }\n}\n","import {Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {ListUserComponent} from '../list-user/list-user.component';\nimport {SocialService} from '../../social.service';\n\n@Component({\n    selector: '[socialGroupCreate]',\n    templateUrl: './group-create.component.html',\n    styleUrls: ['./group-create.component.css']\n})\nexport class GroupCreateComponent implements OnInit, OnDestroy {\n    @Output() onCreate = new EventEmitter<any>();\n\n    @ViewChild('modal') modal;\n    @ViewChild('inputGroup') inputGroup: ElementRef;\n    @ViewChild('listUser') listUser: ListUserComponent;\n\n    private _input;\n\n    constructor(\n        private socialService: SocialService\n    ) {\n    }\n\n    ngOnInit() {\n        this._input = this.inputGroup.nativeElement;\n        document.body.appendChild(this.modal._element.nativeElement);\n    }\n\n    ngOnDestroy() {\n        this.modal._element.nativeElement.remove();\n    }\n\n    open() {\n        this._input.value = '';\n        this.listUser.resetData();\n        this.modal.show();\n    }\n\n    onShown() {\n        this._input.focus();\n        this.listUser.onSearch();\n    }\n\n    onSave() {\n        let params = {\n            category: this._input.value.trim(),\n            member: this.listUser.selectMembers.map(item => item.username).join(',')\n        };\n        if (!params.category) {\n            this._input.focus();\n            return;\n        }\n\n        if (!params.member) {\n            this.listUser.focusInput();\n            return;\n        }\n\n        this.socialService.groupMemberCreate(params, (data) => {\n            this.onCreate.emit(data);\n        });\n\n        this.modal.hide();\n    }\n\n    onCancel() {\n        this.modal.hide();\n    }\n}\n","import {Component, OnDestroy, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {SocialService} from \"../../social.service\";\nimport {NavigationEnd, Router} from \"@angular/router\";\nimport {GroupMemberComponent} from \"../group-member/group-member.component\";\nimport {GroupCreateComponent} from \"../group-create/group-create.component\";\nimport {BsModalService} from 'ngx-bootstrap';\nimport {FriendTab} from '../FriendTab';\nimport {AccentService} from 'inet-core';\nimport {filter} from \"rxjs/operators\";\n\n@Component({\n  templateUrl: './group.component.html',\n  styleUrls: [\n    '../style.css',\n    './group.component.css'\n  ]\n})\nexport class SocialGroupComponent implements OnInit, OnDestroy, FriendTab {\n  @ViewChild('modalCreateMember') modalCreateMember: GroupCreateComponent;\n  @ViewChild('modalAddMember') modalAddMember: GroupMemberComponent;\n\n  viewGroups: boolean;\n  groups: string[];\n  friends: any[] = [];\n\n  viewMembers: boolean;\n  members: any[] = [];\n  groupView: string;\n  groupActive: string;\n  memberActive: any;\n\n  modalGroupDeleteRef: any;\n  modalMemberDeleteRef: any;\n\n  noGroups: boolean;\n  noFriends: boolean;\n  searching: boolean;\n\n  private _prefix = '/social/friend';\n  private _router;\n\n  constructor(\n    private socialService: SocialService,\n    private accentService: AccentService,\n    private router: Router,\n    private modalService: BsModalService\n  ) {\n    this._loadAllFriends();\n  }\n\n  placeholder = 'TÃ¬m kiáº¿m...';\n  onSearch(value: string) {\n    this.searching = !!value;\n    if (value) {\n      value = this.accentService.viToEn(value);\n      if (this.viewGroups) {\n        this.friends.forEach(item => {\n          item.hidden = item._index.indexOf(value) < 0;\n        });\n      } else {\n        this.members.forEach(item => {\n          item.hidden = item._index.indexOf(value) < 0;\n        });\n      }\n    } else {\n      if (this.viewGroups) {\n        this.friends.forEach(item => delete item.hidden);\n      } else {\n        this.members.forEach(item => delete item.hidden);\n      }\n    }\n  }\n  clearSearchValue() { }\n\n  ngOnInit() {\n    this._router = this.router.events\n      .pipe(filter(event => event instanceof NavigationEnd))\n      .subscribe(() => {\n        this._actionView();\n      });\n    this._actionView();\n  }\n\n  ngOnDestroy() {\n    this._router.unsubscribe();\n  }\n\n  createGroup() {\n    this.modalCreateMember.open();\n  }\n\n  groupCreated() {\n    this._loadGroups();\n    this._loadAllFriends();\n  }\n\n  viewGroup(group: string) {\n    this.router.navigate([this._prefix + '/' + group]);\n  }\n\n  removeGroup(group: string, template: TemplateRef<any>) {\n    this.groupActive = group;\n    this.modalGroupDeleteRef = this.modalService.show(template);\n  }\n\n  // Todo: improve remove group\n  onDeleteGroup() {\n    this.modalGroupDeleteRef.hide();\n    this._loadFriends(this.groupActive, (members) => {\n      this.socialService.groupMemberDelete({\n        category: this.groupActive,\n        member: this._getMemberStr(members)\n      }, () => {\n        this._loadGroups();\n        this._loadAllFriends();\n        if (!this.viewGroups) {\n          this.toGroups();\n        }\n      });\n    });\n    this.groups.splice(this.groups.indexOf(this.groupActive), 1);\n  }\n\n  removeFriend(friend, template: TemplateRef<any>) {\n    this.modalMemberDeleteRef = this.modalService.show(template);\n    this.memberActive = friend;\n  }\n\n  onDeleteMember() {\n    const promises = [];\n    if (this.memberActive.categories) {\n      // Member on groups\n      this.memberActive.categories.forEach(category => {\n        promises.push(this._deleteMemberPromise(this.memberActive.usercode, category));\n      });\n    } else {\n      promises.push(this._deleteMemberPromise(this.memberActive.usercode, this.memberActive.category));\n    }\n\n    Promise.all(promises).then(values => {\n      if (this.groupView) {\n        this._loadMembers();\n      }\n      this._loadAllFriends();\n    });\n    this.modalMemberDeleteRef.hide();\n  }\n\n  private _deleteMemberPromise(usercode, category) {\n    return new Promise((resolve, reject) => {\n      this.socialService.groupMemberDelete({\n        category: category,\n        member: usercode\n      }, resolve);\n    });\n  }\n\n  addMemberGroup() {\n    this.modalAddMember.open();\n  }\n\n  saveMemberGroup(members) {\n    this.socialService.groupMemberCreate({\n      category: this.groupView,\n      member: this._getMemberStr(members)\n    }, () => {\n      this._loadMembers();\n      this._loadAllFriends();\n    });\n  }\n\n  toGroups() {\n    this.router.navigate([this._prefix]);\n  }\n\n  private _viewGroup() {\n    this.viewGroups = true;\n    this.groupView = '';\n    if (!this.groups) {\n      this._loadGroups();\n    }\n  }\n\n  private _loadGroups() {\n    this.noGroups = false;\n    this.socialService.listGroups(groups => {\n      this.groups = groups;\n      this.noGroups = groups.length < 1;\n    });\n  }\n\n  private _viewGroupMember(group: string) {\n    this.viewMembers = true;\n    this.members = [];\n    this.groupView = group;\n    this._loadMembers();\n  }\n\n  private _loadMembers() {\n    this._loadFriends(this.groupView, users => this.members = users);\n  }\n\n  private _loadAllFriends() {\n    this.friends = [];\n    this.noFriends = false;\n    this._loadFriends('', users => {\n      const tmp = [];\n      users.forEach(item => {\n        const index = tmp.indexOf(item.usercode);\n        if (index < 0) {\n          tmp.push(item.usercode);\n          item.categories = [item.category];\n          this.friends.push(item);\n        } else {\n          this.friends[index].categories.push(item.category);\n        }\n      });\n      this.noFriends = this.friends.length < 1;\n    });\n  }\n\n  private _loadFriends(category: string, callback) {\n    this.socialService.listFriends({\n      pageSize: -1,\n      category: category\n    }, (users) => {\n      users.forEach(item => {\n        item._index = this._indexSearch(item.fullname) + ' ' + item.usercode;\n      });\n      callback(users);\n    });\n  }\n\n  private _getMemberStr(members: any[]): string {\n    return members.map(item => item.usercode || item.username).join(',');\n  }\n\n  private _actionView() {\n    this.viewGroups = this.viewMembers = false;\n    const group = this.router.url.split('/')[3];\n\n    this.clearSearchValue();\n\n    if (!group) {\n      this._viewGroup();\n    } else {\n      this._viewGroupMember(decodeURIComponent(group));\n    }\n  }\n\n  private _indexSearch(value: string) {\n    return this.accentService.viToEn(value.toLowerCase());\n  }\n}\n","import {Component, EventEmitter, Output, Input, ViewChild, ElementRef, OnInit} from '@angular/core';\nimport {SocialComment} from '../model/Comment';\nimport {AutoSizeDirective} from 'inet-core';\nimport {FileListItem} from 'inet-ui';\nimport {SocialService} from \"../social.service\";\nimport {ProgressComponent} from \"../progress/progress.component\";\n\n@Component({\n    selector: '[commentPost]',\n    templateUrl: './comment-post.component.html',\n    styleUrls: ['./comment-post.component.css']\n})\nexport class CommentPostComponent implements OnInit {\n    @Input() placeholder: string = 'Ná»i dung tháº£o luáº­n..';\n    @Input() commentEdit: SocialComment;\n\n    @Output() onCancel = new EventEmitter<any>();\n    @Output() onPost = new EventEmitter<any>();\n\n    @ViewChild('messageEl') messageEl: ElementRef;\n    @ViewChild(AutoSizeDirective) messageAutoSize: AutoSizeDirective;\n    @ViewChild(ProgressComponent) indicator: ProgressComponent;\n\n    message: string = '';\n    files: FileListItem[] = [];\n    removeFiles: FileListItem[] = [];\n\n    constructor(private socialService: SocialService) { }\n\n    ngOnInit() {\n        if (this.commentEdit) {\n            this.editComment(this.commentEdit);\n        }\n    }\n\n    enterPost(event) {\n        event.preventDefault();\n        this.doPost();\n    }\n\n    doPost() {\n        const params = this.getData();\n        if (!params.message) {\n            return this.focusMessage();\n        }\n        this.onPost.emit(params);\n        this.indicator.show();\n    }\n\n    doCancel() {\n        this.onCancel.emit(this.commentEdit);\n        if (this.commentEdit) {\n            this.resetForm();\n        }\n    }\n\n    getData() {\n        let params: any = {\n            message: this.message\n        };\n\n        for (let i = 0; i < this.files.length; i++) {\n            if (!this.files[i].id) {\n                params['file-' + i] = this.files[i];\n            }\n        }\n\n        if (this.commentEdit) {\n            params.activity = this.commentEdit.activityID;\n            params.comment = this.commentEdit.uuid;\n            params.gridfsUUID = this._getRemoveFiles();\n        }\n\n        return params;\n    }\n\n    editComment(comment: SocialComment) {\n\n        this.resetForm();\n\n        this.commentEdit = comment;\n\n        this.files = this.socialService.attachmentToFiles(comment.attachments);\n\n        this.message = comment.message;\n\n        this.focusMessage();\n\n        // Trigger input to adjust size\n        this._resizeInput();\n\n    }\n\n    resetForm() {\n        // Clear data\n        this.message = '';\n\n        this.files.length = 0;\n        this.removeFiles.length = 0;\n\n        this._resizeInput();\n\n        if (this.indicator) {\n            this.indicator.hide();\n        }\n    }\n\n    focusMessage() {\n        this.messageEl.nativeElement.focus();\n    }\n\n    private _getRemoveFiles(): string {\n        return this.removeFiles.filter(file => file.id).map(file => file.id).join(',');\n    }\n\n    private _resizeInput() {\n        setTimeout(() => {\n            this.messageAutoSize.adjust();\n        }, 0);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Output,\n    SimpleChanges,\n    ViewChild\n} from '@angular/core';\nimport {SocialService} from '../social.service';\nimport {SocialActivity} from '../model/Activity';\nimport {SocialComment} from '../model/Comment';\nimport {Subscription} from \"rxjs\";\nimport {CommentPostComponent} from \"../comment-post/comment-post.component\";\n\n@Component({\n    selector: '[socialCommentList]',\n    templateUrl: './comment-list.component.html',\n    styleUrls: ['../comment/comment.component.css']\n})\nexport class CommentListComponent implements OnInit, OnChanges, OnDestroy {\n    @Input() activity: SocialActivity;\n    @Input() allowComment: boolean = true;\n\n    @Output() commentLoad = new EventEmitter<any>();\n\n    @ViewChild(CommentPostComponent) commentPost: CommentPostComponent;\n\n    remainComments: number;\n    viewDate: string;\n\n    private commentParams: any = {\n        pageSize: 5,\n        pageNumber: 0\n    };\n\n    private _commentChange: Subscription;\n\n    constructor(\n        protected socialService: SocialService\n    ) {\n\n        this.viewDate = this.socialService.viewDate;\n\n        // Receive comment notify real time\n        this._commentChange = this.socialService.commentChange.subscribe(activityId => {\n            if (activityId === this.activity.uuid) {\n                this.load(true);\n            }\n        });\n    }\n\n    ngOnInit() {\n        // this.load(true);\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        this.load(true);\n    }\n\n    ngOnDestroy() {\n        this._commentChange.unsubscribe();\n    }\n\n    focusForm() {\n        if (this.commentPost) {\n            this.commentPost.focusMessage();\n        }\n    }\n\n    commentCreate(params: any) {\n        params.activity = this.activity.uuid;\n        this.socialService.commentPost(params, this.commentPosted.bind(this));\n    }\n\n    load(isInit?: boolean) {\n        if (isInit) {\n            this.commentParams.pageNumber = 0;\n        } else {\n            this.commentParams.pageNumber++;\n        }\n\n        this.commentParams.activity = this.activity.uuid;\n\n        if (!this.activity.comments) {\n            this.activity.comments = [];\n        }\n\n        this.socialService.commentWall(this.commentParams, data => {\n            const comments = data && data['items'] || [];\n            comments.forEach(comment => this.replaceOrAddComment(comment));\n\n            this.activity.comments.sort(function (a, b) {\n                return b.posted - a.posted;\n            });\n\n            this.remainComments =\n                (data.total - (this.commentParams.pageNumber + 1) * this.commentParams.pageSize) || 0;\n\n            this.commentLoad.emit(data);\n        });\n    }\n\n    commentUpdated(comment: SocialComment) {\n        this.replaceOrAddComment(comment);\n    }\n\n    commentDeleted(comment: SocialComment) {\n        this.removeComment(comment.uuid);\n    }\n\n    private commentPosted(comment: SocialComment, err: any) {\n        if (comment && comment.uuid && this.commentPost) {\n            this.commentPost.resetForm();\n            this.replaceOrAddComment(comment, true);\n        }\n    }\n\n    private getIndexComment(uuid: string): number {\n        for (let i = 0; i < this.activity.comments.length; i++) {\n            if (this.activity.comments[i].uuid === uuid) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    private replaceOrAddComment(comment: SocialComment, insertAtFirst?: boolean) {\n        const index = this.getIndexComment(comment.uuid);\n        if (index > -1) {\n            this.activity.comments[index] = comment;\n        } else {\n            this.activity.comments[insertAtFirst ? 'unshift' : 'push'](comment);\n        }\n    }\n\n    protected removeComment(uuid: string) {\n        const index = this.getIndexComment(uuid);\n        if (index > -1) {\n            this.activity.comments.splice(index, 1);\n        }\n    }\n}\n","import {Component, OnDestroy, ViewChild, OnInit, Input} from '@angular/core';\nimport {SocialService} from '../social.service';\nimport {ActivityParams} from '../model/ActivityParams';\nimport {SocialActivity} from '../model/Activity';\nimport {ActivityPostComponent} from '../activity-post/activity-post.component';\nimport {Subscription} from \"rxjs\";\n\n@Component({\n    selector: '[socialActivityList]',\n    templateUrl: './activity-list.component.html',\n    styleUrls: ['./activity-list.component.css']\n})\nexport class ActivityListComponent implements OnInit, OnDestroy {\n    @ViewChild('activityPost') activityPost: ActivityPostComponent;\n    @Input() postEnable: boolean = true;\n    @Input() scroller: HTMLElement | any = document;\n    @Input() type: string = '';\n    @Input() application: string = '';\n    @Input() loader: Function = (params, callback) => this.doLoadWall(params, callback);\n\n    activities: SocialActivity[] = [];\n    showLoading: boolean = true;\n    hasMore: boolean = false;\n    params: ActivityParams = {\n        pageSize: 5,\n        pageNumber: 0\n    };\n\n    private _activityChange: Subscription;\n    private _loading: boolean;\n\n    constructor(\n        public socialService: SocialService\n    ) {\n        // Receive activity notify real time\n        this._activityChange = this.socialService.activityChange.subscribe(activityId => {\n            if (activityId) {\n                this.socialService.activityLoad({\n                    activity: activityId\n                }, (activity: SocialActivity) => {\n                    if (activity && activity.uuid) {\n                        this._addActivity(activity, true);\n                    }\n                });\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.initScroller();\n        this.loadWall(true);\n    }\n\n    ngOnDestroy() {\n        this.removeEventScroller();\n        this._activityChange.unsubscribe();\n    }\n\n    removeActivityById(id: string) {\n        for (let i = 0; i < this.activities.length; i++) {\n            const activity = this.activities[i];\n            if (activity.uuid === id) {\n                this.activities.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n    loadWall(init?: boolean) {\n\n        if (init) {\n            this.clearWall();\n            this.params.pageNumber = 0;\n            this.showLoading = true;\n\n            if (this.type) {\n                this.params.type = this.type;\n            }\n\n            if (this.application) {\n                this.params.application = this.application;\n            }\n\n        }\n\n        this._loading = true;\n\n        this.loader(this.params, (data, err) => this._renderWall(data));\n    }\n\n    doLoadWall(params, callback) {\n        this.socialService.activityWall(params, callback);\n    }\n\n    clearWall() {\n        this.activities.length = 0;\n    }\n\n    private _renderWall(data) {\n        if (data) {\n            const activities = data['items'] || [];\n            activities.forEach(activity => this._addActivity(activity));\n            this.hasMore = data['total'] > this.activities.length;\n        }\n\n        this.showLoading = false;\n\n        setTimeout(() => {\n            this._loading = false;\n            this._scrollBottomListener();\n        }, 1000);\n    }\n\n    activityCreate(params: any) {\n        if (params.activity) {\n            this.socialService.activityUpdate(params, this._activityPosted.bind(this));\n        } else {\n            this.socialService.activityPost(params, this._activityPosted.bind(this));\n        }\n    }\n\n    activityUpdated(activity: SocialActivity) {\n\n        // Replace by activity updated\n        for (let i = 0; i < this.activities.length; i++) {\n            if (this.activities[i].uuid === activity.uuid) {\n                this.activities[i] = activity;\n                return;\n            }\n        }\n        this.activities.unshift(activity);\n    }\n\n    activityDeleted(activity: SocialActivity) {\n        this.removeActivityById(activity.uuid);\n    }\n\n    initScroller() {\n        this._scrollBottomListener = this._scrollBottomListener.bind(this);\n        if (this.scroller) {\n            this.initEventScroller(this.scroller);\n        }\n    }\n\n    scrollToTop() {\n        if (this.scroller) {\n            this.scroller.scrollTop = 0;\n        }\n    }\n\n    initEventScroller(scroller: HTMLElement | any) {\n        this.scroller = scroller;\n        this.scroller.addEventListener('scroll', this._scrollBottomListener);\n    }\n\n    removeEventScroller() {\n        if (this.scroller) {\n            this.scroller.removeEventListener('scroll', this._scrollBottomListener);\n        }\n    }\n\n    private _scrollBottomListener(e?: any) {\n        if (this._loading || !this.hasMore) {\n            return;\n        }\n        const scroller = e && e.target || this.scroller;\n        const target = scroller.scrollingElement || scroller;\n        if (target) {\n\n            // Scroll bottom to load more\n            const bottom = target.scrollHeight - target.scrollTop - target.clientHeight;\n\n            if (bottom < 150) {\n                this.params.pageNumber++;\n                this.loadWall();\n            }\n        }\n    }\n\n    private _activityPosted(activity: SocialActivity, err: any) {\n        if (activity && activity.uuid) {\n            this.activityPost.resetForm();\n            this.activityPost.hideForm(true);\n            this._addActivity(activity, true);\n        }\n    }\n\n    private _addActivity(activity: SocialActivity, insertAtFirst?: boolean) {\n        this.removeActivityById(activity.uuid);\n        if (insertAtFirst) {\n            this.activities.unshift(activity);\n        } else {\n            this.activities.push(activity);\n        }\n    }\n}\n","import {Component, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {SocialService} from '../social.service';\nimport {Attachment} from '../model/Attachment';\nimport {Photo, FileListItem} from \"inet-ui\";\n\n@Component({\n    selector: '[attachmentList]',\n    templateUrl: './attachment-list.component.html',\n    styleUrls: ['./attachment-list.component.css']\n})\nexport class AttachmentListComponent implements OnChanges {\n    @Input() attachments: Attachment[] = [];\n    files: FileListItem[] = [];\n    private _images: Photo[];\n\n    constructor(private socialService: SocialService) { }\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.attachments) {\n            this._indexFiles();\n        }\n    }\n\n    viewImage(file: FileListItem, imageEl: HTMLElement) {\n        const options = {\n            index: this._getImageIndex(file.id),\n            clickElement: imageEl\n        };\n        this.socialService.viewImages(this._images, options);\n    }\n\n    viewAttachment(data) {\n        const file = data.file;\n        const attachment = this._getAttachmentById(file.id);\n        if (attachment) {\n            if (file.image) {\n                let imageEl: HTMLElement = data.event.target;\n                if (imageEl.tagName !== 'IMG') {\n                    // click on image's parent\n                    imageEl = imageEl.getElementsByTagName('img')[0];\n                }\n\n                this.viewImage(file, imageEl);\n            } else {\n                this.socialService.viewAttachment(attachment);\n            }\n        }\n    }\n\n    private _getAttachmentById(id: string): Attachment {\n        for (let i = 0; i < this.attachments.length; i++) {\n            if (this.attachments[i].gridfsUUID === id) {\n                return this.attachments[i];\n            }\n        }\n    }\n\n    private _getImageIndex(id: string): number {\n        for (let i = 0; i < this._images.length; i++) {\n            if (this._images[i].id === id) {\n                return i;\n            }\n        }\n        return 0;\n    }\n\n    private _indexFiles() {\n        this.files = this.socialService.attachmentToFiles(this.attachments);\n\n        // Index images to view later\n        this._images = [];\n        for (let i = 0; i < this.files.length; i++) {\n            if (this.files[i].image) {\n                const attachment = this.attachments[i];\n                this._images.push({\n                    src: attachment.pathView,\n                    id: attachment.gridfsUUID,\n                    w: 1,\n                    h: 1,\n                    sizeDynamic: true\n                });\n            }\n        }\n    }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {SocialActivity} from \"../model/Activity\";\nimport {SocialService} from \"../social.service\";\nimport {SocialComment} from \"../model/Comment\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n    selector: 'social-latest',\n    templateUrl: './social-latest.component.html',\n    styleUrls: ['./social-latest.component.css']\n})\nexport class SocialLatestComponent implements OnInit {\n    @Input() viewMoreEnable: boolean = true;\n\n    activities: SocialActivity[] = [];\n\n    constructor(private socialService: SocialService, private router: Router) {}\n\n    ngOnInit() {\n        this._loadLatest();\n    }\n\n    viewActivity(activity: SocialActivity) {\n        // this.onViewItem.emit(activity);\n        this.router.navigate(['social/activity/' + (activity['activityID'] || activity['uuid'])]);\n    }\n\n    viewMore() {\n        // this.onViewMore.emit();\n        this.router.navigate(['social']);\n    }\n\n    private _loadLatest() {\n        this.socialService.activityWall({\n            pageSize: 3\n        },  (result) => {\n            const items = result && result['items'] || [];\n            if (items.length > 0) {\n                this._updateWithCommentLatest(items, () => {\n                    items.sort((a, b) => (b.lastUpdate || b.posted) - (a.lastUpdate || a.posted));\n                    this.activities = items;\n                });\n            }\n        });\n    }\n\n    private _updateWithCommentLatest(activities: SocialActivity[], callback: Function) {\n        const promises = [];\n        activities.forEach((activity, index) => {\n            promises.push(new Promise((resolve) => {\n                this.socialService.commentWall({pageSize: 1, activity: activity.uuid}, (result) => {\n                    const items: SocialComment[] = result && result['items'] || [];\n                    if (items.length > 0) {\n                        // Replace activity by latest comment\n                        activities[index] = items[0];\n                    }\n                    resolve();\n                });\n            }));\n        });\n        Promise.all(promises).then(() => callback());\n    }\n}\n","import {Injectable} from '@angular/core';\n\ndeclare let iNet: any;\n\nconst FILES_FORMAT = [\n    'unknown', 'text', 'archive', 'audio', 'video',\n    'png', 'jpg', 'gif', 'tiff', 'svg', 'ai', 'psd', 'dwg',\n    'avi', 'fla', 'mp2', 'mp3', 'mp4', 'aac', 'flac', 'wma', 'wav', 'mxf',\n    'iso', 'mdf', 'nrg',\n    'zip', '7z', 'arj', 'rar',\n    'pdf', 'doc', 'rtf', 'txt', 'xls', 'ppt',\n    'css', 'csv', 'html', 'json', 'js', 'xml',\n    'dbf', 'exe'\n];\n\nconst FILES_EDIT_FORMAT = [\n    'doc', 'docx', 'odt', 'ods', 'xls', 'xlsx',\n    'ppt', 'pps', 'pptm', 'pptx','pot', 'potx',\n    'dot', 'dotx', 'docm','dotx', 'csv' , 'sxw']\n;\n\nconst FILES_VIEW_FORMAT = ['pdf', 'png', 'jpg' ,'jpeg' , 'gif'];\n\nconst UNKNOWN = 'unknown';\n\n@Injectable()\nexport class FileFormatService {\n\n    constructor() {}\n\n    getImagePath(): string {\n        let path =  iNet.commonImageFolder;\n        const lastIndex = path.lastIndexOf('/');\n        if (lastIndex === path.length - 1) {\n            return path.substring(0, lastIndex);\n        }\n        return path;\n    }\n\n    getFileFormatPath(): string {\n        return `${this.getImagePath()}/format`;\n    }\n\n    getUrlByExt(ext: string) {\n        const path = this.getFileFormatPath();\n        if (FILES_FORMAT.indexOf(ext) > -1) {\n            return `${path}/${ext.toLowerCase()}.svg`\n        }\n        return `${path}/${UNKNOWN}.svg`\n    }\n\n    getUrlByName(name: string) {\n        return this.getUrlByExt(this.getExtByName(name));\n    }\n\n    getExtByName(name: string) {\n        return name.split('.').pop().toLowerCase() || UNKNOWN;\n    }\n\n    getEditFormats(): string[] {\n        return FILES_EDIT_FORMAT;\n    }\n\n    getViewFormats(): string[] {\n        return FILES_VIEW_FORMAT;\n    }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {FileFormatService} from \"./file-format.service\";\n\n@Pipe({\n    name: 'fileExt'\n})\nexport class FileExtPipe implements PipeTransform {\n    constructor(private formatService: FileFormatService) {\n    }\n\n    transform(name: string): string {\n        return this.formatService.getExtByName(name);\n    }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {FileFormatService} from \"./file-format.service\";\n\n@Pipe({\n    name: 'fileIcon'\n})\nexport class FileIconPipe implements PipeTransform {\n\n    constructor(private formatService: FileFormatService) {\n\n    }\n\n    transform(name: string): string {\n        return this.formatService.getUrlByName(name);\n    }\n\n}\n","import {Component, EventEmitter, Input, OnInit, Output, TemplateRef} from '@angular/core';\nimport {NgxGalleryAnimation, NgxGalleryImage, NgxGalleryOptions} from \"ngx-gallery\";\n\n@Component({\n    selector: 'file-list',\n    templateUrl: './file-list.component.html',\n    styleUrls: ['./file-list.component.css']\n})\nexport class FileListComponent implements OnInit {\n    @Input() fileEl: HTMLInputElement;\n    @Input() files: FileListItem[] = [];\n    @Input() removable: boolean = true;\n    @Input() template: TemplateRef<any>;\n\n    @Output() onClick = new EventEmitter<any>();\n    @Output() onRemove = new EventEmitter<FileListItem>();\n    galleryOptions: NgxGalleryOptions[];\n    galleryImages: NgxGalleryImage[];\n    ngOnInit(): void {\n        console.log('files', this.files.length, this.files)\n        this.galleryOptions = [\n            {\n                width: '600px',\n                height: '400px',\n                thumbnailsColumns: 4,\n                imageAnimation: NgxGalleryAnimation.Slide\n            },\n            // max-width 800\n            {\n                breakpoint: 800,\n                width: '100%',\n                height: '600px',\n                imagePercent: 80,\n                thumbnailsPercent: 20,\n                thumbnailsMargin: 20,\n                thumbnailMargin: 20\n            },\n            // max-width 400\n            {\n                breakpoint: 400,\n                preview: false\n            }\n        ];\n\n        this.galleryImages = [\n            {\n                small: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max',\n                medium: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max',\n                big: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max'\n            },\n            {\n                small: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max',\n                medium: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max',\n                big: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max'\n            },\n            {\n                small: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max',\n                medium: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max',\n                big: 'https://images.unsplash.com/photo-1470240731273-7821a6eeb6bd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max'\n            }\n        ];\n        this._initFileEl();\n    }\n\n    clickFile(file: FileListItem, event) {\n        this.onClick.emit({file, event});\n    }\n\n    removeFile(file: FileListItem) {\n        const index = this.files.indexOf(file);\n        if (index > -1) {\n            this.files.splice(index, 1);\n            this.onRemove.emit(file);\n        }\n    }\n\n    addFiles(files: FileList | File[]) {\n        // Read as base64 if image\n        for (let i  = 0; i < files.length; i++) {\n            let file = files[i];\n            if (this._fileIsImage(file)) {\n                file['image'] = true;\n                this._readImageBase64(file);\n            }\n            this.files.push(file);\n        }\n    }\n\n    private _initFileEl() {\n        if (this.fileEl) {\n            this.fileEl.addEventListener('change', (e) => {\n                const files = this.fileEl.files;\n                if (files.length > 0) {\n                    // Read as base64 if image\n                    this.addFiles(files);\n\n                    // Reset file\n                    this.fileEl.value = '';\n                }\n            });\n        }\n    }\n\n    private _readImageBase64(file) {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = function() {\n            file.url = reader.result;\n        };\n    }\n\n    private _fileIsImage(file: FileListItem) {\n        return file.type && file.type.indexOf('image') > -1;\n    }\n}\n\nexport interface FileListItem extends File {\n    id?: string;\n    url?: string;\n    image?: boolean;\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FileExtPipe} from './file-ext.pipe';\nimport {FileIconPipe} from './file-icon.pipe';\nimport {FileFormatService} from './file-format.service';\nimport {FileListComponent} from \"./list/file-list.component\";\nimport {NgxGalleryModule} from \"ngx-gallery\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        NgxGalleryModule\n    ],\n    declarations: [\n        FileIconPipe,\n        FileExtPipe,\n        FileListComponent\n    ],\n    exports: [\n        FileIconPipe,\n        FileExtPipe,\n        FileListComponent\n    ],\n    providers: [FileFormatService]\n})\nexport class FileListModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SocialService} from './social.service';\nimport {SocialComponent} from './wall/social.component';\nimport {ActivityPostComponent} from './activity-post/activity-post.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {BsDropdownModule} from 'ngx-bootstrap';\nimport {SocialEmbedComponent} from './embed/social-embed.component';\nimport {ActivityComponent} from './activity/activity.component';\nimport {CommentComponent} from './comment/comment.component';\nimport {SocialModalViewComponent} from './modal-view/modal-view.component';\nimport {ActivityViewComponent} from './activity-view/activity-view.component';\nimport {ShareMemberComponent} from './share-member/share-member.component';\nimport {ModalModule} from 'ngx-bootstrap/modal';\nimport {MessageBodyComponent} from './message-body/message-body.component';\nimport {LocalNews} from './localnews/localnews.component';\nimport {ActivityActionMoreComponent} from './activity-action-more/activity-action-more.component';\nimport {FriendBrowseComponent} from './social-friend/browse/friend-browse.component';\nimport {FriendInvitationComponent} from './social-friend/invitation/friend-invitation.component';\nimport {SocialGroupComponent} from './social-friend/group/group.component';\nimport {ListUserComponent} from './social-friend/list-user/list-user.component';\nimport {GroupCreateComponent} from './social-friend/group-create/group-create.component';\nimport {GroupMemberComponent} from './social-friend/group-member/group-member.component';\nimport {AccentService, CacheStorageService, CoreModule} from 'inet-core';\nimport {CommentListComponent} from \"./comment-list/comment-list.component\";\nimport {ActivityListComponent} from \"./activity-list/activity-list.component\";\nimport {CommentPostComponent} from \"./comment-post/comment-post.component\";\nimport {AttachmentListComponent} from \"./attachment-list/attachment-list.component\";\nimport {ProgressComponent} from \"./progress/progress.component\";\nimport {SocialLatestComponent} from \"./widget/social-latest.component\";\nimport {FileListModule} from \"./filelist/file-list.module\";\nimport {\n    AutocompleteModule,\n    DateTimeModule,\n    FrontViewModule,\n    OpenGraphModule,\n    PhotoSwipeModule,\n    FileFormatService\n} from \"inet-ui\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        PhotoSwipeModule,\n        ReactiveFormsModule,\n        OpenGraphModule,\n        AutocompleteModule,\n        BsDropdownModule.forRoot(),\n        ModalModule.forRoot(),\n        FrontViewModule,\n        CoreModule,\n        FileListModule,\n        DateTimeModule\n    ],\n    exports: [\n        ProgressComponent,\n        ActivityPostComponent,\n        ActivityComponent,\n        ActivityListComponent,\n        AttachmentListComponent,\n        CommentComponent,\n        CommentPostComponent,\n        CommentListComponent,\n        ShareMemberComponent,\n        MessageBodyComponent,\n        LocalNews,\n        ActivityActionMoreComponent,\n        SocialModalViewComponent,\n        SocialComponent,\n        SocialEmbedComponent,\n        ActivityViewComponent,\n        FriendBrowseComponent,\n        FriendInvitationComponent,\n        SocialGroupComponent,\n        ListUserComponent,\n        GroupCreateComponent,\n        GroupMemberComponent,\n        SocialLatestComponent\n    ],\n    declarations: [\n        ProgressComponent,\n        ActivityPostComponent,\n        ActivityComponent,\n        ActivityListComponent,\n        AttachmentListComponent,\n        CommentComponent,\n        CommentPostComponent,\n        CommentListComponent,\n        ShareMemberComponent,\n        MessageBodyComponent,\n        LocalNews,\n        ActivityActionMoreComponent,\n        SocialModalViewComponent,\n        SocialComponent,\n        SocialEmbedComponent,\n        ActivityViewComponent,\n        FriendBrowseComponent,\n        FriendInvitationComponent,\n        SocialGroupComponent,\n        ListUserComponent,\n        GroupCreateComponent,\n        GroupMemberComponent,\n        SocialLatestComponent\n    ],\n    entryComponents: [\n        FriendInvitationComponent,\n        FriendBrowseComponent,\n        SocialGroupComponent\n    ],\n    providers: [\n        SocialService,\n        CacheStorageService,\n        AccentService,\n        FileFormatService\n    ]\n})\nexport class SocialModule {\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  templateUrl: './social-home.component.html',\n  styleUrls: ['./social-home.component.css']\n})\nexport class SocialHomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, NavigationEnd, Router} from \"@angular/router\";\nimport {filter} from \"rxjs/operators\";\n\n@Component({\n  templateUrl: './social-activity-view.component.html',\n  styleUrls: ['../home/social-home.component.css']\n})\nexport class SocialActivityViewComponent implements OnInit, OnDestroy {\n  activityId: string;\n  private _routerObserver;\n\n  constructor(\n      private route: ActivatedRoute,\n      private router: Router\n  ) { }\n\n  ngOnInit() {\n    this._routerObserver = this.router.events\n        .pipe(filter(event => event instanceof NavigationEnd))\n        .subscribe(() => this._updateActivityId());\n    this._updateActivityId();\n  }\n\n  ngOnDestroy() {\n    this._routerObserver.unsubscribe();\n  }\n\n  private _updateActivityId() {\n    const params = this.route.snapshot.paramMap;\n    if (params.get('id')) {\n      this.activityId = params.get('id');\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {SocialHomeComponent} from \"./home/social-home.component\";\nimport {SocialActivityViewComponent} from \"./activity-view/social-activity-view.component\";\n\nconst routes: Routes = [\n    {\n        path: 'activity/social',\n        component: SocialHomeComponent\n    },\n    {\n        path: 'activity/social/activity/:id',\n        component: SocialActivityViewComponent\n    },\n    {\n        path: 'activity/social/**',\n        redirectTo: 'activity/social',\n        pathMatch: 'full'\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class SocialRoutingModule {\n}\n","import {Component, ComponentRef, OnInit, ViewChild, ViewContainerRef} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {Router} from \"@angular/router\";\nimport {NavigationData} from \"inet-ui\";\nimport {SocialGroupComponent} from \"../../social-friend/group/group.component\";\nimport {FriendInvitationComponent} from \"../../social-friend/invitation/friend-invitation.component\";\nimport {FriendBrowseComponent} from \"../../social-friend/browse/friend-browse.component\";\ndeclare let $: any;\n\n@Component({\n    templateUrl: './social-friend.component.html',\n    styleUrls: ['./social-friend.component.css']\n})\nexport class SocialFriendComponent implements OnInit {\n\n    @ViewChild('tabViewContainer', {read: ViewContainerRef}) _tabViewContainer;\n    @ViewChild('searchEl') searchEl;\n\n    tabs: NavigationData[] = [\n        {\n            name: 'Trang chá»§',\n            component: '',\n            path: ''\n        },\n        {\n            name: 'Báº¡n bÃ¨',\n            component: SocialGroupComponent,\n            path: '/friend'\n        },\n        {\n            name: 'Lá»i má»i',\n            component: FriendInvitationComponent,\n            path: '/friend/invitation'\n        },\n        {\n            name: 'TÃ¬m báº¡n',\n            component: FriendBrowseComponent,\n            path: '/friend/browse'\n        }\n    ];\n\n    searchValue: string = '';\n    search = new FormControl();\n    placeholder: string;\n\n    prefix: string;\n\n    private _activeComponent;\n    private _searchEl;\n    private _searchable: boolean;\n\n    constructor(private router: Router) {\n        this.prefix = this.router.url.substring(0, this.router.url.indexOf('/friend'));\n    }\n\n    ngOnInit() {\n        this._searchEl = $(this.searchEl.nativeElement);\n        this.search.valueChanges.subscribe((value) => {\n            if (this._searchable) {\n                this._activeComponent.instance.onSearch(value.trim());\n            }\n        });\n    }\n\n    changeTab(data: NavigationData) {\n        this.searchValue = '';\n    }\n\n    loadTabComponent(componentRef: ComponentRef<any>) {\n        this._activeComponent = componentRef;\n        this._searchable = componentRef.instance.onSearch;\n        this.placeholder = componentRef.instance.placeholder || 'TÃ¬m kiáº¿m...';\n        if (this._searchable) {\n            this._searchEl.show();\n            componentRef.instance.clearSearchValue = () => {\n                this.searchValue = '';\n            };\n        } else {\n            this._searchEl.hide();\n        }\n    }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'social-right-layout',\n  templateUrl: './social-right-layout.component.html',\n  styleUrls: ['./social-right-layout.component.css']\n})\nexport class SocialRightLayoutComponent {\n\n}\n","import {NgModule} from '@angular/core';\nimport {SocialRoutingModule} from \"./social-routing.module\";\nimport {SocialHomeComponent} from './home/social-home.component';\nimport {SocialFriendComponent} from \"./friend/social-friend.component\";\nimport {SocialActivityViewComponent} from \"./activity-view/social-activity-view.component\";\nimport {SocialRightLayoutComponent} from \"./right-layout/social-right-layout.component\";\nimport {SocialModule} from \"../social.module\";\nimport {NavigationTabModule} from \"inet-ui\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\n\n@NgModule({\n    imports: [\n        FormsModule,\n        ReactiveFormsModule,\n        SocialModule,\n        SocialRoutingModule,\n        NavigationTabModule\n    ],\n    declarations: [\n        SocialHomeComponent,\n        SocialFriendComponent,\n        SocialActivityViewComponent,\n        SocialRightLayoutComponent\n    ]\n})\nexport class SocialAppModule { }\n"],"names":["FileFormatService"],"mappings":";;;;;;;;;;;;;;;;;;IAGE,WAAY,YAAY;IACxB,WAAY,WAAW;;;;IAIvB,QAAS,QAAQ;IACjB,SAAU,SAAS;IACnB,YAAa,YAAY;;;AAG3B,MAAa,cAAc,GAAG,UAAU;;;IAGtC,QAAS,QAAQ;IACjB,SAAU,SAAS;IACnB,SAAU,WAAW;IACrB,eAAgB,mBAAmB;IACnC,QAAS,UAAU;;;;IAInB,QAAS,SAAS;IAClB,SAAU,SAAS;IACnB,SAAU,UAAU;IACpB,UAAW,UAAU;IACrB,QAAS,SAAS;;;;;AAGpB,yBAIC;;;IAHC,4BAAe;;IACf,6BAAgB;;IAChB,4BAAe;;;AAGjB,MAAa,cAAc,GAAe;IACxC,MAAM,EAAE,MAAM,CAAC,OAAO;IACtB,OAAO,EAAE,aAAa,CAAC,OAAO;IAC9B,MAAM,EAAE,cAAc;CACvB;;AACD,MAAa,aAAa,GAAG;IAC3B,MAAM,EAAE,MAAM,CAAC,MAAM;IACrB,OAAO,EAAE,aAAa,CAAC,MAAM;IAC7B,MAAM,EAAE,cAAc;CACvB;;AACD,MAAa,SAAS,GAAG;IACvB,MAAM,EAAE,MAAM,CAAC,UAAU;IACzB,OAAO,EAAE,aAAa,CAAC,MAAM;IAC7B,MAAM,EAAE,IAAI,CAAC,QAAQ;CACtB;;AAED,MAAa,aAAa,GAAG;IAC3B,QAAQ,EAAE,IAAI;IACd,EAAE,EAAE,CAAC;IACL,IAAI,EAAE,UAAU,CAAC,OAAO;IACxB,OAAO,EAAE,aAAa,CAAC,OAAO;IAC9B,KAAK,EAAE,EAAE;CACV;;AACD,MAAa,oBAAoB,GAAG;IAClC,QAAQ,EAAE,IAAI;IACd,EAAE,EAAE,CAAC;IACL,IAAI,EAAE,UAAU,CAAC,QAAQ;IACzB,OAAO,EAAE,aAAa,CAAC,aAAa;IACpC,KAAK,EAAE;QACL,cAAc;QACd,aAAa;KACd;CACF;;AACD,MAAa,aAAa,GAAG;IAC3B,QAAQ,EAAE,IAAI;IACd,EAAE,EAAE,CAAC;IACL,IAAI,EAAE,UAAU,CAAC,OAAO;IACxB,OAAO,EAAE,aAAa,CAAC,OAAO;IAC9B,KAAK,EAAE;QACL,cAAc;KACf;CACF;;AACD,MAAa,YAAY,GAAG;IAC1B,QAAQ,EAAE,IAAI;IACd,EAAE,EAAE,CAAC;IACL,IAAI,EAAE,UAAU,CAAC,MAAM;IACvB,OAAO,EAAE,aAAa,CAAC,MAAM;IAC7B,KAAK,EAAE;QACL,aAAa;KACd;CACF;;AACD,MAAa,QAAQ,GAAG;IACtB,QAAQ,EAAE,IAAI;IACd,EAAE,EAAE,CAAC;IACL,IAAI,EAAE,UAAU,CAAC,MAAM;IACvB,OAAO,EAAE,aAAa,CAAC,MAAM;IAC7B,KAAK,EAAE;QACL,SAAS;KACV;CACF;;;;AAED,2BAWC;;;IAVC,0BAAO;;IACP,+BAAe;;IACf,6BAAmB;;IACnB,4BAAY;;IACZ,gCAAkB;;IAClB,gCAAkB;;IAClB,6BAAe;;IACf,gCAAkB;;IAClB,8BAAgB;;IAChB,8BAAe;;;AAGjB,MAAa,SAAS,GAAG,WAAW;;AACpC,MAAa,UAAU,GAAG,YAAY;;AACtC,MAAa,OAAO,GAAG,SAAS;;AAChC,MAAa,YAAY,GAAG,kBAAkB;;AAC9C,MAAa,WAAW,GAAG,iBAAiB;;;;;;ACnH5C,MAqBa,aAAa;;;;;;;;;IAiBtB,YACY,UAA6B,EAC7B,WAAwB,EACxB,UAAsB,EACtB,aAAqC,EACrC,iBAAoC,EACpC,gBAAkC;QALlC,eAAU,GAAV,UAAU,CAAmB;QAC7B,gBAAW,GAAX,WAAW,CAAa;QACxB,eAAU,GAAV,UAAU,CAAY;QACtB,kBAAa,GAAb,aAAa,CAAwB;QACrC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,qBAAgB,GAAhB,gBAAgB,CAAkB;QArB9C,aAAQ,GAAW,kBAAkB,CAAC;QAEtC,mBAAc,GAAG,IAAI,OAAO,EAAU,CAAC;QACvC,kBAAa,GAAG,IAAI,OAAO,EAAU,CAAC;QAE9B,gBAAW,GAAG;YAClB,MAAM;YACN,MAAM;YACN,QAAQ;YACR,OAAO;YACP,YAAY;SACf,CAAC;;QAaE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS;;;;QAAC,CAAC,OAAoB;;kBACjE,GAAG,GAAG,OAAO,CAAC,WAAW;;kBACzB,UAAU,GAAG,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC;YAC9D,IAAI,GAAG,KAAK,YAAY,EAAE;gBACtB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACxC;iBAAM,IAAI,GAAG,KAAK,WAAW,EAAE;gBAC5B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACvC;SACJ,EAAC,CAAC;KACN;;;;IAED,WAAW;QACP,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;KAC9B;;;;;IAGD,UAAU,CAAC,QAAa;QACpB,OAAO,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,IAAI;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC1D,QAAQ,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC;SAC9C,EAAC,CAAC;KACN;;;;;;IAED,qBAAqB,CAAC,MAAM,EAAE,QAAQ;QAClC,OAAO,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAC9D;;;;;;IAED,kBAAkB,CAAC,MAAM,EAAE,QAAQ;QAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,0BAA0B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACrE;;;;;;IAED,oBAAoB,CAAC,MAAM,EAAE,QAAQ;QACjC,OAAO,IAAI,CAAC,OAAO,CAAC,gCAAgC,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAC3E;;;;;;IAED,gBAAgB,CAAC,MAAwB,EAAE,QAAQ;QAC/C,OAAO,IAAI,CAAC,QAAQ,CAAC,0BAA0B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACtE;;;;;;IAED,gBAAgB,CAAC,MAAwB,EAAE,QAAQ;QAC/C,OAAO,IAAI,CAAC,QAAQ,CAAC,0BAA0B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACtE;;;;;;IAED,gBAAgB,CAAC,MAAwB,EAAE,QAAQ;QAC/C,OAAO,IAAI,CAAC,QAAQ,CAAC,4BAA4B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACxE;;;;;;IAED,gBAAgB,CAAC,MAAwB,EAAE,QAAQ;QAC/C,OAAO,IAAI,CAAC,QAAQ,CAAC,4BAA4B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACxE;;;;;;IAED,gBAAgB,CAAC,MAAM,EAAE,QAAQ;QAC7B,OAAO,IAAI,CAAC,QAAQ,CAAC,sBAAsB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAClE;;;;;;IAED,WAAW,CAAC,MAAM,EAAE,QAAQ;QACxB,OAAO,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;;gBACpD,OAAO,GAAG,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACzC,OAAO,CAAC,KAAK,GAAG,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;YACxC,QAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;SAC1B,EAAC,CAAC;KACN;;;;;;IAED,iBAAiB,CAAC,MAAM,EAAE,QAAQ;QAC9B,OAAO,IAAI,CAAC,QAAQ,CAAC,sBAAsB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC3D,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;IAED,iBAAiB,CAAC,MAAM,EAAE,QAAQ;QAC9B,OAAO,IAAI,CAAC,QAAQ,CAAC,sBAAsB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC3D,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;IAED,YAAY,CAAC,MAAM,EAAE,QAAQ;QACzB,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;;gBAC7C,OAAO,GAAG,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACzC,OAAO,CAAC,KAAK,GAAG,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;YACxC,QAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;SAC1B,EAAC,CAAC;KACN;;;;;;IAED,YAAY,CAAC,MAAM,EAAE,QAAQ;QACzB,OAAO,IAAI,CAAC,QAAQ,CAAC,0BAA0B,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC/D,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO;;;;gBAAC,CAAC,IAAI;oBACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;iBAC5B,EAAC,CAAC;aACN;YACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;IAED,YAAY,CAAC,MAAsB,EAAE,QAAQ;QACzC,OAAO,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE,MAAM;;;;;QAC9C,CAAC,IAAI,EAAE,GAAG;YACN,IAAI,IAAI,EAAE;gBACN,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE;oBACf,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;iBACxD;aACJ;YACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACV;;;;;;IAED,YAAY,CAAC,MAAM,EAAE,QAAQ;QACzB,OAAO,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE,MAAM;;;;;QAAE,CAAC,IAAoB,EAAE,KAAK;YAC5E,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC5B;YACD,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACzB,EAAC,CAAC;KACN;;;;;;IAED,YAAY,CAAC,MAAM,EAAE,QAAQ;QACzB,OAAO,IAAI,CAAC,QAAQ,CAAC,sBAAsB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC3D,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC5B;YACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;IAED,cAAc,CAAC,MAAM,EAAE,QAAQ;QAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC,wBAAwB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC7D,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC5B;YACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;;;;;;;;;;;;IAiBD,mBAAmB,CAAC,MAAM,EAAE,QAAQ;QAChC,OAAO,IAAI,CAAC,QAAQ,CAAC,uBAAuB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACnE;;;;;;IAED,cAAc,CAAC,MAAM,EAAE,QAAQ;QAC3B,OAAO,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACnE;;;;;;IAED,kBAAkB,CAAC,MAAM,EAAE,QAAQ;QAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,8BAA8B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACzE;;;;;;IAED,gBAAgB,CAAC,MAAM,EAAE,QAAQ;QAC7B,OAAO,IAAI,CAAC,OAAO,CAAC,0BAA0B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACrE;;;;;;IAED,YAAY,CAAC,MAAkB,EAAE,QAAQ;QACrC,OAAO,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACjE;;;;;;IAED,cAAc,CAAC,MAAkB,EAAE,QAAQ;QACvC,OAAO,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACnE;;;;;;IAED,QAAQ,CAAC,MAAM,EAAE,QAAQ;QACrB,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAC7D;;;;;;IAED,UAAU,CAAC,MAAM,EAAE,QAAQ;QACvB,OAAO,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAC/D;;;;;;IAED,QAAQ,CAAC,MAAM,EAAE,QAAQ;QACrB,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAC7D;;;;;;IAED,QAAQ,CAAC,MAAM,EAAE,QAAQ;QACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,0BAA0B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KACtE;;;;;;IAED,UAAU,CAAC,MAAM,EAAE,QAAQ;QACvB,OAAO,IAAI,CAAC,QAAQ,CAAC,oBAAoB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAChE;;;;;;IAED,WAAW,CAAC,MAAM,EAAE,QAAQ;QACxB,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YACzD,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAC,CAAC;aAC3D;YACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;IAED,WAAW,CAAC,MAAM,EAAE,QAAQ;QACxB,OAAO,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC1D,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC5B;YACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;IAED,aAAa,CAAC,MAAM,EAAE,QAAQ;QAC1B,OAAO,IAAI,CAAC,QAAQ,CAAC,uBAAuB,EAAE,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG;YAC5D,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC5B;YACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EAAC,CAAC;KACN;;;;;;IAED,aAAa,CAAC,MAAM,EAAE,QAAQ;QAC1B,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAClE;;;;;;IAED,WAAW,CAAC,MAAkB,EAAE,QAAQ;QACpC,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAChE;;;;;;IAED,aAAa,CAAC,MAAkB,EAAE,QAAQ;QACtC,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;KAClE;;;;;;IAKD,mBAAmB,CAAC,MAAoB;QACpC,OAAO,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KAC3E;;;;;IAED,eAAe,CAAC,MAAoB;QAChC,OAAO,IAAI,CAAC,OAAO,CAAC,4BAA4B,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KAC7E;;;;;IAED,qBAAqB,CAAC,MAAoB;QACtC,OAAO,IAAI,CAAC,OAAO,CAAC,qCAAqC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KACtF;;;;;IAED,kBAAkB,CAAC,MAAoB;QACnC,OAAO,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KAC1E;;;;;IAED,cAAc,CAAC,MAAoB;QAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KAC5E;;;;;IAED,oBAAoB,CAAC,MAAoB;QACrC,OAAO,IAAI,CAAC,OAAO,CAAC,oCAAoC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KACrF;;;;;IAED,YAAY,CAAC,WAAmB;QAC5B,OAAO,WAAW,KAAK,WAAW,CAAC;KACtC;;;;;IAED,aAAa,CAAC,WAAmB;QAC7B,OAAO,WAAW,KAAK,YAAY,CAAC;KACvC;;;;;IAED,cAAc,CAAC,UAAsB;QACjC,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,UAAU,CAAC,cAAc,KAAK,UAAU,CAAC,WAAW,EAAE;YAC/E,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,UAAU,CAAC,cAAc,IAAI,UAAU,CAAC,WAAW,CAAC,CAAC;SACzF;aAAM;YACH,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;SAClD;KACJ;;;;;;IAED,UAAU,CAAC,MAAe,EAAE,OAAa;QACrC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;KACzC;;;;;IAGD,iBAAiB,CAAC,WAAyB;;cACjC,KAAK,GAAG,EAAE;QAChB,WAAW,CAAC,OAAO;;;;QAAC,IAAI;YACpB,KAAK,CAAC,IAAI,CAAC;gBACP,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,IAAI,EAAE,IAAI,CAAC,QAAQ;gBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,GAAG,EAAE,IAAI,CAAC,QAAQ;gBAClB,EAAE,EAAE,IAAI,CAAC,UAAU;gBACnB,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;aACrC,CAAC,CAAC;SACN,EAAC,CAAC;QACH,OAAO,KAAK,CAAC;KAChB;;;;;;;;IAEO,OAAO,CAAC,GAAW,EAAE,MAAW,EAAE,QAAa;QACnD,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS,CAC/D,QAAQ;;;;QACR,GAAG;YACC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EACJ,CAAC;KACL;;;;;;;;IAEO,QAAQ,CAAC,GAAW,EAAE,MAAW,EAAE,QAAa;QACpD,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS,CAChE,QAAQ;;;;QACR,GAAG;YACC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EACJ,CAAC;KACL;;;;;;;;IAEO,QAAQ,CAAC,GAAW,EAAE,MAAW,EAAE,QAAa;QACpD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAChF,QAAQ;;;;QACR,GAAG;YACC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACvB,EACJ,CAAC;KACL;;;;;;IAEO,aAAa,CAAC,IAAI;QACtB,IAAI,CAAC,IAAI,EAAE;YACP,OAAO;SACV;;cAEK,IAAI,GAAG,IAAI,QAAQ,EAAE;QAE3B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO;;;;QAAC,CAAC;YACvB,IAAI,CAAC,KAAK,WAAW,EAAE;gBACnB,OAAO;aACV;YACD,IAAI,CAAC,KAAK,SAAS,EAAE;;oBACb,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;gBAG7C,IAAI,IAAI,CAAC,SAAS,EAAE;oBAChB,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC1D;gBAED,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;aAE3B;iBAAM;gBACH,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAC3B;SACJ,EAAC,CAAC;QAEH,OAAO,IAAI,CAAC;KACf;;;;;;IAEO,aAAa,CAAC,QAAwC;QAE1D,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;YAC7B,OAAO;SACV;;QAGD,IAAI,QAAQ,CAAC,IAAI,EAAE;YACf,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC;gBAC5C,GAAG,EAAE,QAAQ,CAAC,IAAI;gBAClB,WAAW,EAAE,QAAQ,CAAC,WAAW;aACpC,CAAC,CAAC;SACN;QACD,IAAI,QAAQ,CAAC,KAAK,EAAE;YAChB,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC;gBAC7C,GAAG,EAAE,QAAQ,CAAC,KAAK;gBACnB,WAAW,EAAE,QAAQ,CAAC,WAAW;aACpC,CAAC,CAAC;SACN;QAED,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,OAAO,KAAK,IAAI,CAAC,QAAQ,CAAC;QACxD,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC1D,QAAQ,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,KAAK,OAAO,CAAC;QAEnD,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;KAChC;;;;;;IAEO,iBAAiB,CAAC,QAAQ;QAC9B,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC;QACrB,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;QACpB,QAAQ,CAAC,WAAW,CAAC,OAAO;;;;QAAC,CAAC,IAAgB;;gBACtC,MAAM,GAAQ;gBACd,MAAM,EAAE,IAAI,CAAC,IAAI;aACpB;;gBACG,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC;YACrD,IAAI,SAAS,EAAE;gBACX,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC,UAAU,CAAC;gBACtC,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAC/B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC5C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;aACvD;iBAAM;gBACH,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;gBAC7C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;aACxD;YAED,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBAC7B,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B;iBAAM;gBAEH,IAAI,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;oBACtC,IAAI,SAAS,EAAE;wBACX,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;qBAC3D;yBAAM;wBACH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;qBAC5D;iBACJ;gBAED,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;oBACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;iBACpC;gBAED,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC7B;SAEJ,EAAC,CAAC;KACN;;;;;;IAEO,oBAAoB,CAAC,QAAgB;QACzC,OAAO,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACvF;;;;;;IAEO,MAAM,CAAC,QAAgB;QAC3B,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,KAAK,CAAC;KAC3C;;;;;;IAEO,OAAO,CAAC,IAAY;;YACpB,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;QAC1B,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACjB,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;SAC9C;aAAM;YACH,OAAO,EAAE,CAAC;SACb;KACJ;;;;;;IAEO,aAAa,CAAC,QAAQ;QAC1B,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC;QAExB,IAAI,QAAQ,CAAC,SAAS,EAAE;;YAEpB,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC1C;aAAM;YAEH,QAAQ,CAAC,QAAQ,CAAC,OAAO;;;;YAAC,IAAI;gBAC1B,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,OAAO;iBACV;;oBACG,MAAM,GAAG;oBACT,MAAM,EAAE,IAAI,CAAC,QAAQ;oBACrB,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ;oBACtC,MAAM,EAAE,IAAI,CAAC,MAAM;iBACtB;gBACD,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACnC,EAAC,CAAC;YAEH,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;;YAG5D,QAAQ,CAAC,SAAS,CAAC,OAAO;;;;;YAAC,CAAC,IAAI,EAAE,KAAK;gBACnC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;oBAC9B,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG;wBACxB,EAAE,EAAE,IAAI,CAAC,MAAM;wBACf,OAAO,EAAE,IAAI,CAAC,OAAO;wBACrB,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC;wBACrC,KAAK,EAAE,CAAC,IAAI,CAAC;qBAChB,CAAC;iBACL;aACJ,EAAC,CAAC;SACN;;QAGD,IAAI,QAAQ,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;YAChC,QAAQ,CAAC,YAAY,GAAG,EAAE,CAAC;YAC3B,QAAQ,CAAC,SAAS,CAAC,OAAO;;;;YAAC,IAAI;gBAC3B,IAAI,IAAI,KAAK,QAAQ,EAAE;oBACnB,OAAO;iBACV;gBACD,QAAQ,CAAC,YAAY,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aAChD,EAAC,CAAC;YACH,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;SAC9D;aAAM;YACH,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YACtD,QAAQ,CAAC,YAAY,IAAI,MAAM,IAAI,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,aAAa,CAAC;SACrF;KACJ;;;;;IAED,aAAa,CAAC,MAAc;QACxB,QAAQ,MAAM;YACV,KAAK,MAAM,CAAC,OAAO;gBACf,OAAO,UAAU,CAAC,OAAO,CAAC;YAC9B,KAAK,MAAM,CAAC,MAAM;gBACd,OAAO,UAAU,CAAC,MAAM,CAAC;YAC7B;gBACI,OAAO,EAAE,CAAC;SACjB;KACJ;;;;;;IAEO,aAAa,CAAC,QAAQ;QAC1B,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;;gBACjB,UAAU;;gBAAE,SAAS;YAEzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;oBAClC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC;gBACtB,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;oBACxB,SAAS,GAAG,IAAI,CAAC;iBACpB;qBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;oBAChC,UAAU,GAAG,IAAI,CAAC;iBACrB;qBAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAC5B,QAAQ,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;iBAC1B;aACJ;YAED,IAAI,SAAS,EAAE;gBACX,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG,YAAY,CAAC;aACxD;iBAAM,IAAI,UAAU,EAAE;gBACnB,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,GAAG,aAAa,CAAC;aAC1D;SACJ;QACD,OAAO,QAAQ,CAAC;KACnB;;;;;;IAEO,YAAY,CAAC,MAAM;QACvB,OAAO,MAAM,CAAC,OAAO,KAAK,MAAM,CAAC,OAAO;YACpC,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,OAAO,CAAC;KACxC;;;;;;IAEO,WAAW,CAAC,MAAM;QACtB,OAAO,MAAM,CAAC,MAAM,KAAK,cAAc;YACnC,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,CAAC;KACvC;;;;;;IAEO,QAAQ,CAAC,MAAM;QAEnB,OAAO,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,QAAQ;YAClC,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,UAAU,CAAC;KAC3C;;;;;;IAEO,OAAO,CAAC,QAAgB;QAC5B,OAAO,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;KACzC;;;;;;;IAKO,iBAAiB,CAAC,OAAe;;cAC/B,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;QACpC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;QAC9C,OAAO,GAAG,CAAC,IAAI,EAAE,CAAC;KACrB;;;;;;;IAKO,oBAAoB,CAAC,QAAwB;;;YAG7C,UAAU,GAAG,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC;;QAGtD,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5C,QAAQ,CAAC,UAAU,GAAG,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5D;QACD,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5C,QAAQ,CAAC,UAAU,GAAG,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,QAAQ,CAAC,UAAU,CAAC,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC;SAC3C;;;YAGG,OAAO,GAAG,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC;;QAGzE,OAAO,GAAG,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;;QAG/C,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,sBAAsB;;;;QAAE,UAAU,GAAG;YAC3D,OAAO,WAAW,GAAG,GAAG,GAAG,4CAA4C,GAAG,GAAG,GAAG,MAAM,CAAC;SAC1F,EAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,GAAG,OAAO,CAAC;KACtC;;;;;IAED,sBAAsB,CAAC,SAAiB;;YAChC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3E,OAAO,2BAA2B,GAAG,KAAK,CAAC;KAC9C;;;;;IAED,YAAY,CAAC,IAAI;;YACT,KAAK,GAAG,EAAE;QACd,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/B,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/B,KAAK,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;QAC3C,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,KAAK,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,WAAW,EAAE,CAAC;QACpD,OAAO,KAAK,CAAC;KAChB;;;;;IAED,YAAY,CAAC,GAAW;QACpB,OAAO,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACzD;;;;;IAGD,sBAAsB,CAAC,SAAiB;QACpC,OAAO,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;KACjE;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyBD,sBAAsB,CAAC,QAAwC;;YACvD,IAAI,GAAG,EAAE;QACb,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE;;gBACnB,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;SACtB;;YAEG,OAAO,GAAG,QAAQ,CAAC,OAAO;;YAC1B,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC;QAC1C,IAAG,KAAK,GAAG,CAAC,CAAC,EAAC;YACV,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;;gBAC/B,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;YACrC,IAAG,YAAY,CAAC,MAAM,KAAK,CAAC,EAAC;gBACzB,IAAI,YAAY,CAAC,CAAC,CAAC,KAAK,aAAa,IAAI,YAAY,CAAC,CAAC,CAAC,KAAK,cAAc,EAAE;oBACzE,IAAI;;4BACI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;wBAClE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAa,CAAE,CAAC;qBAClD;oBAAC,OAAO,CAAC,EAAE;qBAEX;iBACJ;aACJ;;YAED,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAC,KAAK,CAAC,CAAC;SAC1D;QACD,OAAO,IAAI,CAAC;KACf;;;;;IACD,YAAY,CAAC,GAAW;QACpB,OAAO,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACvD;;;;;;;IACO,iBAAiB,CAAC,OAAe,EAAE,IAAY;;YAC/C,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;QACzC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACrC,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC3B,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;QAClB,OAAO,GAAG,CAAC,SAAS,CAAC;KACxB;;;YArrBJ,UAAU;;;;YAPqB,iBAAiB;YAAzC,WAAW;YAEc,UAAU;YAFQ,sBAAsB;YAE5BA,mBAAiB;YAAtD,gBAAgB;;;;IAQpB,iCAAsC;;IAEtC,uCAAuC;;IACvC,sCAAsC;;;;;IAEtC,oCAME;;;;;IAEF,gCAA8B;;;;;IAG1B,mCAAqC;;;;;IACrC,oCAAgC;;;;;IAChC,mCAA8B;;;;;IAC9B,sCAA6C;;;;;IAC7C,0CAA4C;;;;;IAC5C,yCAA0C;;;;;AAgqBlD,6BAGC;;;IAFG,kCAAiB;;IACjB,gCAAiB;;;;;AAGrB,2BAIC;;;IAHG,8BAAe;;IACf,gCAAkB;;IAClB,+BAAiB;;;;;;;ACptBrB,MAKa,eAAe;;;YAJ3B,SAAS,SAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,QAAQ,EAAE,gCAAgC;aAC3C;;;;;;;ACAD,MAAa,cAAc;CA8D1B;;;IA7DC,oCAAoB;;IACpB,+BAAe;;IAEf,qCAAqB;;IAErB,mCAAmB;;IAEnB,+BAAe;;IAEf,8BAAc;;IAEd,qCAA2B;;IAE3B,kCAAkB;;IAElB,+BAAe;;IAEf,kCAAkB;;IAElB,iCAAiB;;IAGjB,kCAAmB;;IAEnB,qCAAqB;;IAErB,mCAAmB;;IAEnB,oCAAqB;;IAErB,iCAAiB;;IAEjB,iCAAiB;;IAEjB,kCAAoB;;IAGpB,sCAAuB;;IAEvB,gCAAgB;;IAEhB,oCAAoB;;IAEpB,mCAAoB;;IAEpB,8BAAc;;IAEd,8BAAc;;IAEd,kCAAiB;;IACjB,gCAAe;;IACf,+BAAc;;IACd,iCAAkB;;IAClB,mCAAoB;;IACpB,mCAA2B;;IAC3B,sCAAsB;;IACtB,yCAAyB;;IACzB,oCAAiB;;IACjB,oCAAiB;;IACjB,mCAAoB;;IACpB,uCAAwB;;;;;;;ACjE1B,MA0Ba,oBAAoB;;;;;IAmD7B,YACY,aAA4B,EAC5B,aAA4B;QAD5B,kBAAa,GAAb,aAAa,CAAe;QAC5B,kBAAa,GAAb,aAAa,CAAe;QAhD/B,gBAAW,GAAY,IAAI,CAAC;QAKrC,sBAAiB,GAAmB;YAChC,aAAa;YACb,QAAQ;SACX,CAAC;QAEF,wBAAmB,GAAmB;YAClC,aAAa;YACb,YAAY;YACZ,QAAQ;SACX,CAAC;QAEF,WAAM,GAAmB,EAAE,CAAC;;QAG5B,aAAQ,GAAmB,EAAE,CAAC;;QAG9B,YAAO,GAAmB,EAAE,CAAC;QAE7B,YAAO,GAAmB,EAAE,CAAC;;QAG7B,mBAAc,GAAmB,EAAE,CAAC;QACpC,mBAAc,GAAmB,EAAE,CAAC;QAEpC,aAAQ,GAAY,KAAK,CAAC;QAI1B,aAAQ,GAAa,EAAE,CAAC;QAExB,iBAAY,GAAY,KAAK,CAAC;QAEtB,mBAAc,GAAmB,EAAE,CAAC;QACpC,YAAO,GAAG;YACd,QAAQ,EAAE,EAAE;YACZ,UAAU,EAAE,CAAC;YACb,OAAO,EAAE,KAAK;SACjB,CAAC;KAMG;;;;IAEL,QAAQ;QACJ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAElE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/C,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAErD,IAAI,CAAC,IAAI,EAAE,CAAC;QAEZ,UAAU;;;QAAC;YACP,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aAC7C;iBAAM;gBACH,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB;SACJ,GAAE,GAAG,CAAC,CAAC;KACX;;;;IAED,WAAW;QACP,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACxD,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;KACzC;;;;IAED,eAAe;QACX,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS;;;QAAC;YACxD,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB,EAAC,CAAC;KACN;;;;IAED,IAAI;QAEA,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC;;;gBAGrC,SAAS,GAAG,EAAE;YAClB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC;;;;YAAE,CAAC,OAAO;gBACpD,OAAO,CAAC,OAAO;;;;gBAAC,MAAM;;wBACd,IAAI,sBAAiB,IAAI,CAAC,mBAAmB,CAAC;wBAC9C,MAAM,EAAE,MAAM,CAAC,QAAQ;wBACvB,OAAO,EAAE,MAAM,CAAC,QAAQ;wBACxB,MAAM,EAAE,MAAM,CAAC,UAAU;qBAC5B,CAAC,EAAA;oBACF,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;oBAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC5B,EAAC,CAAC;gBAEH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAEpC,EAAC,CAAC;SAEN;aAAM;YACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC;;YAG3C,IAAI,CAAC,aAAa,CAAC,UAAU;;;;YAAC,CAAC,MAAM;gBACjC,MAAM,CAAC,OAAO;;;;gBAAC,KAAK;;wBACZ,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC;wBAClC,OAAO,EAAE,KAAK;wBACd,MAAM,EAAE,KAAK;wBACb,MAAM,EAAE,MAAM,CAAC,MAAM;qBACxB,CAAC;oBACF,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC9B,EAAC,CAAC;gBAEH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACpC,EAAC,CAAC;;YAGH,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC;;;;YAAE,CAAC,OAAO;gBACnD,OAAO,CAAC,OAAO;;;;gBAAC,MAAM;;wBACd,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC;wBAChC,MAAM,EAAE,MAAM,CAAC,QAAQ;wBACvB,OAAO,EAAE,MAAM,CAAC,QAAQ;wBACxB,MAAM,EAAE,MAAM,CAAC,UAAU;qBAC5B,CAAC;oBACF,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;oBAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC5B,EAAC,CAAC;gBAEH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAChC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAEpC,EAAC,CAAC;SACN;QAED,IAAI,CAAC,UAAU,CAAC,OAAO;;;;QAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,CAAC;QAChG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;KAE3C;;;;IAED,UAAU;QACN,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB;;;;;IAED,WAAW,CAAC,OAAwB;QAEhC,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAChC,OAAO,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;SAClC;;QAGD,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;YACnE,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;SAC5B;aAAM;YACH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;;YAEG,QAAQ,GAAG,EAAE;;YAAE,QAAQ,GAAG,EAAE;QAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;gBACjC,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC;YACvB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC9B,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAC5C;QAED,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KAE1B;;;;;IAED,cAAc,CAAC,MAAW;QACtB,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;;SAE3B;aAAM;YACH,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAClD;QACD,OAAO,MAAM,CAAC;KACjB;;;;;IAED,YAAY,CAAC,MAAoB;QAC7B,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB;;;;IAED,WAAW;QACP,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE;YACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;SACzB;KACJ;;;;IAED,gBAAgB;QACZ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,qBAAqB,EAAE,CAAC;KAChC;;;;IAED,SAAS;QACL,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACzB;;;;IAED,QAAQ;QACJ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;KACxB;;;;IAED,YAAY;;YACJ,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC5D,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM;;;;YAAC,MAAM;gBAC7C,OAAO,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBACnC,OAAO,MAAM,CAAC,EAAE,KAAK,QAAQ,IAAI,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aACxE,EAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC;SACvC;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;KAC5B;;;;;IAED,SAAS,CAAC,MAAoB;QAC1B,MAAM,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC;QACnC,IAAI,MAAM,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;gBACjC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACpC;SACJ;aAAM;YACH,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SAC7B;KACJ;;;;;IAED,YAAY,CAAC,MAAoB;;YACzB,KAAK,GAAG,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC;QAC/C,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SACxC;KACJ;;;;;IAED,iBAAiB,CAAC,MAAoB;QAClC,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;KACnD;;;;;IAED,sBAAsB,CAAC,MAAoB;QACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjD,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAE;gBACzC,OAAO,CAAC,CAAC;aACZ;SACJ;QACD,OAAO,CAAC,CAAC,CAAC;KACb;;;;IAED,SAAS;QACL,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;KAClC;;;;;IAED,aAAa,CAAC,CAAC;QACX,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;;IAED,WAAW,CAAC,CAAC;QACT,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB;;;;;IAED,eAAe,CAAC,CAAC;;YACT,IAAI,GAAG,CAAC,CAAC,MAAM;QACnB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE;YACzF,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;KACJ;;;;;IAEO,eAAe;QACnB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC;KAChD;;;;;IAEO,qBAAqB;QACzB,IAAI,CAAC,QAAQ,CAAC,OAAO;;;;QAAC,MAAM,IAAI,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAC,CAAC;KACrF;;;;;IAEO,YAAY;QAChB,IAAI,CAAC,UAAU,CAAC,OAAO;;;;QAAC,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,KAAK,EAAC,CAAC;QACnD,IAAI,CAAC,MAAM,CAAC,OAAO;;;;QAAC,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,KAAK,EAAC,CAAC;QACnD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;KAC7B;;;;;IAEO,WAAW;QACf,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;KAC9B;;;;;;IAEO,aAAa,CAAC,IAAc;QAChC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC;YAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CACtE,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAC/C,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;QAE5D,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;KAC/C;;;;;IAEO,YAAY;QAChB,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;KACvF;;;;;;IAEO,YAAY,CAAC,OAAuB;QACxC,OAAO,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,OAAO,CAAC,EAAC,CAAC;KAC9D;;;;;;IAEO,iBAAiB,CAAC,GAAW;QACjC,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;KACvD;;;;;;IAEO,mBAAmB,CAAC,UAAU;QAClC,OAAO;YACH,EAAE,EAAE,UAAU,CAAC,MAAM;YACrB,OAAO,EAAE,UAAU,CAAC,OAAO;YAC3B,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC;YACzD,KAAK,EAAE,CAAC,UAAU,CAAC;YACnB,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,OAAO,CAAC;SACrD,CAAC;KACL;;;;;IAEO,iBAAiB;QACrB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KAC1C;;;;;;IAEO,iBAAiB,CAAC,KAAa;QACnC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;KAChD;;;;;IAEO,iBAAiB;QACrB,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC;KAC/C;;;YA/WJ,SAAS,SAAC;gBACP,QAAQ,EAAE,qBAAqB;gBAC/B,+tHAA4C;;aAK/C;;;;YAhBO,aAAa;YAKb,aAAa;;;yBAahB,SAAS,SAAC,YAAY;0BACtB,SAAS,SAAC,aAAa;0BACvB,SAAS,SAAC,aAAa;0BAEvB,KAAK;uBACL,KAAK;;;;IALN,0CAAoC;;IACpC,2CAAkD;;IAClD,2CAAkD;;IAElD,2CAAqC;;IACrC,wCAAkD;;IAElD,0CAA2B;;IAE3B,iDAGE;;IAEF,mDAIE;;IAEF,sCAA4B;;IAG5B,wCAA8B;;IAG9B,uCAA6B;;IAE7B,uCAA6B;;IAG7B,8CAAoC;;IACpC,8CAAoC;;IAEpC,wCAA0B;;IAE1B,2CAAoB;;IACpB,uCAAgB;;IAChB,wCAAwB;;IAExB,4CAA8B;;;;;IAE9B,8CAA4C;;;;;IAC5C,uCAIE;;;;;IACF,kDAA2B;;;;;IAGvB,6CAAoC;;;;;IACpC,6CAAoC;;;;;;;AC/E5C,MAOa,iBAAiB;;;;IAE1B,YAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;QAC9B,IAAI,CAAC,IAAI,EAAE,CAAC;KACf;;;;IAED,IAAI;QACA,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,MAAM,GAAG,KAAK,CAAC;KACxC;;;;IAED,IAAI;QACA,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;KACvC;;;YAjBJ,SAAS,SAAC;gBACP,QAAQ,EAAE,oBAAoB;gBAC9B,gGAAwC;;aAE3C;;;;YANkB,UAAU;;;;;;;IASb,+BAAsB;;;;;;;ACTtC,MAyBa,qBAAqB;;;;IA4B9B,YAAoB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QA1BvC,sBAAiB,GAAY,KAAK,CAAC;QACnC,sBAAiB,GAAY,KAAK,CAAC;QACnC,cAAS,GAAY,KAAK,CAAC;QAC3B,sBAAiB,GAAY,KAAK,CAAC;QACnC,gBAAW,GAAW,qBAAqB,CAAC;QAC5C,gBAAW,GAAY,IAAI,CAAC;QAE3B,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;QACnC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QAS3C,YAAO,GAAW,EAAE,CAAC;QACrB,UAAK,GAAmB,EAAE,CAAC;QAC3B,gBAAW,GAAmB,EAAE,CAAC;;QAGzB,cAAS,GAAG,qBAAqB,CAAC;QAElC,cAAS,GAAY,KAAK,CAAC;KAEkB;;;;IAErD,QAAQ;QACJ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;;QAG7C,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO;;;QAAE;YACnD,UAAU;;;YAAC;gBACP,IAAI,CAAC,UAAU,EAAE,CAAC;aACrB,GAAE,CAAC,CAAC,CAAC;SACT,EAAC,CAAC;QAEH,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAE1D,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACpC;KACJ;;;;IAED,WAAW;QACP,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAChE;;;;;IAED,gBAAgB,CAAC,CAAC;;QAEd,IAAI,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE;YACpE,OAAO;SACV;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO;SACV;QAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE;YACxE,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QACD,UAAU;;;QAAC;YACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SAC1B,GAAE,GAAG,CAAC,CAAC;KACX;;;;IAED,WAAW;QACP,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;KACnD;;;;;IAED,aAAa,CAAC,CAAC;QACX,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;KACJ;;;;IAED,YAAY;;cACF,MAAM,GAAG,IAAI,CAAC,OAAO,EAAE;QAC7B,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACjB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,OAAO;SACV;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;KACzB;;;;IAED,OAAO;;YACC,MAAM,GAAQ;YACd,OAAO,EAAE,IAAI,CAAC,OAAO;SACxB;;QAGD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;gBACnB,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACvC;SACJ;;;cAGK,WAAW,GAAG,IAAI,CAAC,kBAAkB,EAAE;QAC7C,IAAI,WAAW,EAAE;YACb,MAAM,CAAC,UAAU,GAAG,WAAW,CAAC;SACnC;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;SACxC;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;SAC3C;QAED,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,EAAE;YAChD,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;SACjD;QAED,OAAO,MAAM,CAAC;KACjB;;;;IAED,OAAO;QACH,OAAO,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;KAC5C;;;;;IAED,YAAY,CAAC,QAAwC;QACjD,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAEzB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;QAEhC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAExE,IAAI,CAAC,YAAY,EAAE,CAAC;;;;QAMpB,IAAI,QAAQ,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE;YACzC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SACjD;QAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;;QAGpB,IAAI,CAAC,WAAW,EAAE,CAAC;KAEtB;;;;IAED,SAAS;;QAGL,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QAE5B,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;SAChC;QAED,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;;;;IAED,WAAW;QACP,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;YACvD,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;KACJ;;;;IAED,SAAS;QACL,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAClC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;KACJ;;;;;IAED,QAAQ,CAAC,YAAsB;QAC3B,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YACpB,OAAO;SACV;QAED,IAAI,CAAC,IAAI,CAAC,iBAAiB,IAAI,CAAC,YAAY,EAAE;YAC1C,YAAY,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,YAAY,EAAE;YACd,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;SAC1C;aAAM;YACH,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,UAAU;;;YAAC;gBACP,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;aAC1C,GAAE,GAAG,CAAC,CAAC;SACX;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;KAC7B;;;;;IAED,QAAQ,CAAC,YAAsB;QAC3B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YACrB,OAAO;SACV;QAED,IAAI,CAAC,IAAI,CAAC,iBAAiB,IAAI,CAAC,YAAY,EAAE;YAC1C,YAAY,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,YAAY,EAAE;YACd,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;SAC1B;aAAM;YACH,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,UAAU;;;YAAC;gBACP,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;aAC1B,GAAE,CAAC,CAAC,CAAC;SACT;QACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACtC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;KAC9B;;;;IAED,oBAAoB;QAChB,OAAO,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;KAC3D;;;;IAED,YAAY;QACR,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KACxC;;;;IAED,WAAW;QACP,UAAU;;;QAAC;YACP,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;SACjC,GAAE,CAAC,CAAC,CAAC;KACT;;;;;IAEO,UAAU;QACd,IAAI,CAAC,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YAC9C,OAAO;SACV;;QAGD,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,EAAE;YAC9B,OAAO;SACV;;YAEG,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QAC7C,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SACtC;KACJ;;;;;IAEO,aAAa;QACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;KACvD;;;;;;IAEO,aAAa,CAAC,MAAc;QAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;KACrC;;;;;IAEO,kBAAkB;QACtB,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM;;;;QAAC,IAAI,IAAI,IAAI,CAAC,EAAE,EAAC,CAAC,GAAG;;;;QAAC,IAAI,IAAI,IAAI,CAAC,EAAE,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAClF;;;YAtRJ,SAAS,SAAC;gBACP,QAAQ,EAAE,gBAAgB;gBAC1B,+8CAA6C;;aAEhD;;;;YATO,aAAa;;;uBAYhB,KAAK;gCACL,KAAK;gCACL,KAAK;wBACL,KAAK;gCACL,KAAK;0BACL,KAAK;0BACL,KAAK;uBAEL,MAAM;qBACN,MAAM;0BAEN,SAAS,SAAC,aAAa;wBACvB,SAAS,SAAC,WAAW;0BACrB,SAAS,SAAC,oBAAoB;8BAC9B,SAAS,SAAC,iBAAiB;0BAC3B,SAAS,SAAC,oBAAoB;wBAC9B,SAAS,SAAC,iBAAiB;;;;IAhB5B,yCAAkC;;IAClC,kDAA4C;;IAC5C,kDAA4C;;IAC5C,0CAAoC;;IACpC,kDAA4C;;IAC5C,4CAAqD;;IACrD,4CAAqC;;IAErC,yCAA6C;;IAC7C,uCAA2C;;IAE3C,4CAAkD;;IAClD,0CAA8C;;IAC9C,4CAAmE;;IACnE,gDAAiE;;IACjE,4CAAmE;;IACnE,0CAA2D;;IAE3D,wCAAqB;;IACrB,sCAA2B;;IAC3B,4CAAiC;;;;;IAGjC,0CAA0C;;;;;IAC1C,uCAAe;;;;;IACf,0CAAmC;;;;;IAEvB,8CAAoC;;;;;;;ACrDpD,MAWa,oBAAoB;;;;IAa7B,YACY,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAR/B,iBAAY,GAAY,IAAI,CAAC;QAE5B,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QACjC,YAAO,GAAG,IAAI,YAAY,EAAO,CAAC;QAE5C,kBAAa,GAAW,CAAC,CAAC;KAItB;;;;IAEJ,QAAQ;QACJ,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;aAAM;YACH,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;KACJ;;;;;IAEO,aAAa;;YACb,MAAW;QACf,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,MAAM,GAAG;gBACL,QAAQ,EAAE,IAAI,CAAC,UAAU;aAC5B,CAAC;SACL;aAAM,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,EAAE;YAC3C,MAAM,GAAG;gBACL,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,WAAW,EAAE,IAAI,CAAC,WAAW;aAChC,CAAC;SACL;QAED,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM;;;;;YAAE,CAAC,QAAQ,EAAE,GAAG;gBAClD,IAAI,GAAG,EAAE;oBACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBAC1B;qBAAM;oBACH,IAAI,QAAQ,CAAC,MAAM,EAAE;wBACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAC/B;yBAAM;wBACH,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBACzB,IAAI,CAAC,OAAO,EAAE,CAAC;qBAClB;iBACJ;aACJ,EAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBACd,OAAO,EAAE,WAAW;aACvB,CAAC,CAAC;SACN;KACJ;;;;;IAEO,OAAO;QACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACnC;;;YAnEJ,SAAS,SAAC;gBACP,QAAQ,EAAE,mBAAmB;gBAC7B,uLAA4C;;aAI/C;;;;YARO,aAAa;;;yBAUhB,KAAK;wBACL,KAAK;0BACL,KAAK;uBACL,KAAK;2BAEL,KAAK;qBAEL,MAAM;sBACN,MAAM;;;;IARP,0CAA4B;;IAC5B,yCAA2B;;IAC3B,2CAA6B;;IAC7B,wCAAkC;;IAElC,4CAAsC;;IAEtC,sCAA2C;;IAC3C,uCAA4C;;IAE5C,6CAA0B;;;;;IAGtB,6CAAoC;;;;;;;ACzB5C,MAca,iBAAiB;;;;;IAc1B,YACY,aAA4B,EAC5B,YAA4B;QAD5B,kBAAa,GAAb,aAAa,CAAe;QAC5B,iBAAY,GAAZ,YAAY,CAAgB;QAb9B,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QAM9C,YAAO,GAAY,KAAK,CAAC;QAQrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;KAC/C;;;;IAED,eAAe;QACX,IAAI,IAAI,CAAC,eAAe,EAAE;;gBAClB,KAAK,GAAG,EAAE;;gBACV,UAAU,GAAG,CAAC;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;gBAC/C,IAAI,KAAK,CAAC,MAAM,IAAI,UAAU,EAAE;oBAC5B,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC,GAAG,gBAAgB,CAAC,CAAC;oBACrF,MAAM;iBACT;aACJ;YACD,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,CAAC;gBAC7C,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;gBACzB,IAAI,EAAE,IAAI;aACb,CAAC,CAAC;SACN;KACJ;;;;IAED,WAAW;QACP,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB;;;;IAED,YAAY;QACR,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KACvB;;;;IAED,kBAAkB;QACd,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACxB;;;;IAED,cAAc;QACV,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAC,KAAK,EAAE,UAAU,EAAC,CAAC,CAAC;KACvF;;;;IAED,aAAa;QACT,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAC;;;;QAAE,CAAC,QAAwB;YACvF,IAAI,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE;gBAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACjC;SACJ,EAAC,CAAC;KACN;;;;IAED,aAAa;QACT,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;KACJ;;;;IAED,YAAY;;cACF,MAAM,GAAG;YACX,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;SAC/B;QACD,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;QACrD,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;YAC1B,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM;;;;YAAE,IAAI;aAC3C,EAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM;;;;YAAE,IAAI;aAC7C,EAAC,CAAC;SACN;KACJ;;;;;IAED,cAAc,CAAC,IAAI;QACf,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI;;;;QAAE,CAAC,QAAwB;YAC7D,IAAI,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE;gBAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC9B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;SACJ,EAAC,CAAC;KACN;;;YAlGJ,SAAS,SAAC;gBACP,QAAQ,EAAE,kBAAkB;gBAC5B,gmFAAwC;;aAE3C;;;;YATO,aAAa;YAED,cAAc;;;uBAS7B,KAAK;wBAEL,MAAM;wBACN,MAAM;8BAEN,SAAS,SAAC,iBAAiB;+BAC3B,SAAS,SAAC,kBAAkB;;;;IAN7B,qCAAkC;;IAElC,sCAA8C;;IAC9C,sCAA8C;;IAE9C,4CAA0D;;IAC1D,6CAAkE;;IAElE,qCAAiB;;IACjB,oCAAyB;;;;;IAEzB,sCAA8B;;;;;IAG1B,0CAAoC;;;;;IACpC,yCAAoC;;;;;;;AC9B5C,MAEa,aAAc,SAAQ,cAAc;CAGhD;;;IAFC,mCAAoB;;IACpB,sCAAwB;;;;;;;ACJ1B,MASa,gBAAgB;;;;IAUzB,YACY,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAT/B,aAAQ,GAAY,IAAI,CAAC;QAExB,cAAS,GAAG,IAAI,YAAY,EAAiB,CAAC;QAC9C,cAAS,GAAG,IAAI,YAAY,EAAiB,CAAC;QAQpD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;KAC/C;;;;IAED,iBAAiB;QACb,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACxB;;;;IAED,WAAW;QACP,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KACvB;;;;;IAED,aAAa,CAAC,MAAM;QAChB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM;;;;QAAE,CAAC,OAAsB;YAC5D,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE;gBACzB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC;SACJ,EAAC,CAAC;KACN;;;;IAED,aAAa;QACT,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;YAC7B,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;YAC1B,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU;SACpC;;;;QAAE,CAAC,OAAsB;YACtB,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE;gBACzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC;SACJ,EAAC,CAAC;KACN;;;;IAED,WAAW;;cACD,MAAM,GAAG;YACX,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU;YACjC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;SAC7B;QACD,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;QACnD,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;YACzB,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM;;;;YAAE,IAAI,OAAM,EAAC,CAAC;SACtD;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM;;;;YAAE,IAAI,OAAM,EAAC,CAAC;SACxD;KACJ;;;YA9DJ,SAAS,SAAC;gBACP,QAAQ,EAAE,iBAAiB;gBAC3B,kgDAAuC;;aAE1C;;;;YANO,aAAa;;;sBAQhB,KAAK;uBACL,KAAK;wBAEL,MAAM;wBACN,MAAM;;;;IAJP,mCAAgC;;IAChC,oCAAkC;;IAElC,qCAAwD;;IACxD,qCAAwD;;IAExD,oCAAiB;;IACjB,mCAAiB;;;;;IAGb,yCAAoC;;;;;;;ACpB5C,MASa,wBAAwB;IAKnC,iBAAiB;;;;IAEjB,eAAe;QACb,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QAE9C,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,iBAAiB;;;;QAAE,CAAC,CAAC;YAClC,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB,EAAC,CAAC;QAEH,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACtC;;;;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;KACtB;;;;;IAED,YAAY,CAAC,QAAwB;QACnC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,UAAU;;;QAAC;YACT,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SAC3B,GAAE,GAAG,CAAC,CAAC;KACT;;;YA/BF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,grBAA0C;;aAE3C;;;;;wBAEE,SAAS,SAAC,WAAW;;;;IAAtB,6CAA8C;;IAC9C,4CAAyB;;IACzB,0CAAY;;;;;;;ACZd,MASa,qBAAqB;;;;IAKhC,YACU,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;KAClC;;;;;IAEJ,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,UAAU,CAAC,YAAY,KAAK,OAAO,CAAC,UAAU,CAAC,aAAa,EAAE;YACxE,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;KACF;;;;;IAED,eAAe,CAAC,QAAwB;QACtC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC1B;;;;;IAEO,KAAK;QACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;YAC9B,QAAQ,EAAE,IAAI,CAAC,UAAU;SAC1B;;;;QAAE,CAAC,QAAwB;YAC1B,IAAI,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE;gBAC7B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;aAC1B;iBAAM;gBACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;aACtB;SACF,EAAC,CAAC;KACJ;;;YAnCF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,0OAA6C;;aAE9C;;;;YAPO,aAAa;;;yBASlB,KAAK;;;;IAAN,2CAA4B;;IAE5B,yCAAyB;;IACzB,yCAAkB;;;;;IAEhB,8CAAoC;;;;;;;ACfxC,MAWa,oBAAoB;IAPjC;QAQa,SAAI,GAAmC,EAAE,CAAC;KACtD;;;YATA,SAAS,SAAC;gBACP,QAAQ,EAAE,eAAe;gBACzB,gwBAA4C;;aAI/C;;;mBAEI,KAAK;;;;IAAN,oCAAmD;;;;;;;ACZvD,MAOa,SAAS;;;YALrB,SAAS,SAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,+XAAyC;;aAE1C;;;mBAEE,KAAK;;;;IAAN,yBAA6B;;;;;AAG/B,4BAKC;;;IAJC,8BAAa;;IACb,8BAAa;;IACb,oCAAmB;;IACnB,4BAAY;;;;;;;ACfd,MASa,2BAA2B;IAQpC;QANU,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QACjC,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;KAM5C;;;;IAED,QAAQ;QACJ,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACZ,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;KAC3D;;;YAtBJ,SAAS,SAAC;gBACP,QAAQ,EAAE,cAAc;gBACxB,krBAAoD;;aAEvD;;;;;mBAEI,KAAK;qBACL,MAAM;uBACN,MAAM;;;;IAFP,2CAA8C;;IAC9C,6CAA2C;;IAC3C,+CAA6C;;IAE7C,gDAAmB;;IACnB,iDAAoB;;;;;;;ACfxB,MAYa,qBAAqB;;;;IAW9B,YACY,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAXxC,aAAQ,GAAW,aAAa,CAAC;QACjC,YAAO,GAAmB,EAAE,CAAC;QAE7B,WAAM,GAAQ;YACV,QAAQ,EAAE,EAAE;YACZ,UAAU,EAAE,CAAC;SAChB,CAAC;QASF,gBAAW,GAAW,oBAAoB,CAAC;KAF1C;;;;IAID,gBAAgB;KACf;;;;;IAED,QAAQ,CAAC,KAAa;QAClB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KAC7B;;;;IAED,QAAQ;QACJ,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;KAC1B;;;;;IAED,YAAY,CAAC,MAAM;QACf,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC;YAChC,MAAM,EAAE,MAAM,CAAC,QAAQ;YACvB,UAAU,EAAE,MAAM,CAAC,QAAQ;YAC3B,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE,IAAI,CAAC,QAAQ;SAC1B;;;;;QAAE,CAAC,QAAQ,EAAE,KAAK;SAClB,EAAC,CAAC;KACN;;;;;;IAEO,aAAa,CAAC,OAAe;QACjC,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,KAAK,OAAO,EAAE;YACjC,OAAO;SACV;QACD,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;QAE3B,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,UAAU;;;QAAC;YACrB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM;;;;;YAAE,CAAC,OAAO,EAAE,KAAK;gBAC5D,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,OAAO,EAAE;oBAChC,OAAO;iBACV;;sBACK,OAAO,GAAG,OAAO,IAAI,EAAE;;sBACvB,SAAS,GAAG,EAAE;gBACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClB,OAAO,CAAC,OAAO;;;;gBAAC,IAAI;oBAChB,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;wBACtC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBAC9B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;4BAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;yBACjC;wBACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBAC3B;iBACJ,EAAC,CAAC;aACN,EAAC,CAAC;SACN,GAAE,GAAG,CAAC,CAAC;KACX;;;YA1EJ,SAAS,SAAC;gBACP,g6BAA6C;;aAKhD;;;;YATO,aAAa;;;;IAWjB,yCAAiC;;IACjC,wCAA6B;;IAE7B,uCAGE;;;;;IAEF,uCAAe;;IAOf,4CAA2C;;;;;IAJvC,8CAAoC;;;;;;;ACxB5C,MAWa,yBAAyB;;;;IAWlC,YACY,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;;QATxC,aAAQ,GAAW,SAAS,CAAC;KAW5B;;;;IAED,QAAQ;QACJ,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,eAAe,EAAE,CAAC;KAC1B;;;;;IAED,YAAY,CAAC,MAAM;QACf,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC;YAChC,MAAM,EAAE,MAAM,CAAC,OAAO;YACtB,QAAQ,EAAE,MAAM,CAAC,QAAQ;SAC5B;;;;;QAAE,CAAC,QAAQ,EAAE,KAAK;SAElB,EAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;KACnD;;;;;IAED,YAAY,CAAC,MAAM;QACf,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC;YAChC,MAAM,EAAE,MAAM,CAAC,OAAO;YACtB,QAAQ,EAAE,MAAM,CAAC,QAAQ;SAC5B;;;;;QAAE,CAAC,QAAQ,EAAE,KAAK;SAElB,EAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;KACnD;;;;;IAED,YAAY,CAAC,MAAM;QACf,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC;YAChC,MAAM,EAAE,MAAM,CAAC,QAAQ;YACvB,QAAQ,EAAE,MAAM,CAAC,QAAQ;SAC5B;;;;;QAAE,CAAC,QAAQ,EAAE,KAAK;SAElB,EAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;KAC3D;;;;;IAEO,kBAAkB;QACtB,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC;;;;;QAAE,CAAC,OAAO,EAAE,KAAK;YACpE,IAAI,CAAC,WAAW,GAAG,OAAO,IAAI,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;YAClD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;SACnD,EAAC,CAAC;KACN;;;;;IAEO,eAAe;QACnB,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC;;;;;QAAE,CAAC,OAAO,EAAE,KAAK;YACjE,IAAI,CAAC,eAAe,GAAG,OAAO,IAAI,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;YACtD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;SAC3D,EAAC,CAAC;KACN;;;YAzEJ,SAAS,SAAC;gBACP,2+DAAiD;;aAKpD;;;;YARO,aAAa;;;;IAYjB,6CAA6B;;IAE7B,gDAA4B;;IAC5B,iDAAsB;;IAEtB,oDAAgC;;IAChC,qDAA0B;;;;;IAGtB,kDAAoC;;;;;;;ACvB5C,MAWa,iBAAiB;;;;;;IAe1B,YACY,aAA4B,EAC5B,aAA4B,EAC5B,YAAiC;QAFjC,kBAAa,GAAb,aAAa,CAAe;QAC5B,kBAAa,GAAb,aAAa,CAAe;QAC5B,iBAAY,GAAZ,YAAY,CAAqB;QAjBpC,gBAAW,GAAW,aAAa,CAAC;QACpC,WAAM,GAAW,OAAO,CAAC;QAIlC,YAAO,GAAU,EAAE,CAAC;QACpB,kBAAa,GAAQ,EAAE,CAAC;QACxB,gBAAW,GAAQ,EAAE,CAAC;QACtB,iBAAY,GAAQ,EAAE,CAAC;QAGf,kBAAa,GAAG,kBAAkB,CAAC;QACnC,gBAAW,GAAG,gBAAgB,CAAC;;cAQ7B,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;;QAE/D,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;SAC5C;aAAM;YACH,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa;;;;YAC7C,CAAC,GAAG;gBACA,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC;;;;gBAAE,CAAC,KAAK;oBAClD,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC3B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;qBACzD;oBACD,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;iBACtD,EAAC,CAAC;aACN;;;;YACD,CAAC,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAC,CAAC;SAC5C;QAED,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW;;;;QAC3C,CAAC,GAAG;YACA,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC;;;;YAAE,CAAC,KAAK;gBACjD,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;aACtD,EAAC,CAAC;SACN;;;;QACD,CAAC,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAC,CAAC;KAC5C;;;;IAED,QAAQ;QACJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;KAC5C;;;;IAED,SAAS;QACL,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,OAAO;;;;QAAC,IAAI,IAAI,OAAO,IAAI,CAAC,QAAQ,EAAC,CAAC;KACtD;;;;IAED,UAAU;QACN,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB;;;;IAED,QAAQ;;YACA,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE;QACrC,IAAI,KAAK,EAAE;YACP,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;YACvD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;;;;YAAC,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;SACpF;aAAM;YACH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC;SACpC;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;KACxC;;;;IAED,QAAQ;KAEP;;;;;IAED,SAAS,CAAC,MAAM;QACZ,MAAM,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC;QACnC,IAAI,MAAM,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACnC;aAAM;YACH,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SAC7B;KACJ;;;;;IAED,YAAY,CAAC,MAAM;QACf,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;KACpE;;;;;;IAEO,YAAY,CAAC,KAAY;QAC7B,KAAK,CAAC,OAAO;;;;QAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,CAAC;QAC7C,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB;;;;;;IAEO,UAAU,CAAC,MAAM;QACrB,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC;QACrD,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;YACzB,OAAO;SACV;QACD,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC;QACjG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC7B;;;;;IAEO,YAAY;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAC,CAAC;KACrE;;;;;;IAEO,UAAU,CAAC,MAAM;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,QAAQ,EAAE;gBAC9C,OAAO,IAAI,CAAC;aACf;SACJ;KACJ;;;YA3HJ,SAAS,SAAC;gBACP,QAAQ,EAAE,kBAAkB;gBAC5B,m8BAAyC;;aAI5C;;;;YATO,aAAa;YACb,aAAa;YAAE,mBAAmB;;;0BAUrC,KAAK;qBACL,KAAK;qBAEL,SAAS,SAAC,QAAQ;;;;IAHnB,wCAA6C;;IAC7C,mCAAkC;;IAElC,mCAAwC;;IAExC,oCAAoB;;IACpB,0CAAwB;;IACxB,wCAAsB;;IACtB,yCAAuB;;;;;IAEvB,oCAAkC;;;;;IAClC,0CAA2C;;;;;IAC3C,wCAAuC;;;;;IAGnC,0CAAoC;;;;;IACpC,0CAAoC;;;;;IACpC,yCAAyC;;;;;;;AC7BjD,MAQa,oBAAoB;IAO7B;QANS,UAAK,GAAW,iBAAiB,CAAC;QACjC,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;KAM5C;;;;IAED,QAAQ;QACJ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;KAChE;;;;IAED,WAAW;QACP,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;KAC9C;;;;IAED,IAAI;QACA,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KACrB;;;;IAED,OAAO;QACH,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;KAC5B;;;;IAED,MAAM;QACF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAChD,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KACrB;;;;IAED,QAAQ;QACJ,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KACrB;;;YAxCJ,SAAS,SAAC;gBACP,QAAQ,EAAE,qBAAqB;gBAC/B,42BAA4C;;aAE/C;;;;;oBAEI,KAAK;uBACL,MAAM;oBAEN,SAAS,SAAC,OAAO;uBACjB,SAAS,SAAC,UAAU;;;;IAJrB,qCAA2C;;IAC3C,wCAA6C;;IAE7C,qCAA0B;;IAC1B,wCAAmD;;;;;;;ACbvD,MASa,oBAAoB;;;;IAS7B,YACY,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAT9B,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;KAW5C;;;;IAED,QAAQ;QACJ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;QAC5C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;KAChE;;;;IAED,WAAW;QACP,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;KAC9C;;;;IAED,IAAI;QACA,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KACrB;;;;IAED,OAAO;QACH,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;KAC5B;;;;IAED,MAAM;;YACE,MAAM,GAAG;YACT,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE;YAClC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG;;;;YAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC;SAC3E;QACD,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpB,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;YAC3B,OAAO;SACV;QAED,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM;;;;QAAE,CAAC,IAAI;YAC9C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5B,EAAC,CAAC;QAEH,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KACrB;;;;IAED,QAAQ;QACJ,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KACrB;;;YA/DJ,SAAS,SAAC;gBACP,QAAQ,EAAE,qBAAqB;gBAC/B,8nCAA4C;;aAE/C;;;;YANO,aAAa;;;uBAQhB,MAAM;oBAEN,SAAS,SAAC,OAAO;yBACjB,SAAS,SAAC,YAAY;uBACtB,SAAS,SAAC,UAAU;;;;IAJrB,wCAA6C;;IAE7C,qCAA0B;;IAC1B,0CAAgD;;IAChD,wCAAmD;;;;;IAEnD,sCAAe;;;;;IAGX,6CAAoC;;;;;;;ACnB5C,MAiBa,oBAAoB;;;;;;;IAwB/B,YACU,aAA4B,EAC5B,aAA4B,EAC5B,MAAc,EACd,YAA4B;QAH5B,kBAAa,GAAb,aAAa,CAAe;QAC5B,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAgB;QAtBtC,YAAO,GAAU,EAAE,CAAC;QAGpB,YAAO,GAAU,EAAE,CAAC;QAYZ,YAAO,GAAG,gBAAgB,CAAC;QAYnC,gBAAW,GAAG,aAAa,CAAC;QAH1B,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;;;;;IAGD,QAAQ,CAAC,KAAa;QACpB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC;QACzB,IAAI,KAAK,EAAE;YACT,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzC,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,OAAO,CAAC,OAAO;;;;gBAAC,IAAI;oBACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBAC9C,EAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,OAAO;;;;gBAAC,IAAI;oBACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBAC9C,EAAC,CAAC;aACJ;SACF;aAAM;YACL,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,OAAO,CAAC,OAAO;;;;gBAAC,IAAI,IAAI,OAAO,IAAI,CAAC,MAAM,EAAC,CAAC;aAClD;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,OAAO;;;;gBAAC,IAAI,IAAI,OAAO,IAAI,CAAC,MAAM,EAAC,CAAC;aAClD;SACF;KACF;;;;IACD,gBAAgB,MAAM;;;;IAEtB,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;aAC9B,IAAI,CAAC,MAAM;;;;QAAC,KAAK,IAAI,KAAK,YAAY,aAAa,EAAC,CAAC;aACrD,SAAS;;;QAAC;YACT,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB,EAAC,CAAC;QACL,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;;;;IAED,WAAW;QACT,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;KAC5B;;;;IAED,WAAW;QACT,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;KAC/B;;;;IAED,YAAY;QACV,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;;;;;IAED,SAAS,CAAC,KAAa;QACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC;KACpD;;;;;;IAED,WAAW,CAAC,KAAa,EAAE,QAA0B;QACnD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC7D;;;;;IAGD,aAAa;QACX,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;QAChC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW;;;;QAAE,CAAC,OAAO;YAC1C,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC;gBACnC,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;aACpC;;;YAAE;gBACD,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,CAAC,QAAQ,EAAE,CAAC;iBACjB;aACF,EAAC,CAAC;SACJ,EAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;KAC9D;;;;;;IAED,YAAY,CAAC,MAAM,EAAE,QAA0B;QAC7C,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7D,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;KAC5B;;;;IAED,cAAc;;cACN,QAAQ,GAAG,EAAE;QACnB,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;;YAEhC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO;;;;YAAC,QAAQ;gBAC3C,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;aAChF,EAAC,CAAC;SACJ;aAAM;YACL,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;SAClG;QAED,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI;;;;QAAC,MAAM;YAC/B,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;YACD,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB,EAAC,CAAC;QACH,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;KAClC;;;;;;;IAEO,oBAAoB,CAAC,QAAQ,EAAE,QAAQ;QAC7C,OAAO,IAAI,OAAO;;;;;QAAC,CAAC,OAAO,EAAE,MAAM;YACjC,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC;gBACnC,QAAQ,EAAE,QAAQ;gBAClB,MAAM,EAAE,QAAQ;aACjB,EAAE,OAAO,CAAC,CAAC;SACb,EAAC,CAAC;KACJ;;;;IAED,cAAc;QACZ,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;KAC5B;;;;;IAED,eAAe,CAAC,OAAO;QACrB,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC;YACnC,QAAQ,EAAE,IAAI,CAAC,SAAS;YACxB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;SACpC;;;QAAE;YACD,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB,EAAC,CAAC;KACJ;;;;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;KACtC;;;;;IAEO,UAAU;QAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;KACF;;;;;IAEO,WAAW;QACjB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,UAAU;;;;QAAC,MAAM;YAClC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;SACnC,EAAC,CAAC;KACJ;;;;;;IAEO,gBAAgB,CAAC,KAAa;QACpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;;IAEO,YAAY;QAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS;;;;QAAE,KAAK,IAAI,IAAI,CAAC,OAAO,GAAG,KAAK,EAAC,CAAC;KAClE;;;;;IAEO,eAAe;QACrB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,EAAE;;;;QAAE,KAAK;;kBACnB,GAAG,GAAG,EAAE;YACd,KAAK,CAAC,OAAO;;;;YAAC,IAAI;;sBACV,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACxC,IAAI,KAAK,GAAG,CAAC,EAAE;oBACb,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACxB,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAClC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACpD;aACF,EAAC,CAAC;YACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;SAC1C,EAAC,CAAC;KACJ;;;;;;;IAEO,YAAY,CAAC,QAAgB,EAAE,QAAQ;QAC7C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YAC7B,QAAQ,EAAE,CAAC,CAAC;YACZ,QAAQ,EAAE,QAAQ;SACnB;;;;QAAE,CAAC,KAAK;YACP,KAAK,CAAC,OAAO;;;;YAAC,IAAI;gBAChB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;aACtE,EAAC,CAAC;YACH,QAAQ,CAAC,KAAK,CAAC,CAAC;SACjB,EAAC,CAAC;KACJ;;;;;;IAEO,aAAa,CAAC,OAAc;QAClC,OAAO,OAAO,CAAC,GAAG;;;;QAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACtE;;;;;IAEO,WAAW;QACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;;cACrC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAE3C,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAExB,IAAI,CAAC,KAAK,EAAE;YACV,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;aAAM;YACL,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;SAClD;KACF;;;;;;IAEO,YAAY,CAAC,KAAa;QAChC,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;KACvD;;;YAlPF,SAAS,SAAC;gBACT,k8KAAqC;;aAKtC;;;;YAfO,aAAa;YAMb,aAAa;YALE,MAAM;YAGrB,cAAc;;;gCAanB,SAAS,SAAC,mBAAmB;6BAC7B,SAAS,SAAC,gBAAgB;;;;IAD3B,iDAAwE;;IACxE,8CAAkE;;IAElE,0CAAoB;;IACpB,sCAAiB;;IACjB,uCAAoB;;IAEpB,2CAAqB;;IACrB,uCAAoB;;IACpB,yCAAkB;;IAClB,2CAAoB;;IACpB,4CAAkB;;IAElB,mDAAyB;;IACzB,oDAA0B;;IAE1B,wCAAkB;;IAClB,yCAAmB;;IACnB,yCAAmB;;;;;IAEnB,uCAAmC;;;;;IACnC,uCAAgB;;IAWhB,2CAA4B;;;;;IAR1B,6CAAoC;;;;;IACpC,6CAAoC;;;;;IACpC,sCAAsB;;;;;IACtB,4CAAoC;;;;;;;AC7CxC,MAYa,oBAAoB;;;;IAe7B,YAAoB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAdvC,gBAAW,GAAW,sBAAsB,CAAC;QAG5C,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;QACnC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QAM3C,YAAO,GAAW,EAAE,CAAC;QACrB,UAAK,GAAmB,EAAE,CAAC;QAC3B,gBAAW,GAAmB,EAAE,CAAC;KAEoB;;;;IAErD,QAAQ;QACJ,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACtC;KACJ;;;;;IAED,SAAS,CAAC,KAAK;QACX,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB;;;;IAED,MAAM;;cACI,MAAM,GAAG,IAAI,CAAC,OAAO,EAAE;QAC7B,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACjB,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;SAC9B;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;KACzB;;;;IAED,QAAQ;QACJ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrC,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;KACJ;;;;IAED,OAAO;;YACC,MAAM,GAAQ;YACd,OAAO,EAAE,IAAI,CAAC,OAAO;SACxB;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;gBACnB,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACvC;SACJ;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;YAC9C,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YACvC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;SAC9C;QAED,OAAO,MAAM,CAAC;KACjB;;;;;IAED,WAAW,CAAC,OAAsB;QAE9B,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;QAE3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAEvE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAE/B,IAAI,CAAC,YAAY,EAAE,CAAC;;QAGpB,IAAI,CAAC,YAAY,EAAE,CAAC;KAEvB;;;;IAED,SAAS;;QAEL,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAElB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QAE5B,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;KACJ;;;;IAED,YAAY;QACR,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KACxC;;;;;IAEO,eAAe;QACnB,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM;;;;QAAC,IAAI,IAAI,IAAI,CAAC,EAAE,EAAC,CAAC,GAAG;;;;QAAC,IAAI,IAAI,IAAI,CAAC,EAAE,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAClF;;;;;IAEO,YAAY;QAChB,UAAU;;;QAAC;YACP,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;SACjC,GAAE,CAAC,CAAC,CAAC;KACT;;;YAhHJ,SAAS,SAAC;gBACP,QAAQ,EAAE,eAAe;gBACzB,i4BAA4C;;aAE/C;;;;YAPO,aAAa;;;0BAShB,KAAK;0BACL,KAAK;uBAEL,MAAM;qBACN,MAAM;wBAEN,SAAS,SAAC,WAAW;8BACrB,SAAS,SAAC,iBAAiB;wBAC3B,SAAS,SAAC,iBAAiB;;;;IAR5B,2CAAsD;;IACtD,2CAAoC;;IAEpC,wCAA6C;;IAC7C,sCAA2C;;IAE3C,yCAA8C;;IAC9C,+CAAiE;;IACjE,yCAA2D;;IAE3D,uCAAqB;;IACrB,qCAA2B;;IAC3B,2CAAiC;;;;;IAErB,6CAAoC;;;;;;;AC3BpD,MAsBa,oBAAoB;;;;IAkB7B,YACc,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAjBjC,iBAAY,GAAY,IAAI,CAAC;QAE5B,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAOxC,kBAAa,GAAQ;YACzB,QAAQ,EAAE,CAAC;YACX,UAAU,EAAE,CAAC;SAChB,CAAC;QAQE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;;QAG5C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS;;;;QAAC,UAAU;YACvE,IAAI,UAAU,KAAK,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;gBACnC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACnB;SACJ,EAAC,CAAC;KACN;;;;IAED,QAAQ;;KAEP;;;;;IAED,WAAW,CAAC,OAAsB;QAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnB;;;;IAED,WAAW;QACP,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;KACrC;;;;IAED,SAAS;QACL,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;SACnC;KACJ;;;;;IAED,aAAa,CAAC,MAAW;QACrB,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QACrC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACzE;;;;;IAED,IAAI,CAAC,MAAgB;QACjB,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,CAAC,CAAC;SACrC;aAAM;YACH,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;SACnC;QAED,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QAEjD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,EAAE,CAAC;SAC/B;QAED,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa;;;;QAAE,IAAI;;kBAC7C,QAAQ,GAAG,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YAC5C,QAAQ,CAAC,OAAO;;;;YAAC,OAAO,IAAI,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAC,CAAC;YAE/D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI;;;;;YAAC,UAAU,CAAC,EAAE,CAAC;gBACtC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;aAC9B,EAAC,CAAC;YAEH,IAAI,CAAC,cAAc;gBACf,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,KAAK,CAAC,CAAC;YAE1F,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B,EAAC,CAAC;KACN;;;;;IAED,cAAc,CAAC,OAAsB;QACjC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;KACrC;;;;;IAED,cAAc,CAAC,OAAsB;QACjC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KACpC;;;;;;;IAEO,aAAa,CAAC,OAAsB,EAAE,GAAQ;QAClD,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;YAC7B,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAC3C;KACJ;;;;;;IAEO,eAAe,CAAC,IAAY;QAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpD,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,EAAE;gBACzC,OAAO,CAAC,CAAC;aACZ;SACJ;QACD,OAAO,CAAC,CAAC,CAAC;KACb;;;;;;;IAEO,mBAAmB,CAAC,OAAsB,EAAE,aAAuB;;cACjE,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC;QAChD,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC;SAC3C;aAAM;YACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,GAAG,SAAS,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC;SACvE;KACJ;;;;;;IAES,aAAa,CAAC,IAAY;;cAC1B,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;QACxC,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC3C;KACJ;;;YA9HJ,SAAS,SAAC;gBACP,QAAQ,EAAE,qBAAqB;gBAC/B,0hBAA4C;;aAE/C;;;;YAVO,aAAa;;;uBAYhB,KAAK;2BACL,KAAK;0BAEL,MAAM;0BAEN,SAAS,SAAC,oBAAoB;;;;IAL/B,wCAAkC;;IAClC,4CAAsC;;IAEtC,2CAAgD;;IAEhD,2CAAmE;;IAEnE,8CAAuB;;IACvB,wCAAiB;;;;;IAEjB,6CAGE;;;;;IAEF,8CAAqC;;;;;IAGjC,6CAAsC;;;;;;;ACzC9C,MAYa,qBAAqB;;;;IAmB9B,YACW,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAlB9B,eAAU,GAAY,IAAI,CAAC;QAC3B,aAAQ,GAAsB,QAAQ,CAAC;QACvC,SAAI,GAAW,EAAE,CAAC;QAClB,gBAAW,GAAW,EAAE,CAAC;QACzB,WAAM;;;;;QAAa,CAAC,MAAM,EAAE,QAAQ,KAAK,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAC;QAEpF,eAAU,GAAqB,EAAE,CAAC;QAClC,gBAAW,GAAY,IAAI,CAAC;QAC5B,YAAO,GAAY,KAAK,CAAC;QACzB,WAAM,GAAmB;YACrB,QAAQ,EAAE,CAAC;YACX,UAAU,EAAE,CAAC;SAChB,CAAC;;QASE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,SAAS;;;;QAAC,UAAU;YACzE,IAAI,UAAU,EAAE;gBACZ,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;oBAC5B,QAAQ,EAAE,UAAU;iBACvB;;;;gBAAE,CAAC,QAAwB;oBACxB,IAAI,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE;wBAC3B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;qBACrC;iBACJ,EAAC,CAAC;aACN;SACJ,EAAC,CAAC;KACN;;;;IAED,QAAQ;QACJ,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACvB;;;;IAED,WAAW;QACP,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;KACtC;;;;;IAED,kBAAkB,CAAC,EAAU;QACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;kBACvC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACnC,IAAI,QAAQ,CAAC,IAAI,KAAK,EAAE,EAAE;gBACtB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC7B,OAAO;aACV;SACJ;KACJ;;;;;IAED,QAAQ,CAAC,IAAc;QAEnB,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAExB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;aAChC;YAED,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;aAC9C;SAEJ;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QAErB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM;;;;;QAAE,CAAC,IAAI,EAAE,GAAG,KAAK,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAC,CAAC;KACnE;;;;;;IAED,UAAU,CAAC,MAAM,EAAE,QAAQ;QACvB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;KACrD;;;;IAED,SAAS;QACL,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;KAC9B;;;;;;IAEO,WAAW,CAAC,IAAI;QACpB,IAAI,IAAI,EAAE;;kBACA,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACtC,UAAU,CAAC,OAAO;;;;YAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAC,CAAC;YAC5D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;SACzD;QAED,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAEzB,UAAU;;;QAAC;YACP,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAChC,GAAE,IAAI,CAAC,CAAC;KACZ;;;;;IAED,cAAc,CAAC,MAAW;QACtB,IAAI,MAAM,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SAC9E;aAAM;YACH,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SAC5E;KACJ;;;;;IAED,eAAe,CAAC,QAAwB;;QAGpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC7C,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,IAAI,EAAE;gBAC3C,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;gBAC9B,OAAO;aACV;SACJ;QACD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;KACrC;;;;;IAED,eAAe,CAAC,QAAwB;QACpC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAC1C;;;;IAED,YAAY;QACR,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACzC;KACJ;;;;IAED,WAAW;QACP,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC;SAC/B;KACJ;;;;;IAED,iBAAiB,CAAC,QAA2B;QACzC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;KACxE;;;;IAED,mBAAmB;QACf,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;SAC3E;KACJ;;;;;;IAEO,qBAAqB,CAAC,CAAO;QACjC,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAChC,OAAO;SACV;;cACK,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ;;cACzC,MAAM,GAAG,QAAQ,CAAC,gBAAgB,IAAI,QAAQ;QACpD,IAAI,MAAM,EAAE;;;kBAGF,MAAM,GAAG,MAAM,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,YAAY;YAE3E,IAAI,MAAM,GAAG,GAAG,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;gBACzB,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;SACJ;KACJ;;;;;;;IAEO,eAAe,CAAC,QAAwB,EAAE,GAAQ;QACtD,IAAI,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE;YAC3B,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAC9B,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;SACrC;KACJ;;;;;;;IAEO,YAAY,CAAC,QAAwB,EAAE,aAAuB;QAClE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,aAAa,EAAE;YACf,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACrC;aAAM;YACH,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAClC;KACJ;;;YA3LJ,SAAS,SAAC;gBACP,QAAQ,EAAE,sBAAsB;gBAChC,g2BAA6C;;aAEhD;;;;YAVO,aAAa;;;2BAYhB,SAAS,SAAC,cAAc;yBACxB,KAAK;uBACL,KAAK;mBACL,KAAK;0BACL,KAAK;qBACL,KAAK;;;;IALN,6CAA+D;;IAC/D,2CAAoC;;IACpC,yCAAgD;;IAChD,qCAA2B;;IAC3B,4CAAkC;;IAClC,uCAAoF;;IAEpF,2CAAkC;;IAClC,4CAA4B;;IAC5B,wCAAyB;;IACzB,uCAGE;;;;;IAEF,gDAAsC;;;;;IACtC,yCAA0B;;IAGtB,8CAAmC;;;;;;;AChC3C,MAUa,uBAAuB;;;;IAKhC,YAAoB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAJvC,gBAAW,GAAiB,EAAE,CAAC;QACxC,UAAK,GAAmB,EAAE,CAAC;KAG0B;;;;;IACrD,WAAW,CAAC,OAAsB;QAC9B,IAAI,OAAO,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;KACJ;;;;;;IAED,SAAS,CAAC,IAAkB,EAAE,OAAoB;;cACxC,OAAO,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC;YACnC,YAAY,EAAE,OAAO;SACxB;QACD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;KACxD;;;;;IAED,cAAc,CAAC,IAAI;;cACT,IAAI,GAAG,IAAI,CAAC,IAAI;;cAChB,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC;QACnD,IAAI,UAAU,EAAE;YACZ,IAAI,IAAI,CAAC,KAAK,EAAE;;oBACR,OAAO,GAAgB,IAAI,CAAC,KAAK,CAAC,MAAM;gBAC5C,IAAI,OAAO,CAAC,OAAO,KAAK,KAAK,EAAE;;oBAE3B,OAAO,GAAG,OAAO,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;iBACpD;gBAED,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;aACjC;iBAAM;gBACH,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;aACjD;SACJ;KACJ;;;;;;IAEO,kBAAkB,CAAC,EAAU;QACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC9C,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,KAAK,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aAC9B;SACJ;KACJ;;;;;;IAEO,cAAc,CAAC,EAAU;QAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE;gBAC3B,OAAO,CAAC,CAAC;aACZ;SACJ;QACD,OAAO,CAAC,CAAC;KACZ;;;;;IAEO,WAAW;QACf,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;;QAGpE,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;;sBACf,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBACd,GAAG,EAAE,UAAU,CAAC,QAAQ;oBACxB,EAAE,EAAE,UAAU,CAAC,UAAU;oBACzB,CAAC,EAAE,CAAC;oBACJ,CAAC,EAAE,CAAC;oBACJ,WAAW,EAAE,IAAI;iBACpB,CAAC,CAAC;aACN;SACJ;KACJ;;;YA7EJ,SAAS,SAAC;gBACP,QAAQ,EAAE,kBAAkB;gBAC5B,gHAA+C;;aAElD;;;;YARO,aAAa;;;0BAUhB,KAAK;;;;IAAN,8CAAwC;;IACxC,wCAA2B;;;;;IAC3B,0CAAyB;;;;;IAEb,gDAAoC;;;;;;;ACfpD,MAWa,qBAAqB;;;;;IAK9B,YAAoB,aAA4B,EAAU,MAAc;QAApD,kBAAa,GAAb,aAAa,CAAe;QAAU,WAAM,GAAN,MAAM,CAAQ;QAJ/D,mBAAc,GAAY,IAAI,CAAC;QAExC,eAAU,GAAqB,EAAE,CAAC;KAE0C;;;;IAE5E,QAAQ;QACJ,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;;;;;IAED,YAAY,CAAC,QAAwB;;QAEjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,IAAI,QAAQ,CAAC,YAAY,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7F;;;;IAED,QAAQ;;QAEJ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;KACpC;;;;;IAEO,WAAW;QACf,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;YAC5B,QAAQ,EAAE,CAAC;SACd;;;;QAAG,CAAC,MAAM;;kBACD,KAAK,GAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE;YAC7C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClB,IAAI,CAAC,wBAAwB,CAAC,KAAK;;;gBAAE;oBACjC,KAAK,CAAC,IAAI;;;;;oBAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,EAAC,CAAC;oBAC9E,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;iBAC3B,EAAC,CAAC;aACN;SACJ,EAAC,CAAC;KACN;;;;;;;IAEO,wBAAwB,CAAC,UAA4B,EAAE,QAAkB;;cACvE,QAAQ,GAAG,EAAE;QACnB,UAAU,CAAC,OAAO;;;;;QAAC,CAAC,QAAQ,EAAE,KAAK;YAC/B,QAAQ,CAAC,IAAI,CAAC,IAAI,OAAO;;;;YAAC,CAAC,OAAO;gBAC9B,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,EAAC,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,CAAC,IAAI,EAAC;;;;gBAAE,CAAC,MAAM;;0BACpE,KAAK,GAAoB,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE;oBAC9D,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;;wBAElB,UAAU,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;qBAChC;oBACD,OAAO,EAAE,CAAC;iBACb,EAAC,CAAC;aACN,EAAC,CAAC,CAAC;SACP,EAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI;;;QAAC,MAAM,QAAQ,EAAE,EAAC,CAAC;KAChD;;;YAvDJ,SAAS,SAAC;gBACP,QAAQ,EAAE,eAAe;gBACzB,4qBAA6C;;aAEhD;;;;YARO,aAAa;YAEb,MAAM;;;6BAQT,KAAK;;;;IAAN,+CAAwC;;IAExC,2CAAkC;;;;;IAEtB,8CAAoC;;;;;IAAE,uCAAsB;;;;;;;AChB5E;MAIM,YAAY,GAAG;IACjB,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO;IAC9C,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK;IACtD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IACrE,KAAK,EAAE,KAAK,EAAE,KAAK;IACnB,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK;IACzB,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IACxC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK;IACzC,KAAK,EAAE,KAAK;CACf;;MAEK,iBAAiB,GAAG;IACtB,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM;IAC1C,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAC,KAAK,EAAE,MAAM;IAC1C,KAAK,EAAE,MAAM,EAAE,MAAM,EAAC,MAAM,EAAE,KAAK,EAAG,KAAK;CAAC;;MAG1C,iBAAiB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAG,KAAK,CAAC;;MAEzD,OAAO,GAAG,SAAS;AAGzB,MAAa,iBAAiB;IAE1B,iBAAgB;;;;IAEhB,YAAY;;YACJ,IAAI,GAAI,IAAI,CAAC,iBAAiB;;cAC5B,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;QACvC,IAAI,SAAS,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;SACvC;QACD,OAAO,IAAI,CAAC;KACf;;;;IAED,iBAAiB;QACb,OAAO,GAAG,IAAI,CAAC,YAAY,EAAE,SAAS,CAAC;KAC1C;;;;;IAED,WAAW,CAAC,GAAW;;cACb,IAAI,GAAG,IAAI,CAAC,iBAAiB,EAAE;QACrC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;YAChC,OAAO,GAAG,IAAI,IAAI,GAAG,CAAC,WAAW,EAAE,MAAM,CAAA;SAC5C;QACD,OAAO,GAAG,IAAI,IAAI,OAAO,MAAM,CAAA;KAClC;;;;;IAED,YAAY,CAAC,IAAY;QACrB,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;KACpD;;;;;IAED,YAAY,CAAC,IAAY;QACrB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE,IAAI,OAAO,CAAC;KACzD;;;;IAED,cAAc;QACV,OAAO,iBAAiB,CAAC;KAC5B;;;;IAED,cAAc;QACV,OAAO,iBAAiB,CAAC;KAC5B;;;YAxCJ,UAAU;;;;;;;;;ACzBX,MAMa,WAAW;;;;IACpB,YAAoB,aAAgC;QAAhC,kBAAa,GAAb,aAAa,CAAmB;KACnD;;;;;IAED,SAAS,CAAC,IAAY;QAClB,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KAChD;;;YATJ,IAAI,SAAC;gBACF,IAAI,EAAE,SAAS;aAClB;;;;YAJO,iBAAiB;;;;;;;IAMT,oCAAwC;;;;;;;ACPxD,MAMa,YAAY;;;;IAErB,YAAoB,aAAgC;QAAhC,kBAAa,GAAb,aAAa,CAAmB;KAEnD;;;;;IAED,SAAS,CAAC,IAAY;QAClB,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KAChD;;;YAXJ,IAAI,SAAC;gBACF,IAAI,EAAE,UAAU;aACnB;;;;YAJO,iBAAiB;;;;;;;IAOT,qCAAwC;;;;;;;ACRxD,MAQa,iBAAiB;IAL9B;QAOa,UAAK,GAAmB,EAAE,CAAC;QAC3B,cAAS,GAAY,IAAI,CAAC;QAGzB,YAAO,GAAG,IAAI,YAAY,EAAO,CAAC;QAClC,aAAQ,GAAG,IAAI,YAAY,EAAgB,CAAC;KAmGzD;;;;IAhGG,QAAQ;QACJ,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;QACnD,IAAI,CAAC,cAAc,GAAG;YAClB;gBACI,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;gBACf,iBAAiB,EAAE,CAAC;gBACpB,cAAc,EAAE,mBAAmB,CAAC,KAAK;aAC5C;;YAED;gBACI,UAAU,EAAE,GAAG;gBACf,KAAK,EAAE,MAAM;gBACb,MAAM,EAAE,OAAO;gBACf,YAAY,EAAE,EAAE;gBAChB,iBAAiB,EAAE,EAAE;gBACrB,gBAAgB,EAAE,EAAE;gBACpB,eAAe,EAAE,EAAE;aACtB;;YAED;gBACI,UAAU,EAAE,GAAG;gBACf,OAAO,EAAE,KAAK;aACjB;SACJ,CAAC;QAEF,IAAI,CAAC,aAAa,GAAG;YACjB;gBACI,KAAK,EAAE,iIAAiI;gBACxI,MAAM,EAAE,iIAAiI;gBACzI,GAAG,EAAE,iIAAiI;aACzI;YACD;gBACI,KAAK,EAAE,iIAAiI;gBACxI,MAAM,EAAE,iIAAiI;gBACzI,GAAG,EAAE,iIAAiI;aACzI;YACD;gBACI,KAAK,EAAE,iIAAiI;gBACxI,MAAM,EAAE,iIAAiI;gBACzI,GAAG,EAAE,iIAAiI;aACzI;SACJ,CAAC;QACF,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;;;;;;IAED,SAAS,CAAC,IAAkB,EAAE,KAAK;QAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC,CAAC;KACpC;;;;;IAED,UAAU,CAAC,IAAkB;;cACnB,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;QACtC,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5B;KACJ;;;;;IAED,QAAQ,CAAC,KAAwB;;QAE7B,KAAK,IAAI,CAAC,GAAI,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;gBAChC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;YACnB,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;aAC/B;YACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;KACJ;;;;;IAEO,WAAW;QACf,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ;;;;YAAE,CAAC,CAAC;;sBAC/B,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK;gBAC/B,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;;oBAElB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;oBAGrB,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;iBAC1B;aACJ,EAAC,CAAC;SACN;KACJ;;;;;;IAEO,gBAAgB,CAAC,IAAI;;cACnB,MAAM,GAAG,IAAI,UAAU,EAAE;QAC/B,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3B,MAAM,CAAC,MAAM;;;QAAG;YACZ,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;SAC5B,CAAA,CAAC;KACL;;;;;;IAEO,YAAY,CAAC,IAAkB;QACnC,OAAO,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;KACvD;;;YA9GJ,SAAS,SAAC;gBACP,QAAQ,EAAE,WAAW;gBACrB,w0BAAyC;;aAE5C;;;qBAEI,KAAK;oBACL,KAAK;wBACL,KAAK;uBACL,KAAK;sBAEL,MAAM;uBACN,MAAM;;;;IANP,mCAAkC;;IAClC,kCAAoC;;IACpC,sCAAmC;;IACnC,qCAAoC;;IAEpC,oCAA4C;;IAC5C,qCAAsD;;IACtD,2CAAoC;;IACpC,0CAAiC;;;;;AAmGrC,2BAIC;;;IAHG,0BAAY;;IACZ,2BAAa;;IACb,6BAAgB;;;;;;;ACvHpB,MAyBa,cAAc;;;YAjB1B,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACL,YAAY;oBACZ,gBAAgB;iBACnB;gBACD,YAAY,EAAE;oBACV,YAAY;oBACZ,WAAW;oBACX,iBAAiB;iBACpB;gBACD,OAAO,EAAE;oBACL,YAAY;oBACZ,WAAW;oBACX,iBAAiB;iBACpB;gBACD,SAAS,EAAE,CAAC,iBAAiB,CAAC;aACjC;;;;;;;ACxBD,MAqHa,YAAY;;;YA7ExB,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACL,YAAY;oBACZ,WAAW;oBACX,gBAAgB;oBAChB,mBAAmB;oBACnB,eAAe;oBACf,kBAAkB;oBAClB,gBAAgB,CAAC,OAAO,EAAE;oBAC1B,WAAW,CAAC,OAAO,EAAE;oBACrB,eAAe;oBACf,UAAU;oBACV,cAAc;oBACd,cAAc;iBACjB;gBACD,OAAO,EAAE;oBACL,iBAAiB;oBACjB,qBAAqB;oBACrB,iBAAiB;oBACjB,qBAAqB;oBACrB,uBAAuB;oBACvB,gBAAgB;oBAChB,oBAAoB;oBACpB,oBAAoB;oBACpB,oBAAoB;oBACpB,oBAAoB;oBACpB,SAAS;oBACT,2BAA2B;oBAC3B,wBAAwB;oBACxB,eAAe;oBACf,oBAAoB;oBACpB,qBAAqB;oBACrB,qBAAqB;oBACrB,yBAAyB;oBACzB,oBAAoB;oBACpB,iBAAiB;oBACjB,oBAAoB;oBACpB,oBAAoB;oBACpB,qBAAqB;iBACxB;gBACD,YAAY,EAAE;oBACV,iBAAiB;oBACjB,qBAAqB;oBACrB,iBAAiB;oBACjB,qBAAqB;oBACrB,uBAAuB;oBACvB,gBAAgB;oBAChB,oBAAoB;oBACpB,oBAAoB;oBACpB,oBAAoB;oBACpB,oBAAoB;oBACpB,SAAS;oBACT,2BAA2B;oBAC3B,wBAAwB;oBACxB,eAAe;oBACf,oBAAoB;oBACpB,qBAAqB;oBACrB,qBAAqB;oBACrB,yBAAyB;oBACzB,oBAAoB;oBACpB,iBAAiB;oBACjB,oBAAoB;oBACpB,oBAAoB;oBACpB,qBAAqB;iBACxB;gBACD,eAAe,EAAE;oBACb,yBAAyB;oBACzB,qBAAqB;oBACrB,oBAAoB;iBACvB;gBACD,SAAS,EAAE;oBACP,aAAa;oBACb,mBAAmB;oBACnB,aAAa;oBACbA,mBAAiB;iBACpB;aACJ;;;;;;;ACpHD,MAMa,mBAAmB;IAE9B,iBAAiB;;;;IAEjB,QAAQ;KACP;;;YATF,SAAS,SAAC;gBACT,imFAA2C;;aAE5C;;;;;;;;;ACLD,MAQa,2BAA2B;;;;;IAItC,YACY,KAAqB,EACrB,MAAc;QADd,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;KACrB;;;;IAEL,QAAQ;QACN,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;aACpC,IAAI,CAAC,MAAM;;;;QAAC,KAAK,IAAI,KAAK,YAAY,aAAa,EAAC,CAAC;aACrD,SAAS;;;QAAC,MAAM,IAAI,CAAC,iBAAiB,EAAE,EAAC,CAAC;QAC/C,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC1B;;;;IAED,WAAW;QACT,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;KACpC;;;;;IAEO,iBAAiB;;cACjB,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ;QAC3C,IAAI,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACpB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACpC;KACF;;;YA7BF,SAAS,SAAC;gBACT,kSAAoD;;aAErD;;;;YANO,cAAc;YAAiB,MAAM;;;;IAQ3C,iDAAmB;;;;;IACnB,sDAAwB;;;;;IAGpB,4CAA6B;;;;;IAC7B,6CAAsB;;;;;;;ACd5B;MAKM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,iBAAiB;QACvB,SAAS,EAAE,mBAAmB;KACjC;IACD;QACI,IAAI,EAAE,8BAA8B;QACpC,SAAS,EAAE,2BAA2B;KACzC;IACD;QACI,IAAI,EAAE,oBAAoB;QAC1B,UAAU,EAAE,iBAAiB;QAC7B,SAAS,EAAE,MAAM;KACpB;CACJ;AAMD,MAAa,mBAAmB;;;YAJ/B,QAAQ,SAAC;gBACN,OAAO,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,YAAY,CAAC;aAC1B;;;;;;;ACxBD,MAaa,qBAAqB;;;;IAsC9B,YAAoB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;QAjClC,SAAI,GAAqB;YACrB;gBACI,IAAI,EAAE,WAAW;gBACjB,SAAS,EAAE,EAAE;gBACb,IAAI,EAAE,EAAE;aACX;YACD;gBACI,IAAI,EAAE,QAAQ;gBACd,SAAS,EAAE,oBAAoB;gBAC/B,IAAI,EAAE,SAAS;aAClB;YACD;gBACI,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,yBAAyB;gBACpC,IAAI,EAAE,oBAAoB;aAC7B;YACD;gBACI,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,qBAAqB;gBAChC,IAAI,EAAE,gBAAgB;aACzB;SACJ,CAAC;QAEF,gBAAW,GAAW,EAAE,CAAC;QACzB,WAAM,GAAG,IAAI,WAAW,EAAE,CAAC;QAUvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;KAClF;;;;IAED,QAAQ;QACJ,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAChD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS;;;;QAAC,CAAC,KAAK;YACrC,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;aACzD;SACJ,EAAC,CAAC;KACN;;;;;IAED,SAAS,CAAC,IAAoB;QAC1B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;KACzB;;;;;IAED,gBAAgB,CAAC,YAA+B;QAC5C,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC;QACrC,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAClD,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC,QAAQ,CAAC,WAAW,IAAI,aAAa,CAAC;QACtE,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YACtB,YAAY,CAAC,QAAQ,CAAC,gBAAgB;;;YAAG;gBACrC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;aACzB,CAAA,CAAC;SACL;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;KACJ;;;YAvEJ,SAAS,SAAC;gBACP,owBAA6C;;aAEhD;;;;YAVO,MAAM;;;gCAaT,SAAS,SAAC,kBAAkB,EAAE,EAAC,IAAI,EAAE,gBAAgB,EAAC;uBACtD,SAAS,SAAC,UAAU;;;;IADrB,kDAA2E;;IAC3E,yCAAgC;;IAEhC,qCAqBE;;IAEF,4CAAyB;;IACzB,uCAA2B;;IAC3B,4CAAoB;;IAEpB,uCAAe;;;;;IAEf,iDAAyB;;;;;IACzB,0CAAkB;;;;;IAClB,4CAA6B;;;;;IAEjB,uCAAsB;;;;;;;ACnDtC,MAOa,0BAA0B;;;YALtC,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,oUAAmD;;aAEpD;;;;;;;ACND,MAyBa,eAAe;;;YAf3B,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACL,WAAW;oBACX,mBAAmB;oBACnB,YAAY;oBACZ,mBAAmB;oBACnB,mBAAmB;iBACtB;gBACD,YAAY,EAAE;oBACV,mBAAmB;oBACnB,qBAAqB;oBACrB,2BAA2B;oBAC3B,0BAA0B;iBAC7B;aACJ;;;;;;;;;;;;;;;;;;;;"}