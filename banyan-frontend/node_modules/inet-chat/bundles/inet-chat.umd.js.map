{"version":3,"file":"inet-chat.umd.js","sources":["ng://inet-chat/src/model/MessageConstants.ts","ng://inet-chat/src/model/MessageContact.ts","ng://inet-chat/src/DateFormatter.ts","ng://inet-chat/src/model/MessageChat.ts","ng://inet-chat/src/message.service.ts","ng://inet-chat/src/component/contact-list/contact-list.component.ts","ng://inet-chat/src/model/MessageHolder.ts","ng://inet-chat/src/filelist/list/file-list.component.ts","ng://inet-chat/src/video-conference.service.ts","ng://inet-chat/src/open-graph/open-graph.service.ts","ng://inet-chat/src/component/message-chat/message-chat.component.ts","ng://inet-chat/src/component/search-input/search-input.component.ts","ng://inet-chat/src/component/message-panel/message-panel.component.ts","ng://inet-chat/src/filelist/file-format.service.ts","ng://inet-chat/src/filelist/file-ext.pipe.ts","ng://inet-chat/src/filelist/file-icon.pipe.ts","ng://inet-chat/src/filelist/file-list.module.ts","ng://inet-chat/src/component/room-chat/room-chat.component.ts","ng://inet-chat/src/open-graph/link-preview/link-preview.component.ts","ng://inet-chat/src/open-graph/open-graph.module.ts","ng://inet-chat/src/message.module.ts"],"sourcesContent":["export const APP_CHAT = 'iChat';\n","import {AccentService, HtmlUtils} from \"inet-core\";\n\nexport class MessageContact {\n  private static _accent = new AccentService();\n  fullname: string = '';\n  usercode: string = '';\n  lastmsg: number = 0;\n  message: string = '';\n  online: boolean = false;\n  unread: number = 0;\n  type?: string; // COMPANY | FRIEND\n  _indexSearch: string = '';\n\n  constructor(options) {\n    Object.assign(this, options);\n    // this.message = HtmlUtils.formatHtmlDisplay(this.message);\n\n    this._indexSearch = MessageContact._accent.viToEn(this.fullname.toLowerCase()) + ' ';\n    // Remove suffix email \"@inetcloud.vn\"\n    this._indexSearch += MessageContact._accent.viToEn(this.usercode.slice(0, this.usercode.indexOf('@')));\n  }\n\n  isMatch(keyword: string = '') {\n    return this._indexSearch.indexOf(MessageContact._accent.viToEn(keyword)) > -1;\n  }\n}\n","import * as _moment from 'moment';\nconst moment = _moment;\n\nexport class DateFormatter {\n    date: Date;\n\n    constructor(date: string | Date | number) {\n        this.date = new Date(date);\n    }\n\n    formatFullYear() {\n        return moment(this.date).format('DD/MM/YYYY, H:mm');\n    }\n\n    formatYear() {\n        return moment(this.date).format('DD/MM/YYYY');\n    }\n\n    formatMonth() {\n        return moment(this.date).format('DD/MM, H:mm');\n    }\n\n    formatDate() {\n        return moment(this.date).format('DD/MM, H:mm');\n    }\n\n    formatTime() {\n        return moment(this.date).format('H:mm');\n    }\n\n    format() {\n        if (!this.date.getTime()) {\n            return '';\n        }\n        const now = new Date();\n        const conditions = {\n            onYear: now.getFullYear() === this.date.getFullYear(),\n            onMonth: now.getMonth() === this.date.getMonth(),\n            onDate: now.getDate() === this.date.getDate(),\n        };\n        if (conditions.onYear && conditions.onMonth && conditions.onDate) {\n            return this.formatTime();\n        }\n        if (conditions.onYear && conditions.onMonth) {\n            return this.formatDate();\n        }\n        if (conditions.onYear) {\n            return this.formatMonth();\n        }\n        return this.formatYear();\n    }\n}","import {HtmlUtils, EnvelopBody} from \"inet-core\";\nimport {DateFormatter} from \"../DateFormatter\";\nimport {OpenGraphData} from \"../open-graph\";\n\ndeclare let iNet: any;\n\nexport class MessageChat {\n    message: EnvelopBody;\n    isSent: boolean = false;\n    attachments: any[] = [];\n\n    displayText: string;\n    shortTime: string;\n    longTime: string;\n    date: Date;\n    _openGraph?: OpenGraphData;\n\n    constructor(message: EnvelopBody) {\n        const formatter = new DateFormatter(message.sent || new Date());\n        this.message = message;\n        this.isSent = this.message.sender === iNet.username;\n        this.attachments = MessageChat.parseAttachments(message);\n        this.displayText = HtmlUtils.formatHtmlDisplay(message.message.alert || message.message.content);\n        this.shortTime = formatter.formatTime();\n        this.longTime = formatter.formatFullYear();\n        this.date = formatter.date;\n    }\n\n    static parseAttachments(data: EnvelopBody) {\n        // uuid://5d021cb39278c2c3666081a0\n        var attachments = [];\n        for (const k in data.message) {\n            if (k.startsWith('uuid://')) {\n                var name = data.message[k];\n                var canViewInline = /(png|jpg|jpeg|pdf)$/i.test(name);\n                var fileIsImage = /(png|jpg|jpeg|gif)$/i.test(name);\n                var url = iNet.getPUrl(canViewInline ? 'message/binaryinline' : 'message/binary') +\n                    `?uuid=${data.uuid}&uploadID=${k}`;\n                attachments.push({\n                    url: url,\n                    id: k,\n                    name: name,\n                    image: fileIsImage,\n                    canViewInline: canViewInline\n                });\n            }\n        }\n        return attachments;\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClientService, WebSocketClientService} from \"inet-core\";\nimport {APP_CHAT} from \"./model/MessageConstants\";\nimport {MessageContact} from \"./model/MessageContact\";\nimport {Observable, Subject} from \"rxjs\";\nimport {MessageChat} from \"./model/MessageChat\";\nimport { EnvelopBody, WebSocketEnvelop } from 'inet-core/src/websocket/websocket-abstract';\n\ndeclare let iNet: any;\n\n@Injectable()\nexport class ChatMessageService {\n    private static _instance: ChatMessageService = null;\n    private _socketObserver;\n    private _messageSubject = new Subject<MessageChat>();\n    private _unreadSubject = new Subject<number>();\n\n    contacts: MessageContact[] = [];\n    messageReceived = this._messageSubject.asObservable();\n    unreadMessageChange = this._unreadSubject.asObservable();\n\n    constructor(private httpService: HttpClientService,\n                public socketService: WebSocketClientService) {\n        if (ChatMessageService._instance) {\n            return ChatMessageService._instance;\n        }\n        ChatMessageService._instance = this;\n        this._socketObserver = this.socketService.onMessage.subscribe((message: EnvelopBody) => {\n            if (message.application === APP_CHAT) {\n                this.updateLastMessage(message.sender, message);\n                this._messageSubject.next(new MessageChat(message));\n            }\n        });\n\n    }\n\n    destroy(): void {\n        this._socketObserver.unsubscribe();\n        this._messageSubject.unsubscribe();\n        this._unreadSubject.unsubscribe();\n    }\n\n    loadFriends() {\n        return new Observable<MessageContact[]>((observer) => {\n            this.httpService.getJSON(iNet.getPUrl('unifiedpush/list')).subscribe((data) => {\n                observer.next((data || []).map((item) => new MessageContact(item)));\n                observer.complete();\n            });\n        });\n    }\n\n    loadContacts(callback: Function) {\n        if (this.contacts.length > 0) {\n            callback(this.contacts);\n        } else {\n            this.loadFriends().subscribe(\n                (data: MessageContact[]) => {\n                    this.contacts = data.filter((item) => item.usercode !== iNet.usercode);\n                    this.updateUnreadMessage();\n                    callback(this.contacts);\n                }, () => callback([])\n            );\n        }\n    }\n\n    updateUnreadMessage() {\n        let unread = 0;\n        this.contacts.forEach((friend) => unread += friend.unread);\n        this._unreadSubject.next(unread);\n    }\n\n    getContactByUserCode(usercode: string, callback: Function) {\n        if (usercode === 'news-feed' || usercode === iNet.usercode) {\n            return;\n        }\n        this.loadContacts((contacts) => {\n            for (let i = 0; i < contacts.length; i++) {\n                if (contacts[i].usercode === usercode) {\n                    return callback(contacts[i]);\n                }\n            }\n            // contact not exist\n            const contact = new MessageContact({usercode: usercode, fullname: usercode, unread: 1});\n            this.contacts.unshift(contact);\n            callback(contact);\n        });\n    }\n\n    hasContact(usercode: string): boolean {\n        for (let i = 0; i < this.contacts.length; i++) {\n            if (this.contacts[i].usercode === usercode) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    send(username: string, message: string): Promise<boolean> {\n        return this.socketService.send(username, message, APP_CHAT);\n    }\n\n    sendEnvelop(envelop: WebSocketEnvelop): Promise<boolean> {\n        return this.socketService.sendEnvelop(envelop);\n    }\n\n    buildEnvelop(address: string, message: string,join?: string): WebSocketEnvelop {\n        if(join){\n            return this.socketService.buildEnvelop(address, message, APP_CHAT, join);\n\n        }else{\n            return this.socketService.buildEnvelop(address, message, APP_CHAT);\n\n        }\n    }\n\n    pushMessage(params, callback: Function) {\n        const formData = this.httpService.convertToFormData(params);\n        this.httpService.post(iNet.getPUrl('message/upload'), formData).subscribe(\n            (data: EnvelopBody) => {\n                let envelop: WebSocketEnvelop = this.socketService.buildEnvelop(params.alias, params.content, APP_CHAT);\n                envelop.body.message = data.message;\n                envelop.body.message.content = envelop.body.message.alert = params.content;\n                envelop.body.uuid = data.uuid;\n                this.socketService.sendEnvelop(envelop);\n                callback(envelop.body);\n            }\n        );\n    }\n\n    loadMessages(params, callback: Function) {\n        this.httpService.postJSON(iNet.getPUrl('message/query'), params).subscribe((data) => {\n            data = data || {};\n            data.items = data.items || [];\n            data.total = data.total || 0;\n            data.items.sort((a, b) => a.sent - b.sent);\n            data.items = data.items.map((item) => new MessageChat(item));\n            this.resetUnreadMessage(params['sender']);\n            callback(data);\n        });\n    }\n\n    updateLastMessage(usercode: string, message: EnvelopBody) {\n        // Update last message, move contact to first\n        this.getContactByUserCode(usercode, (contact: MessageContact) => {\n            var index = this.contacts.indexOf(contact);\n            if (index > -1) {\n                this.contacts.splice(index, 1);\n            }\n            this.contacts.unshift(contact);\n                let typeMessages =  message.message.alert.split(\":\");\n            if(typeMessages.length >2){\n                    if(typeMessages[0]==='uri_message' && typeMessages[1]==='video_conference'){\n                        contact.message = '<i class=\"fa fa-phone pr-1\" aria-hidden=\"true\"></i> Cuá»c gá»i thoáº¡i';\n                    }\n                    else{\n                        let __mesDisplay =  this.revertMessageDisplay(message.message.alert) || '';\n                        if(typeMessages[0]==='uri_message' && typeMessages[1]==='link_preview'){\n                            contact.message =__mesDisplay;\n                        }\n                    }\n                }else{\n                contact.message = message.message.alert;\n            }\n\n            // contact.message = message.message.alert;\n\n            // Not me send\n            if (message.sender !== iNet.usercode) {\n                contact.unread++;\n                this.updateUnreadMessage();\n            }\n        });\n    }\n    decodeBase64(str: string) {\n        return decodeURIComponent(escape(window.atob(str)));\n    }\n\n    resetUnreadMessage(username: string) {\n        this.getContactByUserCode(username, (contact) => {\n            contact.unread = 0;\n            this.updateUnreadMessage();\n        });\n    }\n\n    searchContacts(keyword: string, callback: Function) {\n        this.loadContacts((contacts: MessageContact[]) => callback(this._filterUsers(keyword, contacts)));\n    }\n\n    private _filterUsers(keyword: string, contacts: MessageContact[]) {\n        if (!keyword) {\n            return contacts;\n        }\n        return contacts.filter((item) => item.isMatch(keyword));\n    }\n\n    revertMessage(message: string){\n        let __index = message.indexOf(\"uri_message\") || 0;\n       return  message.substring(__index);\n    }\n    revertMessageDisplay(message: string){\n        let __index = message.indexOf(\"uri_message\") || 0;\n        return  message.substring(0,__index);\n    }\n\n    reconnetSocket(){\n        this.socketService.close();\n    }\n\n    checkJoinVideoCall(message){\n    }\n}\n","import {AfterViewInit, Component, ElementRef, EventEmitter, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {MessageContact} from \"../../model/MessageContact\";\nimport {Subscription} from \"rxjs\";\nimport {ChatMessageService} from \"../../message.service\";\nimport {MessageChat} from \"../../model/MessageChat\";\nimport {WebSocketClientService} from \"inet-core\";\n\ndeclare let $: any;\ndeclare let iNet: any;\n\n@Component({\n    selector: 'message-contact-list',\n    templateUrl: './contact-list.component.html',\n    styleUrls: ['./contact-list.component.css']\n})\nexport class ContactListComponent implements OnDestroy, AfterViewInit {\n    @Output() contactSelected = new EventEmitter<MessageContact>();\n    @Output() roomSelected = new EventEmitter<string>();\n    @Output() callTo = new EventEmitter<string>();\n    @ViewChild('contactRef') contactRef: ElementRef;\n    contacts: MessageContact[] = [];\n    statusText: string;\n    userInteract: boolean = false;\n    lastPage: boolean = false;\n    username =  iNet.username;\n    fullname =  iNet.displayName;\n\n    private _contacts: MessageContact[];\n    private _statusObserver: Subscription;\n    private _pageNumber: number = 0;\n    private _pageSize: number = 20;\n    private _loading: boolean = false;\n    private _timer;\n    private _contactEl;\n    private _keyword;\n    private _messageObserver;\n\n\n\n    constructor(private messageService: ChatMessageService, private webSocketService: WebSocketClientService) {\n    }\n\n    ngAfterViewInit() {\n        this._contactEl = $(this.contactRef.nativeElement);\n        this._detectUserInteract();\n        this.searchContacts();\n        this._statusObserver = this.messageService.socketService.onStateChange.subscribe(() => {\n            if (this.messageService.socketService.closed) {\n                this.statusText = 'Káº¿t ná»i khÃ´ng thÃ nh cÃ´ng';\n            } else if (this.messageService.socketService.connecting) {\n                this.statusText = 'Äang káº¿t ná»i';\n            } else if (this.messageService.socketService.connected) {\n                this.statusText = '';\n            }\n        });\n\n        // Scroll bottom load more\n        this._contactEl.on('scroll', (e) => {\n            if (this._loading || this.lastPage) {\n                return;\n            }\n            if (e.target.scrollTop + e.target.clientHeight > e.target.scrollHeight - 100) {\n                this.loadContacts();\n            }\n        });\n    }\n\n    ngOnDestroy() {\n\n        if (this._statusObserver) {\n            this._statusObserver.unsubscribe();\n            this._statusObserver = null;\n        }\n    }\n\n    selectContact(contact: MessageContact) {\n        this.contactSelected.emit(contact);\n    }\n\n    searchContacts(value: string = '') {\n        value = value.toLowerCase().trim();\n        if (value === this._keyword) {\n            return;\n        }\n        this._keyword = value;\n        this.messageService.searchContacts(value, (contacts) => {\n            this._pageNumber = 0;\n            this._loading = false;\n            this._contacts = contacts;\n            this.contacts.length = 0;\n            this.loadContacts();\n        });\n    }\n\n    loadContacts() {\n        if (!this.userInteract || this._loading || !this._contacts) {\n            return;\n        }\n        const begin = this._pageNumber * this._pageSize;\n        this.lastPage = this._contacts && this._contacts.length < begin;\n        if (this.lastPage) {\n            return;\n        }\n        this._loading = true;\n        this.contacts = this.contacts.concat(this._contacts.slice(begin, begin + this._pageSize));\n\n        this.contacts.forEach(ele=>{\n            let __mes =  this.messageService.revertMessage(ele.message) || '';\n            let __mesDisplay =  this.messageService.revertMessageDisplay(ele.message) || '';\n            let typeMessages =  __mes.split(\":\")\n            if(typeMessages.length >0){\n                if(typeMessages[0]==='uri_message' && (typeMessages[1]==='video_conference...' || typeMessages[1]==='video_conference') ){\n                        ele.message = '<i class=\"fa fa-phone pr-1\" aria-hidden=\"true\"></i> Cuá»c gá»i thoáº¡i';\n                        return ele;\n                }\n                else{\n                    if(typeMessages[0]==='uri_message' && typeMessages[1]==='link_preview...'){\n                        ele.message =__mesDisplay;\n                        return ele;\n                    }else{\n                        return ele;\n                    }\n                }\n            }\n        })\n        setTimeout(() => {\n            this._loading = false;\n            this._pageNumber++;\n        }, 300);\n        this.selectContact(this.contacts[0]);\n    }\n    decodeBase64(str: string) {\n        return decodeURIComponent(escape(window.atob(str)));\n    }\n\n    private _detectUserInteract() {\n        this._timer = setInterval(() => {\n            if (this._contactEl.is(':visible')) {\n                this.userInteract = true;\n                this.loadContacts();\n                clearInterval(this._timer);\n                this._timer = null;\n            }\n        }, 100);\n    }\n\n\n    selectRoom(roomName: string) {\n        this.roomSelected.emit(roomName);\n    }\n    callToContact(usercode){\n        this.callTo.emit(usercode);\n    }\n}\n","import {MessageChat} from \"./MessageChat\";\nimport {DateFormatter} from \"../DateFormatter\";\n\nexport class MessageChatHolder {\n    messages: MessageChat[] = [];\n    date: Date;\n    display: string;\n\n    constructor(date) {\n        this.date = new Date(date);\n        this.date.setHours(0, 0, 0, 0);\n        this.display = new DateFormatter(this.date).formatYear();\n    }\n\n    isSameDate(date: Date) {\n        let d = new Date(date);\n        d.setHours(0, 0, 0, 0);\n        return this.date.getTime() === d.getTime();\n    }\n}","import {Component, EventEmitter, Input, OnInit, Output, TemplateRef} from '@angular/core';\n\n@Component({\n    selector: 'file-list',\n    templateUrl: './file-list.component.html',\n    styleUrls: ['./file-list.component.css']\n})\nexport class FileListComponent implements OnInit {\n    @Input() fileEl: HTMLInputElement;\n    @Input() files: FileListItem[] = [];\n    @Input() removable: boolean = true;\n    @Input() template: TemplateRef<any>;\n\n    @Output() onClick = new EventEmitter<any>();\n    @Output() onRemove = new EventEmitter<FileListItem>();\n\n    ngOnInit(): void {\n        this._initFileEl();\n    }\n\n    clickFile(file: FileListItem, event) {\n        this.onClick.emit({file, event});\n    }\n\n    removeFile(file: FileListItem) {\n        const index = this.files.indexOf(file);\n        if (index > -1) {\n            this.files.splice(index, 1);\n            this.onRemove.emit(file);\n        }\n    }\n\n    addFiles(files: FileList | File[]) {\n        // Read as base64 if image\n        for (let i  = 0; i < files.length; i++) {\n            let file = files[i];\n            if (this._fileIsImage(file)) {\n                file['image'] = true;\n                this._readImageBase64(file);\n            }\n            this.files.push(file);\n        }\n    }\n\n    private _initFileEl() {\n        if (this.fileEl) {\n            this.fileEl.addEventListener('change', (e) => {\n                const files = this.fileEl.files;\n                if (files.length > 0) {\n                    // Read as base64 if image\n                    this.addFiles(files);\n\n                    // Reset file\n                    this.fileEl.value = '';\n                }\n            });\n        }\n    }\n\n    private _readImageBase64(file) {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = function() {\n            file.url = reader.result;\n        };\n    }\n\n    private _fileIsImage(file: FileListItem) {\n        return file.type && file.type.indexOf('image') > -1;\n    }\n}\n\nexport interface FileListItem extends File {\n    id?: string;\n    url?: string;\n    image?: boolean;\n}\n","import {Injectable} from '@angular/core';\nimport {ErrorMessage, HttpClientService} from \"inet-core\";\ndeclare var JitsiMeetExternalAPI: any;\ndeclare let iNet: any;\n\n@Injectable()\nexport class VideoConferenceService {\n    api: any;\n    domain=  'jitsi.inetcloud.vn';\n    messageJoin = {app:'iChat', conferenceID:'', sender : '', joined: '', inAccess: ''};\n\n    static instance: VideoConferenceService = null;\n    constructor(private httpService: HttpClientService) {\n        return VideoConferenceService.instance = VideoConferenceService.instance || this;\n    }\n\n    join(parentNode: any, roomName: string, audioOnly: boolean = false, height: number = 350,callback?: Function) {\n        if(!JitsiMeetExternalAPI) {\n            return;\n        }\n        let tokenId ='';\n        this.httpService.postJSON(iNet.getPUrl('conference/authorized'), {roomID : roomName}).subscribe((data) => {\n            tokenId =  data.webdata || '';\n            this.dispose();\n            const options = {\n                roomName: roomName,\n                width: '100%',\n                height: '100%',\n                parentNode: parentNode,\n                jwt: tokenId\n\n            };\n            if(audioOnly) {\n                options.height = '100%';\n                options['configOverwrite'] = {\n                    startAudioOnly: true,\n                    startWithVideoMuted: true\n                }\n            }\n\n            this.api = new JitsiMeetExternalAPI( this.domain, options);\n            if(callback){\n                callback(this.api);\n            }\n            this.api.executeCommand('sendTones', {\n                tones: '12345#', // The dial pad touch tones to play. For example, '12345#'.\n                duration: 200, // Optional. The number of milliseconds each tone should play. The default is 200.\n                pause: 200 // Optional. The number of milliseconds between each tone. The default is 200.\n            });\n\n            // this.api.executeCommand('displayName', iNet.displayName);\n            // this.api.executeCommand('email', iNet.username);\n            // this.api.executeCommand('setVideoQuality', 720);\n        });\n\n\n        /*\n        this.api.addEventListener('readyToClose',  ()=> {\n            this.dispose();\n        });\n\n         */\n    }\n    callTo(parentNode: any,userName: string,audioOnly: boolean = false, height: number = 350,callback?: Function) {\n        let conferenceID ='';\n        this.httpService.postJSON(iNet.getPUrl('conference/end2end'), {callTo : userName}).subscribe((data) => {\n            if(data.type !== ErrorMessage.TYPE){\n                conferenceID =  data.conferenceID || '';\n                if (!iNet.isEmpty(conferenceID)) {\n                    if(!JitsiMeetExternalAPI) {\n                        return;\n                    }\n                    let tokenId ='';\n                    let messageJSON ={sender : iNet.username,conferenceID:conferenceID};\n                    let __messageStr = 'uri_message:video_conference:'+this.encodeBase64(JSON.stringify(messageJSON)) || '';\n                    // this.chatMessageService.send(userName,__messageStr);\n                    this.httpService.postJSON(iNet.getPUrl('conference/authorized'), {roomID : conferenceID}).subscribe((data) => {\n                        tokenId =  data.webdata || '';\n                        this.dispose();\n                        const options = {\n                            roomName: conferenceID,\n                            width: '100%',\n                            height: '100%',\n                            parentNode: parentNode,\n                            jwt: tokenId\n\n                        };\n                        if(audioOnly) {\n                            options.height = '100%';\n                            options['configOverwrite'] = {\n                                startAudioOnly: true,\n                                startWithVideoMuted: true\n                            }\n                        }\n\n                        this.api = new JitsiMeetExternalAPI( this.domain, options);\n                        this.messageJoin.sender =iNet.username;\n                        this.messageJoin.conferenceID =  conferenceID;\n\n                        if(callback){\n                            callback(this.api, __messageStr);\n                        }\n                        this.api.executeCommand('sendTones', {\n                            tones: '12345#', // The dial pad touch tones to play. For example, '12345#'.\n                            duration: 200, // Optional. The number of milliseconds each tone should play. The default is 200.\n                            pause: 200 // Optional. The number of milliseconds between each tone. The default is 200.\n                        });\n                        // this.api.executeCommand('displayName', iNet.displayName);\n                        // this.api.executeCommand('email', iNet.username);\n                        // this.api.executeCommand('setVideoQuality', 720);\n                    });\n                }\n            }\n        });\n\n\n        /*\n        this.api.addEventListener('readyToClose',  ()=> {\n            this.dispose();\n        });\n\n         */\n    }\n\n\n    getApi() {\n        return this.api;\n    }\n\n    dispose(){\n        if (this.api) {\n            this.api.dispose();\n            delete this.api;\n        }\n    }\n\n    getMessageJoin(){\n        return this.messageJoin;\n    }\n\n    getRoomNameByReceiver(receiver: string): string {\n        return iNet.username.split('@')[0] + '_' + receiver.split('@')[0];\n    }\n\n    isExistMeet() {\n       return !!JitsiMeetExternalAPI;\n    }\n    encodeBase64(str: string) {\n        return window.btoa(unescape(encodeURIComponent(str)));\n    }\n}\n\n","import { Injectable } from '@angular/core';\nimport {OpenGraphData, OpenGraphImageInfo} from \"./model/OpenGraphData\";\ndeclare let iNet: any;\ndeclare let $: any;\n\n@Injectable()\nexport class OpenGraphService {\n\n  private regex = /(https?:\\/\\/[^\\s]+)/;\n\n  constructor() { }\n\n  loadPreviewLink(link: string, callback: Function) {\n    if (!link) {\n      callback(null, {\n        error: 'Link is empty'\n      });\n      return;\n    }\n    if (!this.isLink(link)) {\n      callback(null, {\n        error: 'Link invalid'\n      });\n      return;\n    }\n\n    $.ajax({\n      type: 'post',\n      url: iNet.getUrl('opengraph/fetch'),\n      data: {\n       url: link\n      },\n      success: (data) => {\n         callback(this.convertOpenData(data, link));\n      },\n      error: function (xhr) {\n        callback(null, xhr);\n      }\n    });\n  }\n\n  isLink(link: string): boolean {\n    return this.regex.test(link);\n  }\n\n  loadImageInfo(src: string, callback: Function) {\n    let img = new Image();\n    img.onload = img.onerror = function (e) {\n      let imageInfo: OpenGraphImageInfo = {\n        width: img.width,\n        height: img.height\n      };\n      if (imageInfo.width && imageInfo.height) {\n        imageInfo.available = true;\n        imageInfo.landscape = imageInfo.width / imageInfo.height > 1.1;\n      }\n      callback(imageInfo);\n    };\n    img.src = src;\n  }\n\n  private convertOpenData(properties: any[], url: string): OpenGraphData {\n    if (properties.length < 1) {\n      return;\n    }\n    let openData = <OpenGraphData>{};\n\n    properties.forEach((item) => {\n      openData[item.property] = item.content;\n    });\n\n    if (!openData.url) {\n      openData.url = url;\n    }\n\n    return openData;\n  }\n}\n","import {\n    AfterContentChecked,\n    AfterViewChecked,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Output,\n    SimpleChanges,\n    ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {MessageContact} from \"../../model/MessageContact\";\nimport {APP_CHAT} from \"../../model/MessageConstants\";\nimport {MessageChat} from \"../../model/MessageChat\";\nimport {ChatMessageService} from \"../../message.service\";\nimport {MessageChatHolder} from \"../../model/MessageHolder\";\nimport {FileListComponent, FileListItem} from \"../../filelist/list/file-list.component\";\nimport {EnvelopBody} from 'inet-core';\nimport {VideoConferenceService} from \"../../video-conference.service\";\nimport { OpenGraphService } from '../../open-graph/open-graph.service';\n\ndeclare let iNet: any;\n// declare let $: any;\n// import {ifvisible} from \"ifvisible.js\"\n\n@Component({\n    selector: 'message-chat',\n    templateUrl: './message-chat.component.html',\n    styleUrls: ['./message-chat.component.css'],\n    encapsulation: ViewEncapsulation.None,\n})\nexport class MessageChatComponent implements OnInit, OnChanges, OnDestroy, AfterViewChecked, AfterContentChecked {\n    @Input() username: string;\n    @Input() audioCall: boolean = false;\n    @Input() videoCall: boolean = false;\n    @Input() closable: boolean = false;\n    @Output() onAudioCall = new EventEmitter<MessageContact>();\n    @Output() onVideoCall = new EventEmitter<MessageContact>();\n    @Output() onClose = new EventEmitter<MessageContact>();\n    @ViewChild('input') input: ElementRef;\n    @ViewChild('messageBody') messageBody: ElementRef;\n    @ViewChild('fileList') fileList: FileListComponent;\n    videoPanelVisible: boolean = false;\n    private linkRegex = /(https?:\\/\\/[^\\s]+)/;\n    contact: MessageContact;\n    holders: MessageChatHolder[] = [];\n    files: any[] = [];\n    loading: boolean = true;\n    profile = iNet.username;\n    messageJoinCall = {};\n    // @ViewChild(LinkPreviewComponent) linkPreview: LinkPreviewComponent;\n\n    get canSend(): boolean {\n        return this.files.length > 0 || this.message.length > 0;\n    }\n\n    get message(): string {\n        return this.input && this.input.nativeElement.value.trim() || '';\n    }\n\n    get scrollTop(): number {\n        return this.messageBody.nativeElement.scrollTop;\n    }\n\n    set scrollTop(scrollTop: number) {\n        this.messageBody.nativeElement.scrollTop = scrollTop;\n    }\n\n    get scrollHeight(): number {\n        return this.messageBody.nativeElement.scrollHeight;\n    }\n\n    get scrollBottom(): number {\n        return this.scrollHeight - this.messageBody.nativeElement.scrollTop;\n    }\n\n    set scrollBottom(scrollBottom: number) {\n        this.scrollTop = this.scrollHeight - scrollBottom;\n    }\n\n    private _scrollingTop: boolean;\n    private _scrollBottom: number;\n    private _lastScrollBottom: number;\n    private _scrollNeedUpdate: boolean;\n    private _hasMoreMsg: boolean = false;\n    private _messageObserver;\n    private __messageChat;\n\n    private _params: any = {\n        pageSize: 20,\n        pageNumber: 0\n    };\n\n    constructor(\n        private openGraphService: OpenGraphService,\n        private messageService: ChatMessageService,\n        private videoService: VideoConferenceService,\n        private element: ElementRef\n    ) {\n        this._messageObserver = this.messageService.messageReceived.subscribe((message: MessageChat) => {\n            if (message.message.sender !== iNet.username) {\n                if (message.message.sender === this.username) {\n                    if (message.message.message.alert) {\n                        let typeMessage = message.message.message.alert.split(\":\");\n                        if (typeMessage[0] === 'uri_message') {\n                            if (typeMessage[1] === 'video_conference' && !iNet.isEmpty(typeMessage[2])) {\n                                this.__messageChat = JSON.parse(this.decodeBase64(typeMessage[2])) || {};\n                                if (this.__messageChat.action === 'END') {\n                                    if (message.message.message.joins.split(',').length === 1) {\n                                        message.displayText = this.messageMissCall();\n                                        this._sendSuccess(message);\n                                    } else {\n                                        message.displayText = this.messageJoinedCall(message.message.message.duration);\n                                        this._sendSuccess(message);\n                                    }\n                                }\n                                if (this.__messageChat.action === 'LEFT' && message.message.message.joins.split(',')[0] === iNet.username) {\n                                    if (message.message.message.joins.split(',').length === 1) {\n                                        message.displayText = this.messageMissCall();\n                                        message.message.sender = message.message.message.joins.split(',')[0];\n                                        message.message.message.joins.split(',')[0] === iNet.username ? message.isSent = true : message.isSent = false;\n                                        this._sendSuccess(message);\n                                    } else {\n                                        message.displayText = this.messageJoinedCallTo(message.message.message.duration);\n                                        message.message.sender = message.message.message.joins.split(',')[0];\n                                        message.message.message.joins.split(',')[0] === iNet.username ? message.isSent = true : message.isSent = false;\n                                        this._sendSuccess(message);\n                                    }\n                                }\n                            }\n                        } else {\n                            this._sendSuccess(message);\n                        }\n                    }\n                } else {\n                    this.messageService.updateLastMessage(this.username, message.message);\n                    this.messageService.resetUnreadMessage(this.username);\n                }\n\n            } else {\n                let typeMessage = message.message.message.alert.split(\":\");\n                if (typeMessage[0] === 'uri_message') {\n                    if (typeMessage[1] === 'video_conference' && !iNet.isEmpty(typeMessage[2])) {\n                        this.__messageChat = JSON.parse(this.decodeBase64(typeMessage[2])) || {};\n                        if (this.__messageChat.action === 'JOIN') {\n                        } else {\n                            if (this.__messageChat.action === 'LEFT') {\n                                this.videoService.dispose();\n                                document.getElementById(\"meet\").style.visibility = \"hidden\";\n                                this._sendSuccess(message);\n                            }\n                        }\n                    }\n                }\n            }\n            // if (message.message.sender === this.username) {\n            // }\n        });\n        this.element.nativeElement.addEventListener('drop', (e) => {\n            this.element.nativeElement.style.opacity = '1';\n            this._onDropFile(e);\n        });\n        this.element.nativeElement.addEventListener('dragleave', (e) => {\n            this.element.nativeElement.style.opacity = '1';\n        });\n        this.element.nativeElement.addEventListener('dragover', (e) => {\n            this.element.nativeElement.style.opacity = '.5';\n            e.preventDefault();\n        });\n    }\n\n    private _onDropFile(ev) {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n        let files;\n        if (ev.dataTransfer.items) {\n            files = [];\n            // Use DataTransferItemList interface to access the file(s)\n            for (var i = 0; i < ev.dataTransfer.items.length; i++) {\n                // If dropped items aren't files, reject them\n                if (ev.dataTransfer.items[i].kind === 'file') {\n                    files.push(ev.dataTransfer.items[i].getAsFile());\n                }\n            }\n        } else {\n            files = ev.dataTransfer.files;\n        }\n        if (files.length > 0) {\n            this.fileList.addFiles(files);\n        }\n    }\n\n    ngAfterContentChecked() {\n        // Collect scroll position before render new messages\n        if (this._scrollNeedUpdate) {\n            this._lastScrollBottom = this.scrollBottom;\n        }\n    }\n\n    ngAfterViewChecked() {\n        // Restore scroll position after render new messages if not match\n        if (this._scrollNeedUpdate) {\n            let scrollBottom = this.scrollBottom;\n            this._scrollNeedUpdate = false;\n            if (this._lastScrollBottom != scrollBottom) {\n                // Restore last scrollBottom\n                this.scrollBottom = this._lastScrollBottom;\n            }\n        }\n    }\n\n    ngOnInit() {\n        this._onLoad();\n        // ifvisible.on(\"focus\", () => {\n        //     if (ifvisible.now()) {\n        //         this._params.pageNumber = 0;\n        //         this._onLoad();\n        //         // this.messageService.reconnetSocket();\n        //     }\n        // });\n        this.messageBody.nativeElement.addEventListener('scroll', () => this._onBodyScroll());\n        if (!this.videoService.isExistMeet()) {\n            this.videoPanelVisible = false;\n        }\n\n    }\n\n    private _onBodyScroll() {\n        const scrollBottom = this.scrollBottom;\n        this._scrollingTop = this._scrollBottom <= scrollBottom;\n        this._scrollBottom = scrollBottom;\n        if (this.loading || !this._hasMoreMsg) {\n            return;\n        }\n        // scroll to top\n        if (this._scrollingTop && this.scrollTop < 150) {\n            this._loadMessages();\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.username && !changes.username.firstChange) {\n            this._onLoad();\n            this.messageJoinCall['joined'] = false;\n        }\n    }\n\n    ngOnDestroy() {\n        this._messageObserver.unsubscribe();\n    }\n\n    viewAttachment(e: { file: FileListItem }) {\n        window.open(e.file.url, '_blank');\n    }\n\n    sendMessage() {\n        let value = this.message.trim();\n        let __mes = this.messageService.revertMessage(value) || '';\n        // let __mesDisplay = this.messageService.revertMessageDisplay(value) || '';\n        let links = this.linkRegex.exec(__mes);\n        if (links && links.length > 0) {\n            this.openGraphService.loadPreviewLink(this.message, (data) => {\n                value = this.encodeBase64(JSON.stringify(this.convertLinks(data)))\n                this.sendMessageSocket('uri_message:link_preview:' + value);\n            })\n        } else {\n            this.sendMessageSocket(value);\n        }\n\n    }\n\n    sendMessageSocket(value) {\n        if (value || this.files.length > 0) {\n            if (this.files.length > 0) {\n                this._sendPush(value);\n            } else {\n                this._sendSocket(value);\n            }\n            this._clearInput();\n        }\n    }\n\n    convertLinks(data) {\n        let param = {};\n        param['title'] = data['title'];\n        param['image'] = data['image'];\n        param['description'] = data['description'];\n        param['url'] = data['url'];\n        param['finalUrl'] = data['site_name'].toUpperCase();\n        return param;\n    }\n\n\n    private _loadMessages() {\n        this.loading = true;\n        this._hasMoreMsg = false;\n        this.messageService.loadMessages(this._params, (result) => {\n            // this.messages = result.items.concat(this.messages);\n            this._addMessages(result.items);\n            if (this._params.pageNumber === 0) {\n                this._scrollToBottom();\n            }\n            this._scrollNeedUpdate = true;\n            this._params.pageNumber += 1;\n            this._hasMoreMsg = this._params.pageSize * this._params.pageNumber < result.total;\n            setTimeout(() => {\n                this.loading = false;\n                this._onBodyScroll();\n            }, 500);\n        });\n    }\n\n    private _focus() {\n        this.input.nativeElement.focus();\n    }\n\n    private _scrollToBottom() {\n        setTimeout(() => {\n            this.scrollTop = this.scrollHeight;\n        }, 100);\n    }\n\n    private _clearInput() {\n        this.files.length = 0;\n        this.input.nativeElement.value = '';\n        this._focus();\n    }\n\n    private _addMessages(messagesArr: MessageChat[], insertLast: boolean = false) {\n        let messages = this.convertArrayMessage(JSON.stringify(messagesArr));\n        messages.sort((a, b) => b.date.getTime() - a.date.getTime());\n        messages.forEach((message) => {\n            let holder;\n            for (let i = 0; i < this.holders.length; i++) {\n                if (this.holders[i].isSameDate(message.date)) {\n                    holder = this.holders[i];\n                    break;\n                }\n            }\n            if (!holder) {\n                holder = new MessageChatHolder(message.date);\n                if (insertLast) {\n                    this.holders.push(holder);\n                } else {\n                    this.holders.unshift(holder);\n                }\n            }\n            if (insertLast) {\n                holder.messages.push(message);\n            } else {\n                holder.messages.unshift(message);\n            }\n        });\n    }\n\n\n    private convertMessages(messages) {\n        if (!iNet.isEmpty(messages)) {\n            let __mes = this.messageService.revertMessage(messages.displayText) || '';\n            let __mesDisplay = this.messageService.revertMessageDisplay(messages.displayText) || '';\n            let typeMessages = __mes.split(\":\");\n            if (typeMessages.length >= 2) {\n                if (typeMessages[0] === 'uri_message' && typeMessages[1] === 'video_conference') {\n                    let __messageChat = JSON.parse(this.decodeBase64(typeMessages[2])) || {};\n                    if (messages.message.sender === this.username) {\n                        if (__messageChat.action === 'END') {\n                            if (messages.message.message.joins.split(',').length === 1) {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageJoinedCall(messages.message.message.duration);\n                                return messages;\n                            }\n                        }\n                        if (__messageChat.action === 'LEFT' && messages.message.message.joins.split(',')[0] === messages.message.sender) {\n                            if (messages.message.message.joins.split(',').length === 1) {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageJoinedCall(messages.message.message.duration);\n                                return messages;\n                            }\n                        } else {\n                            return messages;\n                        }\n\n                    } else {\n                        if (__messageChat.action === 'END') {\n                            if (messages.message.message.joins.split(',').length === 1) {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageJoinedCallTo(messages.message.message.duration);\n                                return messages;\n                            }\n                        } else {\n                            if (this.messageJoinCall['joined']) {\n                                messages.displayText = this.messageJoinedCallTo(messages.message.message.duration);\n                                return messages;\n                            } else {\n                                messages.displayText = this.messageMissCall();\n                                return messages;\n                            }\n                        }\n\n                    }\n                } else {\n                    if (typeMessages[0] === 'uri_message' && typeMessages[1] === 'link_preview') {\n                        let __messageLink = JSON.parse(this.decodeBase64(typeMessages[2])) || {};\n                        messages['_openGraph'] = __messageLink;\n                        messages.displayText = __mesDisplay;\n                        return messages;\n                    } else {\n                        return messages;\n                    }\n                }\n            } else {\n                return messages;\n            }\n        }\n    }\n\n    messageMissCall(){\n        // $('.message-chat__miss').on('click',()=>{\n        //     console.log('click')\n        //     this.joinRoom(true);\n        // })\n        return  '<div class=\"contact d-flex my-1\" role=\"button\" style=\"\">\\n' +\n            '    <i class=\"message-chat__miss fa fa-phone ml-0\"></i>\\n' +\n            '    <div class=\"contact-content pl-2\">\\n' +\n            '        <div class=\"contact-name mb-1\">Cuá»c gá»i bá» nhá»¡</div>\\n' +\n            '        <div class=\"contact-detail\">Gá»i láº¡i</div>\\n' +\n            '    </div>\\n' +\n            '</div>'\n    }\n    messageJoinedCall(duration){\n        return  '<div class=\"contact d-flex my-1\" role=\"button\" style=\"\">\\n' +\n        '    <i class=\"message-chat__action fa fa-phone ml-0\"></i>\\n' +\n        '    <div class=\"contact-content pl-2\">\\n' +\n        '        <div class=\"contact-name mb-1\">Cuá»c gá»i thoáº¡i Äáº¿n</div>\\n' +\n        '        <div class=\"contact-detail\">' + duration + ' giÃ¢y' + '</div>\\n' +\n        '    </div>\\n' +\n        '</div>'\n    }\n    messageJoinedCallTo(duration){\n        return  '<div class=\"contact d-flex my-1\" role=\"button\" style=\"\">\\n' +\n            '    <i class=\"message-chat__action fa fa-phone ml-0\"></i>\\n' +\n            '    <div class=\"contact-content pl-2\">\\n' +\n            '        <div class=\"contact-name mb-1\">Cuá»c gá»i thoáº¡i Äi</div>\\n' +\n            '        <div class=\"contact-detail\">' + duration + ' giÃ¢y' + '</div>\\n' +\n            '    </div>\\n' +\n            '</div>'\n    }\n\n\n    private convertArrayMessage(arrMessage) {\n        let arr = JSON.parse(arrMessage);\n        arr.forEach(ele => {\n            ele = this.convertMessages(ele);\n            ele.date = new Date(ele.date);\n            return ele;\n        });\n        return arr;\n    }\n\n    encodeBase64(str: string) {\n        return window.btoa(unescape(encodeURIComponent(str)));\n    }\n\n    decodeBase64(str: string) {\n        return decodeURIComponent(escape(window.atob(str)));\n    }\n\n    private _onLoad() {\n        this.disposeRoom();\n        this._params.sender = this.username;\n        this._params.pageNumber = 0;\n        this._hasMoreMsg = false;\n        this.holders = [];\n        this.loading = true;\n        this.files.length = 0;\n        this.messageService.getContactByUserCode(this.username, (contact) => this.contact = contact);\n        setTimeout(() => {\n            this._loadMessages();\n            this._focus();\n        }, 500);\n    }\n\n    private _sendSocket(value: string) {\n        const envelop = this.messageService.buildEnvelop(this.username, value);\n        this.messageService.sendEnvelop(envelop);\n        this._sendSuccess(new MessageChat(envelop.body));\n    }\n\n    private _sendPush(value: string) {\n        var params = {\n            content: value,\n            alert: value,\n            application: APP_CHAT,\n            alias: this.username,\n        };\n        this.files.forEach(function (file, i) {\n            params['file-' + i] = file;\n        });\n        this.messageService.pushMessage(params, (message: EnvelopBody) => {\n            if (message) {\n                this._sendSuccess(new MessageChat(message));\n            }\n        });\n    }\n\n    private _sendSuccess(message: MessageChat) {\n        this._addMessages([this.convertMessages(message)], true);\n        this.messageService.updateLastMessage(this.username, message.message);\n        this.messageService.resetUnreadMessage(this.username);\n        this._scrollToBottom();\n    }\n\n    joinRoom(audioOnly: boolean, usercode?: string) {\n        this.videoPanelVisible = false;\n        this.messageJoinCall['joined'] = false;\n        if (!this.videoService.isExistMeet()) {\n            this.messageJoinCall['joined'] = false;\n            return;\n        }\n        const element = document.querySelector('#meet');\n        document.getElementById(\"meet\").style.visibility = \"visible\";\n            let __user = '';\n            if(!!usercode){\n                __user = usercode;\n            }else{\n                __user =  this.contact.usercode\n            }\n        this.videoService.callTo(element, __user, audioOnly, 350, (api, messages) => {\n            api.addEventListener('readyToClose', () => {\n                this.videoService.dispose();\n                document.getElementById(\"meet\").style.visibility = \"hidden\";\n                // this.messageService.sendEnvelop(envelop);\n                if (!this.messageJoinCall['joined']) {\n                    const envelop = this.messageService.buildEnvelop(this.username, messages);\n                    this._sendSuccess(new MessageChat(envelop.body));\n\n                }\n                // else{\n                //     let __joins = [iNet.username,this.username];\n                //     const envelop = this.messageService.buildEnvelop(this.username, messages,__joins.join(',') )\n                //     console.log('envelop',envelop,__joins.join(','))\n                //     this._sendSuccess(new MessageChat(envelop.body));\n                // }\n            });\n            api.addEventListener('videoConferenceJoined', () => {\n                this.messageJoinCall = this.videoService.getMessageJoin();\n                this.messageJoinCall['joined'] = true;\n            });\n        });\n\n    }\n\n    disposeRoom() {\n        this.videoPanelVisible = true;\n        this.videoService.dispose();\n    }\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n  selector: 'search-input',\n  templateUrl: './search-input.component.html',\n  styleUrls: ['./search-input.component.css']\n})\nexport class SearchInputComponent {\n  @Input() placeholder: string = '';\n  @Input() keyword: string = '';\n  @Output() onSearch = new EventEmitter<string>();\n  @Output() onPressed = new EventEmitter<KeyboardEvent>();\n  @Output() onChanged = new EventEmitter<string>();\n\n  search() {\n    this.onSearch.emit(this.keyword);\n  }\n\n  keyPressed(e: KeyboardEvent) {\n    this.onPressed.emit(e);\n    if (e.key === 'Enter') {\n      this.search();\n    }\n    this.onChanged.emit(this.keyword);\n  }\n\n  clear() {\n    this.keyword = '';\n    this.onChanged.emit(this.keyword);\n  }\n}\n","import {Component, EventEmitter, Input, OnDestroy, Output, ViewChild} from '@angular/core';\nimport {MessageContact} from \"../../model/MessageContact\";\nimport {ChatMessageService} from \"../../message.service\";\nimport { MessageChatComponent } from '../message-chat/message-chat.component';\n\n\n@Component({\n  selector: 'message-panel',\n  templateUrl: './message-panel.component.html',\n  styleUrls: ['./message-panel.component.css']\n})\nexport class MessagePanelComponent implements OnDestroy {\n  @Input() audioCall: boolean = true;\n  @Input() videoCall: boolean = true;\n  @Input() closable: boolean = false; // Support close button on small screen\n  @Output() unreadMessageChange = new EventEmitter<number>();\n  @ViewChild(MessageChatComponent) messageChatComponent:MessageChatComponent;\n\n  contact: MessageContact;\n  chatOpen: boolean = false;\n  readyToChat: boolean = false;\n  stateMessage: string;\n  roomName: string;\n  private readonly _socketSub: any;\n  private readonly _messageSub: any;\n\n  constructor(private messageService: ChatMessageService) {\n    this._socketSub = this.messageService.socketService.onStateChange.subscribe(() => this._stateChange());\n    this._messageSub = this.messageService.unreadMessageChange.subscribe((count) => this.unreadMessageChange.emit(count));\n    this._stateChange();\n  }\n\n  private _stateChange() {\n    this.readyToChat = this.messageService.socketService.connected;\n    if (this.messageService.socketService.connected) {\n      this.stateMessage = '';\n    } else if (this.messageService.socketService.closed) {\n      this.stateMessage = 'Káº¿t ná»i khÃ´ng thÃ nh cÃ´ng';\n    } else {\n      this.stateMessage = 'Äang káº¿t ná»i...';\n    }\n  }\n\n  ngOnDestroy() {\n    this._socketSub.unsubscribe();\n    this._messageSub.unsubscribe();\n  }\n\n  openVideoCall(contact: MessageContact) {\n\n  }\n\n  openAudioCall(contact: MessageContact) {\n\n  }\n\n  openChatWith(contact: MessageContact, call?: boolean) {\n    this.roomName= null;\n    if (this.contact !== contact) {\n      this.contact = contact;\n      contact.unread = 0; // mark read\n    }\n    // Delay for chat\n    setTimeout(() => {\n      this.chatOpen = true;\n      if(call){\n        this.messageChatComponent.messageJoinCall['joined']= false;\n        this.messageChatComponent.joinRoom(true,contact.usercode);\n      }\n    }, 100);\n  }\n\n  closeChat() {\n    this.chatOpen = false;\n  }\n\n  openRoom(roomName: string) {\n    this.contact = null;\n    this.roomName = roomName;\n  }\n  callToContactSelected(contact){\n    this.openChatWith(contact, true);\n  }\n}\n","import {Injectable} from '@angular/core';\n\ndeclare let iNet: any;\n\nconst FILES_FORMAT = [\n    'unknown', 'text', 'archive', 'audio', 'video',\n    'png', 'jpg', 'gif', 'tiff', 'svg', 'ai', 'psd', 'dwg',\n    'avi', 'fla', 'mp2', 'mp3', 'mp4', 'aac', 'flac', 'wma', 'wav', 'mxf',\n    'iso', 'mdf', 'nrg',\n    'zip', '7z', 'arj', 'rar',\n    'pdf', 'doc', 'rtf', 'txt', 'xls', 'ppt',\n    'css', 'csv', 'html', 'json', 'js', 'xml',\n    'dbf', 'exe'\n];\n\nconst FILES_EDIT_FORMAT = [\n    'doc', 'docx', 'odt', 'ods', 'xls', 'xlsx',\n    'ppt', 'pps', 'pptm', 'pptx','pot', 'potx',\n    'dot', 'dotx', 'docm','dotx', 'csv' , 'sxw']\n;\n\nconst FILES_VIEW_FORMAT = ['pdf', 'png', 'jpg' ,'jpeg' , 'gif'];\n\nconst UNKNOWN = 'unknown';\n\n@Injectable()\nexport class FileFormatService {\n\n    constructor() {}\n\n    getImagePath(): string {\n        let path =  iNet.commonImageFolder;\n        const lastIndex = path.lastIndexOf('/');\n        if (lastIndex === path.length - 1) {\n            return path.substring(0, lastIndex);\n        }\n        return path;\n    }\n\n    getFileFormatPath(): string {\n        return `${this.getImagePath()}/format`;\n    }\n\n    getUrlByExt(ext: string) {\n        const path = this.getFileFormatPath();\n        if (FILES_FORMAT.indexOf(ext) > -1) {\n            return `${path}/${ext.toLowerCase()}.svg`\n        }\n        return `${path}/${UNKNOWN}.svg`\n    }\n\n    getUrlByName(name: string) {\n        return this.getUrlByExt(this.getExtByName(name));\n    }\n\n    getExtByName(name: string) {\n        return name.split('.').pop().toLowerCase() || UNKNOWN;\n    }\n\n    getEditFormats(): string[] {\n        return FILES_EDIT_FORMAT;\n    }\n\n    getViewFormats(): string[] {\n        return FILES_VIEW_FORMAT;\n    }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {FileFormatService} from \"./file-format.service\";\n\n@Pipe({\n    name: 'fileExt'\n})\nexport class FileExtPipe implements PipeTransform {\n    constructor(private formatService: FileFormatService) {\n    }\n\n    transform(name: string): string {\n        return this.formatService.getExtByName(name);\n    }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {FileFormatService} from \"./file-format.service\";\n\n@Pipe({\n    name: 'fileIcon'\n})\nexport class FileIconPipe implements PipeTransform {\n\n    constructor(private formatService: FileFormatService) {\n\n    }\n\n    transform(name: string): string {\n        return this.formatService.getUrlByName(name);\n    }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FileExtPipe} from './file-ext.pipe';\nimport {FileIconPipe} from './file-icon.pipe';\nimport {FileFormatService} from './file-format.service';\nimport {FileListComponent} from \"./list/file-list.component\";\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        FileIconPipe,\n        FileExtPipe,\n        FileListComponent\n    ],\n    exports: [\n        FileIconPipe,\n        FileExtPipe,\n        FileListComponent\n    ],\n    providers: [FileFormatService]\n})\nexport class FileListModule {\n}\n","import {\n    Component, Input, OnDestroy, OnInit,\n} from '@angular/core';\nimport {VideoConferenceService} from \"../../video-conference.service\";\n\n@Component({\n    selector: 'room-chat',\n    templateUrl: './room-chat.component.html',\n    styleUrls: ['./room-chat.component.css']\n})\nexport class RoomChatComponent implements  OnInit, OnDestroy{\n    @Input() roomName: string;\n    videoPanelVisible: boolean = true;\n\n    constructor(\n        private videoService: VideoConferenceService,\n    ) {\n\n    }\n\n    ngOnInit(): void {\n        this.joinRoom();\n    }\n\n    ngOnDestroy(): void {\n        this.disposeRoom();\n    }\n\n    joinRoom() {\n        this.videoPanelVisible = false;\n        if(!this.videoService.isExistMeet()) {\n            return;\n        }\n        this.disposeRoom();\n        this.videoService.join(document.querySelector('#meetRoom'),this.roomName, false, 600);\n        this.videoService.getApi().addEventListener('readyToClose',  ()=> {\n            this.disposeRoom();\n        });\n    }\n\n    disposeRoom() {\n        this.videoPanelVisible = true;\n        this.videoService.dispose();\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {OpenGraphService} from \"../open-graph.service\";\nimport {OpenGraphData, OpenGraphImageInfo} from \"../model/OpenGraphData\";\n\n@Component({\n  selector: 'app-link-preview',\n  templateUrl: './link-preview.component.html',\n  styleUrls: ['./link-preview.component.css']\n})\nexport class LinkPreviewComponent implements OnInit {\n  @Input() link: string;\n  @Input() openGraphData: OpenGraphData;\n  @Input() removable: boolean = true;\n  @Output() onLoad = new EventEmitter();\n  @Output() onDelete = new EventEmitter();\n\n  _hidden: boolean = false;\n\n  constructor(\n    private openGraphService: OpenGraphService\n  ) { }\n\n  ngOnInit() {\n    if (this.openGraphService.isLink(this.link)) {\n      this.loadPreview();\n    } else if(this.openGraphData) {\n      this.loadImageInfo();\n    } else{\n      this.setHidden(true);\n    }\n  }\n\n  isPreview(): boolean {\n    return !this.isHidden() && (!!this.link || !!this.openGraphData);\n  }\n\n  setData(data: OpenGraphData) {\n    if (!data || !data.title) {\n      return;\n    }\n    this.openGraphData = data;\n    this.loadImageInfo();\n    this.setHidden(false);\n  }\n\n  getData() {\n    return this.openGraphData;\n  }\n\n  setLink(link: string) {\n    if (this.link === link) {\n      return;\n    }\n    this.link = link;\n    this.loadPreview();\n  }\n\n  removePreView() {\n    this.onDelete.emit(this);\n    this.clearData();\n  }\n\n  getDomain(url: string): string {\n    if (!url) {\n      return '';\n    }\n    let domain = url.split('/')[2] || '';\n    return domain.replace('www.', '');\n  }\n\n  clearData() {\n    this.link = null;\n    this.openGraphData = null;\n    this.setHidden(true);\n  }\n\n  private loadPreview() {\n    this.setHidden(false);\n    if (this.openGraphService.isLink(this.link)) {\n      this.openGraphService.loadPreviewLink(this.link, (data: OpenGraphData) => {\n        if (data) {\n          this.setData(data);\n        } else {\n          this.setHidden(true);\n        }\n      });\n    } else {\n      this.setHidden(true);\n    }\n  }\n\n  private loadImageInfo() {\n    if (this.openGraphData && this.openGraphData.image) {\n      this.openGraphService.loadImageInfo(this.openGraphData.image, (imageInfo: OpenGraphImageInfo) => {\n        this.openGraphData.imageInfo = imageInfo;\n      });\n    }\n  }\n\n  private setHidden(hidden: boolean) {\n    this._hidden = hidden;\n  }\n  \n  private isHidden() {\n    return this._hidden;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {OpenGraphService} from \"./open-graph.service\";\nimport { LinkPreviewComponent } from \"./link-preview/link-preview.component\";\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    LinkPreviewComponent\n  ],\n  declarations: [\n    LinkPreviewComponent\n  ],\n  providers: [\n    OpenGraphService\n  ]\n})\nexport class OpenGraphModule { }\n","import {NgModule, Injectable} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AccentService, CoreModule, WebSocketClientService} from \"inet-core\";\nimport {ChatMessageService} from \"./message.service\";\nimport {ContactListComponent} from \"./component/contact-list/contact-list.component\";\nimport {MessageChatComponent} from \"./component/message-chat/message-chat.component\";\nimport { SearchInputComponent } from './component/search-input/search-input.component';\nimport { MessagePanelComponent } from './component/message-panel/message-panel.component';\nimport {FormsModule} from \"@angular/forms\";\nimport {AutosizeModule} from \"ngx-autosize\";\nimport {FileListModule} from \"./filelist/file-list.module\";\nimport {RoomChatComponent} from \"./component/room-chat/room-chat.component\";\nimport {VideoConferenceService} from \"./video-conference.service\";\nimport { OpenGraphModule } from './open-graph/open-graph.module';\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        CoreModule,\n        AutosizeModule,\n        FileListModule,\n        OpenGraphModule\n    ],\n    exports: [\n        MessageChatComponent,\n        ContactListComponent,\n        SearchInputComponent,\n        MessagePanelComponent\n    ],\n    declarations: [\n        MessageChatComponent,\n        ContactListComponent,\n        SearchInputComponent,\n        MessagePanelComponent,\n        RoomChatComponent\n    ],\n    providers: [\n        AccentService,\n        ChatMessageService,\n        VideoConferenceService,\n        WebSocketClientService\n    ]\n})\nexport class ChatMessageModule {\n}\n"],"names":["AccentService","HtmlUtils","Subject","Observable","Injectable","HttpClientService","WebSocketClientService","EventEmitter","Component","Output","ViewChild","Input","ErrorMessage","ViewEncapsulation","ElementRef","Pipe","NgModule","CommonModule","FormsModule","CoreModule","AutosizeModule"],"mappings":"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"}